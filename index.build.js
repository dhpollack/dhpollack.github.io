window.WebComponents=window.WebComponents||{},function(e){var t=e.flags||{},n="webcomponents-lite.js",r=document.querySelector('script[src*="'+n+'"]');if(!t.noOpts){if(location.search.slice(1).split("&").forEach(function(e){var n,r=e.split("=");r[0]&&(n=r[0].match(/wc-(.+)/))&&(t[n[1]]=r[1]||!0)}),r)for(var o,i=0;o=r.attributes[i];i++)"src"!==o.name&&(t[o.name]=o.value||!0);if(t.log){var a=t.log.split(",");t.log={},a.forEach(function(e){t.log[e]=!0})}else t.log={}}t.shadow=t.shadow||t.shadowdom||t.polyfill,t.shadow="native"===t.shadow?!1:t.shadow||!HTMLElement.prototype.createShadowRoot,t.register&&(window.CustomElements=window.CustomElements||{flags:{}},window.CustomElements.flags.register=t.register),e.flags=t}(window.WebComponents),function(e){"use strict";function t(e){return void 0!==h[e]}function n(){s.call(this),this._isInvalid=!0}function r(e){return""==e&&n.call(this),e.toLowerCase()}function o(e){var t=e.charCodeAt(0);return t>32&&127>t&&-1==[34,35,60,62,63,96].indexOf(t)?e:encodeURIComponent(e)}function i(e){var t=e.charCodeAt(0);return t>32&&127>t&&-1==[34,35,60,62,96].indexOf(t)?e:encodeURIComponent(e)}function a(e,a,s){function c(e){b.push(e)}var d=a||"scheme start",l=0,u="",_=!1,g=!1,b=[];e:for(;(e[l-1]!=f||0==l)&&!this._isInvalid;){var w=e[l];switch(d){case"scheme start":if(!w||!m.test(w)){if(a){c("Invalid scheme.");break e}u="",d="no scheme";continue}u+=w.toLowerCase(),d="scheme";break;case"scheme":if(w&&v.test(w))u+=w.toLowerCase();else{if(":"!=w){if(a){if(f==w)break e;c("Code point not allowed in scheme: "+w);break e}u="",l=0,d="no scheme";continue}if(this._scheme=u,u="",a)break e;t(this._scheme)&&(this._isRelative=!0),d="file"==this._scheme?"relative":this._isRelative&&s&&s._scheme==this._scheme?"relative or authority":this._isRelative?"authority first slash":"scheme data"}break;case"scheme data":"?"==w?(this._query="?",d="query"):"#"==w?(this._fragment="#",d="fragment"):f!=w&&"	"!=w&&"\n"!=w&&"\r"!=w&&(this._schemeData+=o(w));break;case"no scheme":if(s&&t(s._scheme)){d="relative";continue}c("Missing scheme."),n.call(this);break;case"relative or authority":if("/"!=w||"/"!=e[l+1]){c("Expected /, got: "+w),d="relative";continue}d="authority ignore slashes";break;case"relative":if(this._isRelative=!0,"file"!=this._scheme&&(this._scheme=s._scheme),f==w){this._host=s._host,this._port=s._port,this._path=s._path.slice(),this._query=s._query,this._username=s._username,this._password=s._password;break e}if("/"==w||"\\"==w)"\\"==w&&c("\\ is an invalid code point."),d="relative slash";else if("?"==w)this._host=s._host,this._port=s._port,this._path=s._path.slice(),this._query="?",this._username=s._username,this._password=s._password,d="query";else{if("#"!=w){var y=e[l+1],E=e[l+2];("file"!=this._scheme||!m.test(w)||":"!=y&&"|"!=y||f!=E&&"/"!=E&&"\\"!=E&&"?"!=E&&"#"!=E)&&(this._host=s._host,this._port=s._port,this._username=s._username,this._password=s._password,this._path=s._path.slice(),this._path.pop()),d="relative path";continue}this._host=s._host,this._port=s._port,this._path=s._path.slice(),this._query=s._query,this._fragment="#",this._username=s._username,this._password=s._password,d="fragment"}break;case"relative slash":if("/"!=w&&"\\"!=w){"file"!=this._scheme&&(this._host=s._host,this._port=s._port,this._username=s._username,this._password=s._password),d="relative path";continue}"\\"==w&&c("\\ is an invalid code point."),d="file"==this._scheme?"file host":"authority ignore slashes";break;case"authority first slash":if("/"!=w){c("Expected '/', got: "+w),d="authority ignore slashes";continue}d="authority second slash";break;case"authority second slash":if(d="authority ignore slashes","/"!=w){c("Expected '/', got: "+w);continue}break;case"authority ignore slashes":if("/"!=w&&"\\"!=w){d="authority";continue}c("Expected authority, got: "+w);break;case"authority":if("@"==w){_&&(c("@ already seen."),u+="%40"),_=!0;for(var L=0;L<u.length;L++){var M=u[L];if("	"!=M&&"\n"!=M&&"\r"!=M)if(":"!=M||null!==this._password){var T=o(M);null!==this._password?this._password+=T:this._username+=T}else this._password="";else c("Invalid whitespace in authority.")}u=""}else{if(f==w||"/"==w||"\\"==w||"?"==w||"#"==w){l-=u.length,u="",d="host";continue}u+=w}break;case"file host":if(f==w||"/"==w||"\\"==w||"?"==w||"#"==w){2!=u.length||!m.test(u[0])||":"!=u[1]&&"|"!=u[1]?0==u.length?d="relative path start":(this._host=r.call(this,u),u="",d="relative path start"):d="relative path";continue}"	"==w||"\n"==w||"\r"==w?c("Invalid whitespace in file host."):u+=w;break;case"host":case"hostname":if(":"!=w||g){if(f==w||"/"==w||"\\"==w||"?"==w||"#"==w){if(this._host=r.call(this,u),u="",d="relative path start",a)break e;continue}"	"!=w&&"\n"!=w&&"\r"!=w?("["==w?g=!0:"]"==w&&(g=!1),u+=w):c("Invalid code point in host/hostname: "+w)}else if(this._host=r.call(this,u),u="",d="port","hostname"==a)break e;break;case"port":if(/[0-9]/.test(w))u+=w;else{if(f==w||"/"==w||"\\"==w||"?"==w||"#"==w||a){if(""!=u){var N=parseInt(u,10);N!=h[this._scheme]&&(this._port=N+""),u=""}if(a)break e;d="relative path start";continue}"	"==w||"\n"==w||"\r"==w?c("Invalid code point in port: "+w):n.call(this)}break;case"relative path start":if("\\"==w&&c("'\\' not allowed in path."),d="relative path","/"!=w&&"\\"!=w)continue;break;case"relative path":if(f!=w&&"/"!=w&&"\\"!=w&&(a||"?"!=w&&"#"!=w))"	"!=w&&"\n"!=w&&"\r"!=w&&(u+=o(w));else{"\\"==w&&c("\\ not allowed in relative path.");var O;(O=p[u.toLowerCase()])&&(u=O),".."==u?(this._path.pop(),"/"!=w&&"\\"!=w&&this._path.push("")):"."==u&&"/"!=w&&"\\"!=w?this._path.push(""):"."!=u&&("file"==this._scheme&&0==this._path.length&&2==u.length&&m.test(u[0])&&"|"==u[1]&&(u=u[0]+":"),this._path.push(u)),u="","?"==w?(this._query="?",d="query"):"#"==w&&(this._fragment="#",d="fragment")}break;case"query":a||"#"!=w?f!=w&&"	"!=w&&"\n"!=w&&"\r"!=w&&(this._query+=i(w)):(this._fragment="#",d="fragment");break;case"fragment":f!=w&&"	"!=w&&"\n"!=w&&"\r"!=w&&(this._fragment+=w)}l++}}function s(){this._scheme="",this._schemeData="",this._username="",this._password=null,this._host="",this._port="",this._path=[],this._query="",this._fragment="",this._isInvalid=!1,this._isRelative=!1}function c(e,t){void 0===t||t instanceof c||(t=new c(String(t))),this._url=e,s.call(this);var n=e.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");a.call(this,n,null,t)}var d=!1;if(!e.forceJURL)try{var l=new URL("b","http://a");l.pathname="c%20d",d="http://a/c%20d"===l.href}catch(u){}if(!d){var h=Object.create(null);h.ftp=21,h.file=0,h.gopher=70,h.http=80,h.https=443,h.ws=80,h.wss=443;var p=Object.create(null);p["%2e"]=".",p[".%2e"]="..",p["%2e."]="..",p["%2e%2e"]="..";var f=void 0,m=/[a-zA-Z]/,v=/[a-zA-Z0-9\+\-\.]/;c.prototype={toString:function(){return this.href},get href(){if(this._isInvalid)return this._url;var e="";return(""!=this._username||null!=this._password)&&(e=this._username+(null!=this._password?":"+this._password:"")+"@"),this.protocol+(this._isRelative?"//"+e+this.host:"")+this.pathname+this._query+this._fragment},set href(e){s.call(this),a.call(this,e)},get protocol(){return this._scheme+":"},set protocol(e){this._isInvalid||a.call(this,e+":","scheme start")},get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(e){!this._isInvalid&&this._isRelative&&a.call(this,e,"host")},get hostname(){return this._host},set hostname(e){!this._isInvalid&&this._isRelative&&a.call(this,e,"hostname")},get port(){return this._port},set port(e){!this._isInvalid&&this._isRelative&&a.call(this,e,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(e){!this._isInvalid&&this._isRelative&&(this._path=[],a.call(this,e,"relative path start"))},get search(){return this._isInvalid||!this._query||"?"==this._query?"":this._query},set search(e){!this._isInvalid&&this._isRelative&&(this._query="?","?"==e[0]&&(e=e.slice(1)),a.call(this,e,"query"))},get hash(){return this._isInvalid||!this._fragment||"#"==this._fragment?"":this._fragment},set hash(e){this._isInvalid||(this._fragment="#","#"==e[0]&&(e=e.slice(1)),a.call(this,e,"fragment"))},get origin(){var e;if(this._isInvalid||!this._scheme)return"";switch(this._scheme){case"data":case"file":case"javascript":case"mailto":return"null"}return e=this.host,e?this._scheme+"://"+e:""}};var _=e.URL;_&&(c.createObjectURL=function(e){return _.createObjectURL.apply(_,arguments)},c.revokeObjectURL=function(e){_.revokeObjectURL(e)}),e.URL=c}}(this),"undefined"==typeof WeakMap&&!function(){var e=Object.defineProperty,t=Date.now()%1e9,n=function(){this.name="__st"+(1e9*Math.random()>>>0)+(t++ +"__")};n.prototype={set:function(t,n){var r=t[this.name];return r&&r[0]===t?r[1]=n:e(t,this.name,{value:[t,n],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:void 0},"delete":function(e){var t=e[this.name];return t&&t[0]===e?(t[0]=t[1]=void 0,!0):!1},has:function(e){var t=e[this.name];return t?t[0]===e:!1}},window.WeakMap=n}(),function(e){function t(e){w.push(e),b||(b=!0,m(r))}function n(e){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(e)||e}function r(){b=!1;var e=w;w=[],e.sort(function(e,t){return e.uid_-t.uid_});var t=!1;e.forEach(function(e){var n=e.takeRecords();o(e),n.length&&(e.callback_(n,e),t=!0)}),t&&r()}function o(e){e.nodes_.forEach(function(t){var n=v.get(t);n&&n.forEach(function(t){t.observer===e&&t.removeTransientObservers()})})}function i(e,t){for(var n=e;n;n=n.parentNode){var r=v.get(n);if(r)for(var o=0;o<r.length;o++){var i=r[o],a=i.options;if(n===e||a.subtree){var s=t(a);s&&i.enqueue(s)}}}}function a(e){this.callback_=e,this.nodes_=[],this.records_=[],this.uid_=++y}function s(e,t){this.type=e,this.target=t,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function c(e){var t=new s(e.type,e.target);return t.addedNodes=e.addedNodes.slice(),t.removedNodes=e.removedNodes.slice(),t.previousSibling=e.previousSibling,t.nextSibling=e.nextSibling,t.attributeName=e.attributeName,t.attributeNamespace=e.attributeNamespace,t.oldValue=e.oldValue,t}function d(e,t){return E=new s(e,t)}function l(e){return L?L:(L=c(E),L.oldValue=e,L)}function u(){E=L=void 0}function h(e){return e===L||e===E}function p(e,t){return e===t?e:L&&h(e)?L:null}function f(e,t,n){this.observer=e,this.target=t,this.options=n,this.transientObservedNodes=[]}var m,v=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))m=setTimeout;else if(window.setImmediate)m=window.setImmediate;else{var _=[],g=String(Math.random());window.addEventListener("message",function(e){if(e.data===g){var t=_;_=[],t.forEach(function(e){e()})}}),m=function(e){_.push(e),window.postMessage(g,"*")}}var b=!1,w=[],y=0;a.prototype={observe:function(e,t){if(e=n(e),!t.childList&&!t.attributes&&!t.characterData||t.attributeOldValue&&!t.attributes||t.attributeFilter&&t.attributeFilter.length&&!t.attributes||t.characterDataOldValue&&!t.characterData)throw new SyntaxError;var r=v.get(e);r||v.set(e,r=[]);for(var o,i=0;i<r.length;i++)if(r[i].observer===this){o=r[i],o.removeListeners(),o.options=t;break}o||(o=new f(this,e,t),r.push(o),this.nodes_.push(e)),o.addListeners()},disconnect:function(){this.nodes_.forEach(function(e){for(var t=v.get(e),n=0;n<t.length;n++){var r=t[n];if(r.observer===this){r.removeListeners(),t.splice(n,1);break}}},this),this.records_=[]},takeRecords:function(){var e=this.records_;return this.records_=[],e}};var E,L;f.prototype={enqueue:function(e){var n=this.observer.records_,r=n.length;if(n.length>0){var o=n[r-1],i=p(o,e);if(i)return void(n[r-1]=i)}else t(this.observer);n[r]=e},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(e){var t=this.options;t.attributes&&e.addEventListener("DOMAttrModified",this,!0),t.characterData&&e.addEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.addEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(e){var t=this.options;t.attributes&&e.removeEventListener("DOMAttrModified",this,!0),t.characterData&&e.removeEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.removeEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(e){if(e!==this.target){this.addListeners_(e),this.transientObservedNodes.push(e);var t=v.get(e);t||v.set(e,t=[]),t.push(this)}},removeTransientObservers:function(){var e=this.transientObservedNodes;this.transientObservedNodes=[],e.forEach(function(e){this.removeListeners_(e);for(var t=v.get(e),n=0;n<t.length;n++)if(t[n]===this){t.splice(n,1);break}},this)},handleEvent:function(e){switch(e.stopImmediatePropagation(),e.type){case"DOMAttrModified":var t=e.attrName,n=e.relatedNode.namespaceURI,r=e.target,o=new d("attributes",r);o.attributeName=t,o.attributeNamespace=n;var a=e.attrChange===MutationEvent.ADDITION?null:e.prevValue;i(r,function(e){return!e.attributes||e.attributeFilter&&e.attributeFilter.length&&-1===e.attributeFilter.indexOf(t)&&-1===e.attributeFilter.indexOf(n)?void 0:e.attributeOldValue?l(a):o});break;case"DOMCharacterDataModified":var r=e.target,o=d("characterData",r),a=e.prevValue;i(r,function(e){return e.characterData?e.characterDataOldValue?l(a):o:void 0});break;case"DOMNodeRemoved":this.addTransientObserver(e.target);case"DOMNodeInserted":var s,c,h=e.target;"DOMNodeInserted"===e.type?(s=[h],c=[]):(s=[],c=[h]);var p=h.previousSibling,f=h.nextSibling,o=d("childList",e.target.parentNode);o.addedNodes=s,o.removedNodes=c,o.previousSibling=p,o.nextSibling=f,i(e.relatedNode,function(e){return e.childList?o:void 0})}u()}},e.JsMutationObserver=a,e.MutationObserver||(e.MutationObserver=a)}(this),window.HTMLImports=window.HTMLImports||{flags:{}},function(e){function t(e,t){t=t||f,r(function(){i(e,t)},t)}function n(e){return"complete"===e.readyState||e.readyState===_}function r(e,t){if(n(t))e&&e();else{var o=function(){("complete"===t.readyState||t.readyState===_)&&(t.removeEventListener(g,o),r(e,t))};t.addEventListener(g,o)}}function o(e){e.target.__loaded=!0}function i(e,t){function n(){c==d&&e&&e({allImports:s,loadedImports:l,errorImports:u})}function r(e){o(e),l.push(this),c++,n()}function i(e){u.push(this),c++,n()}var s=t.querySelectorAll("link[rel=import]"),c=0,d=s.length,l=[],u=[];if(d)for(var h,p=0;d>p&&(h=s[p]);p++)a(h)?(c++,n()):(h.addEventListener("load",r),h.addEventListener("error",i));else n()}function a(e){return u?e.__loaded||e["import"]&&"loading"!==e["import"].readyState:e.__importParsed}function s(e){for(var t,n=0,r=e.length;r>n&&(t=e[n]);n++)c(t)&&d(t)}function c(e){return"link"===e.localName&&"import"===e.rel}function d(e){var t=e["import"];t?o({target:e}):(e.addEventListener("load",o),e.addEventListener("error",o))}var l="import",u=Boolean(l in document.createElement("link")),h=Boolean(window.ShadowDOMPolyfill),p=function(e){return h?ShadowDOMPolyfill.wrapIfNeeded(e):e},f=p(document),m={get:function(){var e=HTMLImports.currentScript||document.currentScript||("complete"!==document.readyState?document.scripts[document.scripts.length-1]:null);return p(e)},configurable:!0};Object.defineProperty(document,"_currentScript",m),Object.defineProperty(f,"_currentScript",m);var v=/Trident|Edge/.test(navigator.userAgent),_=v?"complete":"interactive",g="readystatechange";u&&(new MutationObserver(function(e){for(var t,n=0,r=e.length;r>n&&(t=e[n]);n++)t.addedNodes&&s(t.addedNodes)}).observe(document.head,{childList:!0}),function(){if("loading"===document.readyState)for(var e,t=document.querySelectorAll("link[rel=import]"),n=0,r=t.length;r>n&&(e=t[n]);n++)d(e)}()),t(function(e){HTMLImports.ready=!0,HTMLImports.readyTime=(new Date).getTime();var t=f.createEvent("CustomEvent");t.initCustomEvent("HTMLImportsLoaded",!0,!0,e),f.dispatchEvent(t)}),e.IMPORT_LINK_TYPE=l,e.useNative=u,e.rootDocument=f,e.whenReady=t,e.isIE=v}(window.HTMLImports),function(e){var t=[],n=function(e){t.push(e)},r=function(){t.forEach(function(t){t(e)})};e.addModule=n,e.initializeModules=r}(window.HTMLImports),window.HTMLImports.addModule(function(e){var t=/(url\()([^)]*)(\))/g,n=/(@import[\s]+(?!url\())([^;]*)(;)/g,r={resolveUrlsInStyle:function(e,t){var n=e.ownerDocument,r=n.createElement("a");return e.textContent=this.resolveUrlsInCssText(e.textContent,t,r),e},resolveUrlsInCssText:function(e,r,o){var i=this.replaceUrls(e,o,r,t);return i=this.replaceUrls(i,o,r,n)},replaceUrls:function(e,t,n,r){return e.replace(r,function(e,r,o,i){var a=o.replace(/["']/g,"");return n&&(a=new URL(a,n).href),t.href=a,a=t.href,r+"'"+a+"'"+i})}};e.path=r}),window.HTMLImports.addModule(function(e){var t={async:!0,ok:function(e){return e.status>=200&&e.status<300||304===e.status||0===e.status},load:function(n,r,o){var i=new XMLHttpRequest;return(e.flags.debug||e.flags.bust)&&(n+="?"+Math.random()),i.open("GET",n,t.async),i.addEventListener("readystatechange",function(e){if(4===i.readyState){var n=i.getResponseHeader("Location"),a=null;if(n)var a="/"===n.substr(0,1)?location.origin+n:n;r.call(o,!t.ok(i)&&i,i.response||i.responseText,a)}}),i.send(),i},loadDocument:function(e,t,n){this.load(e,t,n).responseType="document"}};e.xhr=t}),window.HTMLImports.addModule(function(e){var t=e.xhr,n=e.flags,r=function(e,t){this.cache={},this.onload=e,this.oncomplete=t,this.inflight=0,this.pending={}};r.prototype={addNodes:function(e){this.inflight+=e.length;for(var t,n=0,r=e.length;r>n&&(t=e[n]);n++)this.require(t);this.checkDone()},addNode:function(e){this.inflight++,this.require(e),this.checkDone()},require:function(e){var t=e.src||e.href;e.__nodeUrl=t,this.dedupe(t,e)||this.fetch(t,e)},dedupe:function(e,t){return this.pending[e]?(this.pending[e].push(t),!0):this.cache[e]?(this.onload(e,t,this.cache[e]),this.tail(),!0):(this.pending[e]=[t],!1)},fetch:function(e,r){if(n.load&&console.log("fetch",e,r),e)if(e.match(/^data:/)){var o=e.split(","),i=o[0],a=o[1];a=i.indexOf(";base64")>-1?atob(a):decodeURIComponent(a),setTimeout(function(){this.receive(e,r,null,a)}.bind(this),0)}else{var s=function(t,n,o){this.receive(e,r,t,n,o)}.bind(this);t.load(e,s)}else setTimeout(function(){this.receive(e,r,{error:"href must be specified"},null)}.bind(this),0)},receive:function(e,t,n,r,o){this.cache[e]=r;for(var i,a=this.pending[e],s=0,c=a.length;c>s&&(i=a[s]);s++)this.onload(e,i,r,n,o),this.tail();this.pending[e]=null},tail:function(){--this.inflight,this.checkDone()},checkDone:function(){this.inflight||this.oncomplete()}},e.Loader=r}),window.HTMLImports.addModule(function(e){var t=function(e){this.addCallback=e,this.mo=new MutationObserver(this.handler.bind(this))};t.prototype={handler:function(e){for(var t,n=0,r=e.length;r>n&&(t=e[n]);n++)"childList"===t.type&&t.addedNodes.length&&this.addedNodes(t.addedNodes)},addedNodes:function(e){this.addCallback&&this.addCallback(e);for(var t,n=0,r=e.length;r>n&&(t=e[n]);n++)t.children&&t.children.length&&this.addedNodes(t.children)},observe:function(e){this.mo.observe(e,{childList:!0,subtree:!0})}},e.Observer=t}),window.HTMLImports.addModule(function(e){function t(e){return"link"===e.localName&&e.rel===l}function n(e){var t=r(e);return"data:text/javascript;charset=utf-8,"+encodeURIComponent(t)}function r(e){return e.textContent+o(e)}function o(e){var t=e.ownerDocument;t.__importedScripts=t.__importedScripts||0;var n=e.ownerDocument.baseURI,r=t.__importedScripts?"-"+t.__importedScripts:"";return t.__importedScripts++,"\n//# sourceURL="+n+r+".js\n"}function i(e){var t=e.ownerDocument.createElement("style");return t.textContent=e.textContent,a.resolveUrlsInStyle(t),t}var a=e.path,s=e.rootDocument,c=e.flags,d=e.isIE,l=e.IMPORT_LINK_TYPE,u="link[rel="+l+"]",h={documentSelectors:u,importsSelectors:[u,"link[rel=stylesheet]","style","script:not([type])",'script[type="application/javascript"]','script[type="text/javascript"]'].join(","),map:{link:"parseLink",script:"parseScript",style:"parseStyle"},dynamicElements:[],parseNext:function(){var e=this.nextToParse();e&&this.parse(e)},parse:function(e){if(this.isParsed(e))return void(c.parse&&console.log("[%s] is already parsed",e.localName));var t=this[this.map[e.localName]];t&&(this.markParsing(e),t.call(this,e))},parseDynamic:function(e,t){this.dynamicElements.push(e),t||this.parseNext()},markParsing:function(e){c.parse&&console.log("parsing",e),this.parsingElement=e},markParsingComplete:function(e){e.__importParsed=!0,this.markDynamicParsingComplete(e),e.__importElement&&(e.__importElement.__importParsed=!0,this.markDynamicParsingComplete(e.__importElement)),this.parsingElement=null,c.parse&&console.log("completed",e)},markDynamicParsingComplete:function(e){var t=this.dynamicElements.indexOf(e);t>=0&&this.dynamicElements.splice(t,1)},parseImport:function(e){if(HTMLImports.__importsParsingHook&&HTMLImports.__importsParsingHook(e),e["import"]&&(e["import"].__importParsed=!0),this.markParsingComplete(e),e.dispatchEvent(e.__resource&&!e.__error?new CustomEvent("load",{bubbles:!1}):new CustomEvent("error",{bubbles:!1})),e.__pending)for(var t;e.__pending.length;)t=e.__pending.shift(),t&&t({target:e});this.parseNext()},parseLink:function(e){t(e)?this.parseImport(e):(e.href=e.href,this.parseGeneric(e))},parseStyle:function(e){var t=e;e=i(e),t.__appliedElement=e,e.__importElement=t,this.parseGeneric(e)},parseGeneric:function(e){this.trackElement(e),this.addElementToDocument(e)},rootImportForElement:function(e){for(var t=e;t.ownerDocument.__importLink;)t=t.ownerDocument.__importLink;return t},addElementToDocument:function(e){var t=this.rootImportForElement(e.__importElement||e);t.parentNode.insertBefore(e,t)},trackElement:function(e,t){var n=this,r=function(r){t&&t(r),n.markParsingComplete(e),n.parseNext()};if(e.addEventListener("load",r),e.addEventListener("error",r),d&&"style"===e.localName){var o=!1;if(-1==e.textContent.indexOf("@import"))o=!0;else if(e.sheet){o=!0;for(var i,a=e.sheet.cssRules,s=a?a.length:0,c=0;s>c&&(i=a[c]);c++)i.type===CSSRule.IMPORT_RULE&&(o=o&&Boolean(i.styleSheet))}o&&setTimeout(function(){e.dispatchEvent(new CustomEvent("load",{bubbles:!1}))})}},parseScript:function(t){var r=document.createElement("script");r.__importElement=t,r.src=t.src?t.src:n(t),e.currentScript=t,this.trackElement(r,function(t){r.parentNode.removeChild(r),e.currentScript=null}),this.addElementToDocument(r)},nextToParse:function(){return this._mayParse=[],!this.parsingElement&&(this.nextToParseInDoc(s)||this.nextToParseDynamic())},nextToParseInDoc:function(e,n){if(e&&this._mayParse.indexOf(e)<0){this._mayParse.push(e);for(var r,o=e.querySelectorAll(this.parseSelectorsForNode(e)),i=0,a=o.length;a>i&&(r=o[i]);i++)if(!this.isParsed(r))return this.hasResource(r)?t(r)?this.nextToParseInDoc(r["import"],r):r:void 0}return n},nextToParseDynamic:function(){return this.dynamicElements[0]},parseSelectorsForNode:function(e){var t=e.ownerDocument||e;return t===s?this.documentSelectors:this.importsSelectors},isParsed:function(e){return e.__importParsed},needsDynamicParsing:function(e){return this.dynamicElements.indexOf(e)>=0},hasResource:function(e){return t(e)&&void 0===e["import"]?!1:!0}};e.parser=h,e.IMPORT_SELECTOR=u}),window.HTMLImports.addModule(function(e){function t(e){return n(e,a)}function n(e,t){return"link"===e.localName&&e.getAttribute("rel")===t}function r(e){return!!Object.getOwnPropertyDescriptor(e,"baseURI")}function o(e,t){var n=document.implementation.createHTMLDocument(a);n._URL=t;var o=n.createElement("base");o.setAttribute("href",t),n.baseURI||r(n)||Object.defineProperty(n,"baseURI",{value:t});var i=n.createElement("meta");return i.setAttribute("charset","utf-8"),n.head.appendChild(i),n.head.appendChild(o),n.body.innerHTML=e,window.HTMLTemplateElement&&HTMLTemplateElement.bootstrap&&HTMLTemplateElement.bootstrap(n),n}var i=e.flags,a=e.IMPORT_LINK_TYPE,s=e.IMPORT_SELECTOR,c=e.rootDocument,d=e.Loader,l=e.Observer,u=e.parser,h={documents:{},documentPreloadSelectors:s,importsPreloadSelectors:[s].join(","),loadNode:function(e){p.addNode(e)},loadSubtree:function(e){var t=this.marshalNodes(e);p.addNodes(t)},marshalNodes:function(e){return e.querySelectorAll(this.loadSelectorsForNode(e))},loadSelectorsForNode:function(e){var t=e.ownerDocument||e;return t===c?this.documentPreloadSelectors:this.importsPreloadSelectors},loaded:function(e,n,r,a,s){if(i.load&&console.log("loaded",e,n),n.__resource=r,n.__error=a,t(n)){var c=this.documents[e];void 0===c&&(c=a?null:o(r,s||e),c&&(c.__importLink=n,this.bootDocument(c)),this.documents[e]=c),n["import"]=c}u.parseNext()},bootDocument:function(e){this.loadSubtree(e),this.observer.observe(e),u.parseNext()},loadedAll:function(){u.parseNext()}},p=new d(h.loaded.bind(h),h.loadedAll.bind(h));if(h.observer=new l,!document.baseURI){var f={get:function(){var e=document.querySelector("base");return e?e.href:window.location.href},configurable:!0};Object.defineProperty(document,"baseURI",f),Object.defineProperty(c,"baseURI",f)}e.importer=h,e.importLoader=p}),window.HTMLImports.addModule(function(e){var t=e.parser,n=e.importer,r={added:function(e){for(var r,o,i,a,s=0,c=e.length;c>s&&(a=e[s]);s++)r||(r=a.ownerDocument,o=t.isParsed(r)),i=this.shouldLoadNode(a),i&&n.loadNode(a),this.shouldParseNode(a)&&o&&t.parseDynamic(a,i)},shouldLoadNode:function(e){return 1===e.nodeType&&o.call(e,n.loadSelectorsForNode(e))},shouldParseNode:function(e){return 1===e.nodeType&&o.call(e,t.parseSelectorsForNode(e))}};n.observer.addCallback=r.added.bind(r);var o=HTMLElement.prototype.matches||HTMLElement.prototype.matchesSelector||HTMLElement.prototype.webkitMatchesSelector||HTMLElement.prototype.mozMatchesSelector||HTMLElement.prototype.msMatchesSelector}),function(e){function t(){HTMLImports.importer.bootDocument(o)}var n=e.initializeModules,r=e.isIE;if(!e.useNative){r&&"function"!=typeof window.CustomEvent&&(window.CustomEvent=function(e,t){t=t||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,Boolean(t.bubbles),Boolean(t.cancelable),t.detail),n},window.CustomEvent.prototype=window.Event.prototype),n();var o=e.rootDocument;"complete"===document.readyState||"interactive"===document.readyState&&!window.attachEvent?t():document.addEventListener("DOMContentLoaded",t)}}(window.HTMLImports),window.CustomElements=window.CustomElements||{flags:{}},function(e){var t=e.flags,n=[],r=function(e){n.push(e)},o=function(){n.forEach(function(t){t(e)})};e.addModule=r,e.initializeModules=o,e.hasNative=Boolean(document.registerElement),e.useNative=!t.register&&e.hasNative&&!window.ShadowDOMPolyfill&&(!window.HTMLImports||HTMLImports.useNative)}(window.CustomElements),window.CustomElements.addModule(function(e){function t(e,t){n(e,function(e){return t(e)?!0:void r(e,t)}),r(e,t)}function n(e,t,r){var o=e.firstElementChild;if(!o)for(o=e.firstChild;o&&o.nodeType!==Node.ELEMENT_NODE;)o=o.nextSibling;for(;o;)t(o,r)!==!0&&n(o,t,r),o=o.nextElementSibling;return null}function r(e,n){for(var r=e.shadowRoot;r;)t(r,n),r=r.olderShadowRoot}function o(e,t){i(e,t,[])}function i(e,t,n){if(e=wrap(e),!(n.indexOf(e)>=0)){n.push(e);for(var r,o=e.querySelectorAll("link[rel="+a+"]"),s=0,c=o.length;c>s&&(r=o[s]);s++)r["import"]&&i(r["import"],t,n);t(e)}}var a=window.HTMLImports?HTMLImports.IMPORT_LINK_TYPE:"none";e.forDocumentTree=o,e.forSubtree=t}),window.CustomElements.addModule(function(e){function t(e){return n(e)||r(e)}function n(t){return e.upgrade(t)?!0:void s(t)}function r(e){w(e,function(e){return n(e)?!0:void 0})}function o(e){s(e),h(e)&&w(e,function(e){s(e)})}function i(e){M.push(e),L||(L=!0,setTimeout(a))}function a(){L=!1;for(var e,t=M,n=0,r=t.length;r>n&&(e=t[n]);n++)e();M=[]}function s(e){E?i(function(){c(e)}):c(e)}function c(e){e.__upgraded__&&(e.attachedCallback||e.detachedCallback)&&!e.__attached&&h(e)&&(e.__attached=!0,e.attachedCallback&&e.attachedCallback())}function d(e){l(e),w(e,function(e){l(e)})}function l(e){E?i(function(){u(e)}):u(e)}function u(e){e.__upgraded__&&(e.attachedCallback||e.detachedCallback)&&e.__attached&&!h(e)&&(e.__attached=!1,e.detachedCallback&&e.detachedCallback())}function h(e){for(var t=e,n=wrap(document);t;){if(t==n)return!0;t=t.parentNode||t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&t.host}}function p(e){if(e.shadowRoot&&!e.shadowRoot.__watched){b.dom&&console.log("watching shadow-root for: ",e.localName);for(var t=e.shadowRoot;t;)v(t),t=t.olderShadowRoot}}function f(e){if(b.dom){var n=e[0];if(n&&"childList"===n.type&&n.addedNodes&&n.addedNodes){for(var r=n.addedNodes[0];r&&r!==document&&!r.host;)r=r.parentNode;var o=r&&(r.URL||r._URL||r.host&&r.host.localName)||"";o=o.split("/?").shift().split("/").pop()}console.group("mutations (%d) [%s]",e.length,o||"")}e.forEach(function(e){"childList"===e.type&&(T(e.addedNodes,function(e){e.localName&&t(e)}),T(e.removedNodes,function(e){e.localName&&d(e)}))}),b.dom&&console.groupEnd()}function m(e){for(e=wrap(e),e||(e=wrap(document));e.parentNode;)e=e.parentNode;var t=e.__observer;t&&(f(t.takeRecords()),a())}function v(e){if(!e.__observer){var t=new MutationObserver(f);t.observe(e,{childList:!0,subtree:!0}),e.__observer=t}}function _(e){e=wrap(e),b.dom&&console.group("upgradeDocument: ",e.baseURI.split("/").pop()),t(e),v(e),b.dom&&console.groupEnd()}function g(e){y(e,_)}var b=e.flags,w=e.forSubtree,y=e.forDocumentTree,E=!window.MutationObserver||window.MutationObserver===window.JsMutationObserver;e.hasPolyfillMutations=E;var L=!1,M=[],T=Array.prototype.forEach.call.bind(Array.prototype.forEach),N=Element.prototype.createShadowRoot;N&&(Element.prototype.createShadowRoot=function(){var e=N.call(this);return CustomElements.watchShadow(this),e}),e.watchShadow=p,e.upgradeDocumentTree=g,e.upgradeSubtree=r,e.upgradeAll=t,e.attachedNode=o,e.takeRecords=m}),window.CustomElements.addModule(function(e){function t(t){if(!t.__upgraded__&&t.nodeType===Node.ELEMENT_NODE){var r=t.getAttribute("is"),o=e.getRegisteredDefinition(r||t.localName);if(o){if(r&&o.tag==t.localName)return n(t,o);if(!r&&!o["extends"])return n(t,o)}}}function n(t,n){return a.upgrade&&console.group("upgrade:",t.localName),n.is&&t.setAttribute("is",n.is),r(t,n),t.__upgraded__=!0,i(t),e.attachedNode(t),e.upgradeSubtree(t),a.upgrade&&console.groupEnd(),t}function r(e,t){Object.__proto__?e.__proto__=t.prototype:(o(e,t.prototype,t["native"]),e.__proto__=t.prototype)}function o(e,t,n){for(var r={},o=t;o!==n&&o!==HTMLElement.prototype;){for(var i,a=Object.getOwnPropertyNames(o),s=0;i=a[s];s++)r[i]||(Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(o,i)),r[i]=1);o=Object.getPrototypeOf(o)}}function i(e){e.createdCallback&&e.createdCallback()}var a=e.flags;e.upgrade=t,e.upgradeWithDefinition=n,e.implementPrototype=r}),window.CustomElements.addModule(function(e){function t(t,r){var c=r||{};if(!t)throw new Error("document.registerElement: first argument `name` must not be empty");if(t.indexOf("-")<0)throw new Error("document.registerElement: first argument ('name') must contain a dash ('-'). Argument provided was '"+String(t)+"'.");if(o(t))throw new Error("Failed to execute 'registerElement' on 'Document': Registration failed for type '"+String(t)+"'. The type name is invalid.");if(d(t))throw new Error("DuplicateDefinitionError: a type with name '"+String(t)+"' is already registered");return c.prototype||(c.prototype=Object.create(HTMLElement.prototype)),c.__name=t.toLowerCase(),c.lifecycle=c.lifecycle||{},c.ancestry=i(c["extends"]),a(c),s(c),n(c.prototype),l(c.__name,c),c.ctor=u(c),c.ctor.prototype=c.prototype,c.prototype.constructor=c.ctor,e.ready&&_(document),c.ctor}function n(e){if(!e.setAttribute._polyfilled){var t=e.setAttribute;e.setAttribute=function(e,n){r.call(this,e,n,t)};var n=e.removeAttribute;e.removeAttribute=function(e){r.call(this,e,null,n)},e.setAttribute._polyfilled=!0}}function r(e,t,n){e=e.toLowerCase();var r=this.getAttribute(e);n.apply(this,arguments);var o=this.getAttribute(e);this.attributeChangedCallback&&o!==r&&this.attributeChangedCallback(e,r,o);
}function o(e){for(var t=0;t<E.length;t++)if(e===E[t])return!0}function i(e){var t=d(e);return t?i(t["extends"]).concat([t]):[]}function a(e){for(var t,n=e["extends"],r=0;t=e.ancestry[r];r++)n=t.is&&t.tag;e.tag=n||e.__name,n&&(e.is=e.__name)}function s(e){if(!Object.__proto__){var t=HTMLElement.prototype;if(e.is){var n=document.createElement(e.tag),r=Object.getPrototypeOf(n);r===e.prototype&&(t=r)}for(var o,i=e.prototype;i&&i!==t;)o=Object.getPrototypeOf(i),i.__proto__=o,i=o;e["native"]=t}}function c(e){return b(T(e.tag),e)}function d(e){return e?L[e.toLowerCase()]:void 0}function l(e,t){L[e]=t}function u(e){return function(){return c(e)}}function h(e,t,n){return e===M?p(t,n):N(e,t)}function p(e,t){e&&(e=e.toLowerCase()),t&&(t=t.toLowerCase());var n=d(t||e);if(n){if(e==n.tag&&t==n.is)return new n.ctor;if(!t&&!n.is)return new n.ctor}var r;return t?(r=p(e),r.setAttribute("is",t),r):(r=T(e),e.indexOf("-")>=0&&w(r,HTMLElement),r)}function f(e,t){var n=e[t];e[t]=function(){var e=n.apply(this,arguments);return g(e),e}}var m,v=e.isIE11OrOlder,_=e.upgradeDocumentTree,g=e.upgradeAll,b=e.upgradeWithDefinition,w=e.implementPrototype,y=e.useNative,E=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"],L={},M="http://www.w3.org/1999/xhtml",T=document.createElement.bind(document),N=document.createElementNS.bind(document);m=Object.__proto__||y?function(e,t){return e instanceof t}:function(e,t){for(var n=e;n;){if(n===t.prototype)return!0;n=n.__proto__}return!1},f(Node.prototype,"cloneNode"),f(document,"importNode"),v&&!function(){var e=document.importNode;document.importNode=function(){var t=e.apply(document,arguments);if(t.nodeType==t.DOCUMENT_FRAGMENT_NODE){var n=document.createDocumentFragment();return n.appendChild(t),n}return t}}(),document.registerElement=t,document.createElement=p,document.createElementNS=h,e.registry=L,e["instanceof"]=m,e.reservedTagList=E,e.getRegisteredDefinition=d,document.register=document.registerElement}),function(e){function t(){a(wrap(document)),window.HTMLImports&&(HTMLImports.__importsParsingHook=function(e){a(wrap(e["import"]))}),CustomElements.ready=!0,setTimeout(function(){CustomElements.readyTime=Date.now(),window.HTMLImports&&(CustomElements.elapsed=CustomElements.readyTime-HTMLImports.readyTime),document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))})}var n=e.useNative,r=e.initializeModules,o=/Trident/.test(navigator.userAgent);if(n){var i=function(){};e.watchShadow=i,e.upgrade=i,e.upgradeAll=i,e.upgradeDocumentTree=i,e.upgradeSubtree=i,e.takeRecords=i,e["instanceof"]=function(e,t){return e instanceof t}}else r();var a=e.upgradeDocumentTree;if(window.wrap||(window.ShadowDOMPolyfill?(window.wrap=ShadowDOMPolyfill.wrapIfNeeded,window.unwrap=ShadowDOMPolyfill.unwrapIfNeeded):window.wrap=window.unwrap=function(e){return e}),o&&"function"!=typeof window.CustomEvent&&(window.CustomEvent=function(e,t){t=t||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,Boolean(t.bubbles),Boolean(t.cancelable),t.detail),n},window.CustomEvent.prototype=window.Event.prototype),"complete"===document.readyState||e.flags.eager)t();else if("interactive"!==document.readyState||window.attachEvent||window.HTMLImports&&!window.HTMLImports.ready){var s=window.HTMLImports&&!HTMLImports.ready?"HTMLImportsLoaded":"DOMContentLoaded";window.addEventListener(s,t)}else t();e.isIE11OrOlder=o}(window.CustomElements),"undefined"==typeof HTMLTemplateElement&&!function(){var e="template";HTMLTemplateElement=function(){},HTMLTemplateElement.prototype=Object.create(HTMLElement.prototype),HTMLTemplateElement.decorate=function(e){e.content||(e.content=e.ownerDocument.createDocumentFragment());for(var t;t=e.firstChild;)e.content.appendChild(t)},HTMLTemplateElement.bootstrap=function(t){for(var n,r=t.querySelectorAll(e),o=0,i=r.length;i>o&&(n=r[o]);o++)HTMLTemplateElement.decorate(n)},addEventListener("DOMContentLoaded",function(){HTMLTemplateElement.bootstrap(document)});var t=document.createElement;document.createElement=function(){"use strict";var e=t.apply(document,arguments);return"template"==e.localName&&HTMLTemplateElement.decorate(e),e}}(),function(e){var t=document.createElement("style");t.textContent="body {transition: opacity ease-in 0.2s; } \nbody[unresolved] {opacity: 0; display: block; overflow: hidden; position: relative; } \n";var n=document.querySelector("head");n.insertBefore(t,n.firstChild)}(window.WebComponents);
;!function(){function e(){document.body.removeAttribute("unresolved")}window.WebComponents?addEventListener("WebComponentsReady",e):"interactive"===document.readyState||"complete"===document.readyState?e():addEventListener("DOMContentLoaded",e)}(),Polymer={Settings:function(){var e=window.Polymer||{};location.search.slice(1).split("&").forEach(function(t){t=t.split("="),t[0]&&(e[t[0]]=t[1]||!0)});var t="shadow"===e.dom,r=Boolean(Element.prototype.createShadowRoot),o=r&&!window.ShadowDOMPolyfill,i=t&&r,s=Boolean("import"in document.createElement("link")),n=s,a=!window.CustomElements||window.CustomElements.useNative;return{wantShadow:t,hasShadow:r,nativeShadow:o,useShadow:i,useNativeShadow:i&&o,useNativeImports:n,useNativeCustomElements:a}}()},function(){var e=window.Polymer;window.Polymer=function(e){var r=t(e);e=r.prototype;var o={prototype:e};return e["extends"]&&(o["extends"]=e["extends"]),Polymer.telemetry._registrate(e),document.registerElement(e.is,o),r};var t=function(e){return e=Polymer.Base.chainObject(e,Polymer.Base),e.registerCallback(),e.constructor};if(window.Polymer=Polymer,e)for(var r in e)Polymer[r]=e[r];Polymer.Class=t}(),Polymer.telemetry={registrations:[],_regLog:function(e){console.log("["+e.is+"]: registered")},_registrate:function(e){this.registrations.push(e),Polymer.log&&this._regLog(e)},dumpRegistrations:function(){this.registrations.forEach(this._regLog)}},Object.defineProperty(window,"currentImport",{enumerable:!0,configurable:!0,get:function(){return(document._currentScript||document.currentScript).ownerDocument}}),Polymer.Base={_addFeature:function(e){this.extend(this,e)},registerCallback:function(){this._registerFeatures(),this._doBehavior("registered")},createdCallback:function(){Polymer.telemetry.instanceCount++,this.root=this,this._doBehavior("created"),this._initFeatures()},attachedCallback:function(){this.isAttached=!0,this._doBehavior("attached")},detachedCallback:function(){this.isAttached=!1,this._doBehavior("detached")},attributeChangedCallback:function(e){this._setAttributeToProperty(this,e),this._doBehavior("attributeChanged",arguments)},extend:function(e,t){return e&&t&&Object.getOwnPropertyNames(t).forEach(function(r){this.copyOwnProperty(r,t,e)},this),e||t},copyOwnProperty:function(e,t,r){var o=Object.getOwnPropertyDescriptor(t,e);o&&Object.defineProperty(r,e,o)},_log:console.log.apply.bind(console.log,console),_warn:console.warn.apply.bind(console.warn,console),_error:console.error.apply.bind(console.error,console),_logf:function(){return this._logPrefix.concat([this.is]).concat(Array.prototype.slice.call(arguments,0))}},Polymer.Base._logPrefix=function(){var e=window.chrome||/firefox/i.test(navigator.userAgent);return e?["%c[%s::%s]:","font-weight: bold; background-color:#EEEE00;"]:["[%s::%s]:"]}(),Polymer.Base.chainObject=function(e,t){return e&&t&&e!==t&&(Object.__proto__||(e=Polymer.Base.extend(Object.create(t),e)),e.__proto__=t),e},Polymer.Base=Polymer.Base.chainObject(Polymer.Base,HTMLElement.prototype),Polymer.telemetry.instanceCount=0,function(){function e(){if(o){var e=document._currentScript||document.currentScript;e&&CustomElements.upgradeAll(e.ownerDocument)}}var t={},r=function(){return document.createElement("dom-module")};r.prototype=Object.create(HTMLElement.prototype),r.prototype.constructor=r,r.prototype.createdCallback=function(){var e=this.id||this.getAttribute("name")||this.getAttribute("is");e&&(this.id=e,t[e]=this)},r.prototype["import"]=function(r,o){var i=t[r];return i||(e(),i=t[r]),i&&o&&(i=i.querySelector(o)),i};var o=window.CustomElements&&!CustomElements.useNative;if(o){var i=CustomElements.ready;CustomElements.ready=!0}document.registerElement("dom-module",r),o&&(CustomElements.ready=i)}(),Polymer.Base._addFeature({_prepIs:function(){if(!this.is){var e=(document._currentScript||document.currentScript).parentNode;if("dom-module"===e.localName){var t=e.id||e.getAttribute("name")||e.getAttribute("is");this.is=t}}}}),Polymer.Base._addFeature({behaviors:[],_prepBehaviors:function(){this.behaviors.length&&(this.behaviors=this._flattenBehaviorsList(this.behaviors)),this._prepAllBehaviors(this.behaviors)},_flattenBehaviorsList:function(e){var t=[];return e.forEach(function(e){e instanceof Array?t=t.concat(this._flattenBehaviorsList(e)):e?t.push(e):this._warn(this._logf("_flattenBehaviorsList","behavior is null, check for missing or 404 import"))},this),t},_prepAllBehaviors:function(e){for(var t=e.length-1;t>=0;t--)this._mixinBehavior(e[t]);for(var t=0,r=e.length;r>t;t++)this._prepBehavior(e[t]);this._prepBehavior(this)},_mixinBehavior:function(e){Object.getOwnPropertyNames(e).forEach(function(t){switch(t){case"hostAttributes":case"registered":case"properties":case"observers":case"listeners":case"created":case"attached":case"detached":case"attributeChanged":case"configure":case"ready":break;default:this.hasOwnProperty(t)||this.copyOwnProperty(t,e,this)}},this)},_doBehavior:function(e,t){this.behaviors.forEach(function(r){this._invokeBehavior(r,e,t)},this),this._invokeBehavior(this,e,t)},_invokeBehavior:function(e,t,r){var o=e[t];o&&o.apply(this,r||Polymer.nar)},_marshalBehaviors:function(){this.behaviors.forEach(function(e){this._marshalBehavior(e)},this),this._marshalBehavior(this)}}),Polymer.Base._addFeature({_prepExtends:function(){this["extends"]&&(this.__proto__=this._getExtendedPrototype(this["extends"]))},_getExtendedPrototype:function(e){return this._getExtendedNativePrototype(e)},_nativePrototypes:{},_getExtendedNativePrototype:function(e){var t=this._nativePrototypes[e];if(!t){var r=this.getNativePrototype(e);t=this.extend(Object.create(r),Polymer.Base),this._nativePrototypes[e]=t}return t},getNativePrototype:function(e){return Object.getPrototypeOf(document.createElement(e))}}),Polymer.Base._addFeature({_prepConstructor:function(){this._factoryArgs=this["extends"]?[this["extends"],this.is]:[this.is];var e=function(){return this._factory(arguments)};this.hasOwnProperty("extends")&&(e["extends"]=this["extends"]),Object.defineProperty(this,"constructor",{value:e,writable:!0,configurable:!0}),e.prototype=this},_factory:function(e){var t=document.createElement.apply(document,this._factoryArgs);return this.factoryImpl&&this.factoryImpl.apply(t,e),t}}),Polymer.nob=Object.create(null),Polymer.Base._addFeature({properties:{},getPropertyInfo:function(e){var t=this._getPropertyInfo(e,this.properties);return t||this.behaviors.some(function(r){return t=this._getPropertyInfo(e,r.properties)},this),t||Polymer.nob},_getPropertyInfo:function(e,t){var r=t&&t[e];return"function"==typeof r&&(r=t[e]={type:r}),r&&(r.defined=!0),r}}),Polymer.CaseMap={_caseMap:{},dashToCamelCase:function(e){var t=Polymer.CaseMap._caseMap[e];return t?t:e.indexOf("-")<0?Polymer.CaseMap._caseMap[e]=e:Polymer.CaseMap._caseMap[e]=e.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})},camelToDashCase:function(e){var t=Polymer.CaseMap._caseMap[e];return t?t:Polymer.CaseMap._caseMap[e]=e.replace(/([a-z][A-Z])/g,function(e){return e[0]+"-"+e[1].toLowerCase()})}},Polymer.Base._addFeature({_prepAttributes:function(){this._aggregatedAttributes={}},_addHostAttributes:function(e){e&&this.mixin(this._aggregatedAttributes,e)},_marshalHostAttributes:function(){this._applyAttributes(this,this._aggregatedAttributes)},_applyAttributes:function(e,t){for(var r in t)this.hasAttribute(r)||"class"===r||this.serializeValueToAttribute(t[r],r,this)},_marshalAttributes:function(){this._takeAttributesToModel(this)},_takeAttributesToModel:function(e){for(var t=0,r=this.attributes.length;r>t;t++)this._setAttributeToProperty(e,this.attributes[t].name)},_setAttributeToProperty:function(e,t){if(!this._serializing){var r=Polymer.CaseMap.dashToCamelCase(t),o=this.getPropertyInfo(r);if(o.defined||this._propertyEffects&&this._propertyEffects[r]){var i=this.getAttribute(t);e[r]=this.deserialize(i,o.type)}}},_serializing:!1,reflectPropertyToAttribute:function(e){this._serializing=!0,this.serializeValueToAttribute(this[e],Polymer.CaseMap.camelToDashCase(e)),this._serializing=!1},serializeValueToAttribute:function(e,t,r){var o=this.serialize(e);(r||this)[void 0===o?"removeAttribute":"setAttribute"](t,o)},deserialize:function(e,t){switch(t){case Number:e=Number(e);break;case Boolean:e=null!==e;break;case Object:try{e=JSON.parse(e)}catch(r){}break;case Array:try{e=JSON.parse(e)}catch(r){e=null,console.warn("Polymer::Attributes: couldn`t decode Array as JSON")}break;case Date:e=new Date(e);break;case String:}return e},serialize:function(e){switch(typeof e){case"boolean":return e?"":void 0;case"object":if(e instanceof Date)return e;if(e)try{return JSON.stringify(e)}catch(t){return""}default:return null!=e?e:void 0}}}),Polymer.Base._addFeature({_setupDebouncers:function(){this._debouncers={}},debounce:function(e,t,r){this._debouncers[e]=Polymer.Debounce.call(this,this._debouncers[e],t,r)},isDebouncerActive:function(e){var t=this._debouncers[e];return t&&t.finish},flushDebouncer:function(e){var t=this._debouncers[e];t&&t.complete()},cancelDebouncer:function(e){var t=this._debouncers[e];t&&t.stop()}}),Polymer.version="1.0.3",Polymer.Base._addFeature({_registerFeatures:function(){this._prepIs(),this._prepAttributes(),this._prepBehaviors(),this._prepExtends(),this._prepConstructor()},_prepBehavior:function(e){this._addHostAttributes(e.hostAttributes)},_marshalBehavior:function(e){},_initFeatures:function(){this._marshalHostAttributes(),this._setupDebouncers(),this._marshalBehaviors()}});
;Polymer.Base._addFeature({_prepTemplate:function(){if(this._template=this._template||Polymer.DomModule["import"](this.is,"template"),!this._template){var t=document._currentScript||document.currentScript,e=t&&t.previousElementSibling;e&&"template"===e.localName&&(this._template=e)}this._template&&this._template.hasAttribute("is")&&this._warn(this._logf("_prepTemplate","top-level Polymer template must not be a type-extension, found",this._template,"Move inside simple <template>."))},_stampTemplate:function(){this._template&&(this.root=this.instanceTemplate(this._template))},instanceTemplate:function(t){var e=document.importNode(t._content||t.content,!0);return e}}),function(){var t=Polymer.Base.attachedCallback;Polymer.Base._addFeature({_hostStack:[],ready:function(){},_pushHost:function(t){this.dataHost=t=t||Polymer.Base._hostStack[Polymer.Base._hostStack.length-1],t&&t._clients&&t._clients.push(this),this._beginHost()},_beginHost:function(){Polymer.Base._hostStack.push(this),this._clients||(this._clients=[])},_popHost:function(){Polymer.Base._hostStack.pop()},_tryReady:function(){this._canReady()&&this._ready()},_canReady:function(){return!this.dataHost||this.dataHost._clientsReadied},_ready:function(){this._beforeClientsReady(),this._setupRoot(),this._readyClients(),this._afterClientsReady(),this._readySelf()},_readyClients:function(){this._beginDistribute();for(var t,e=this._clients,o=0,i=e.length;i>o&&(t=e[o]);o++)t._ready();this._finishDistribute(),this._clientsReadied=!0,this._clients=null},_readySelf:function(){this._doBehavior("ready"),this._readied=!0,this._attachedPending&&(this._attachedPending=!1,this.attachedCallback())},_beforeClientsReady:function(){},_afterClientsReady:function(){},_beforeAttached:function(){},attachedCallback:function(){this._readied?(this._beforeAttached(),t.call(this)):this._attachedPending=!0}})}(),Polymer.ArraySplice=function(){function t(t,e,o){return{index:t,removed:e,addedCount:o}}function e(){}var o=0,i=1,n=2,r=3;return e.prototype={calcEditDistances:function(t,e,o,i,n,r){for(var s=r-n+1,a=o-e+1,d=new Array(s),h=0;s>h;h++)d[h]=new Array(a),d[h][0]=h;for(var l=0;a>l;l++)d[0][l]=l;for(var h=1;s>h;h++)for(var l=1;a>l;l++)if(this.equals(t[e+l-1],i[n+h-1]))d[h][l]=d[h-1][l-1];else{var u=d[h-1][l]+1,c=d[h][l-1]+1;d[h][l]=c>u?u:c}return d},spliceOperationsFromEditDistances:function(t){for(var e=t.length-1,s=t[0].length-1,a=t[e][s],d=[];e>0||s>0;)if(0!=e)if(0!=s){var h,l=t[e-1][s-1],u=t[e-1][s],c=t[e][s-1];h=c>u?l>u?u:l:l>c?c:l,h==l?(l==a?d.push(o):(d.push(i),a=l),e--,s--):h==u?(d.push(r),e--,a=u):(d.push(n),s--,a=c)}else d.push(r),e--;else d.push(n),s--;return d.reverse(),d},calcSplices:function(e,s,a,d,h,l){var u=0,c=0,f=Math.min(a-s,l-h);if(0==s&&0==h&&(u=this.sharedPrefix(e,d,f)),a==e.length&&l==d.length&&(c=this.sharedSuffix(e,d,f-u)),s+=u,h+=u,a-=c,l-=c,a-s==0&&l-h==0)return[];if(s==a){for(var p=t(s,[],0);l>h;)p.removed.push(d[h++]);return[p]}if(h==l)return[t(s,[],a-s)];for(var _=this.spliceOperationsFromEditDistances(this.calcEditDistances(e,s,a,d,h,l)),p=void 0,m=[],y=s,v=h,g=0;g<_.length;g++)switch(_[g]){case o:p&&(m.push(p),p=void 0),y++,v++;break;case i:p||(p=t(y,[],0)),p.addedCount++,y++,p.removed.push(d[v]),v++;break;case n:p||(p=t(y,[],0)),p.addedCount++,y++;break;case r:p||(p=t(y,[],0)),p.removed.push(d[v]),v++}return p&&m.push(p),m},sharedPrefix:function(t,e,o){for(var i=0;o>i;i++)if(!this.equals(t[i],e[i]))return i;return o},sharedSuffix:function(t,e,o){for(var i=t.length,n=e.length,r=0;o>r&&this.equals(t[--i],e[--n]);)r++;return r},calculateSplices:function(t,e){return this.calcSplices(t,0,t.length,e,0,e.length)},equals:function(t,e){return t===e}},new e}(),Polymer.EventApi=function(){var t=Polymer.Settings,e=function(t){this.event=t};t.useShadow?e.prototype={get rootTarget(){return this.event.path[0]},get localTarget(){return this.event.target},get path(){return this.event.path}}:e.prototype={get rootTarget(){return this.event.target},get localTarget(){for(var t=this.event.currentTarget,e=t&&Polymer.dom(t).getOwnerRoot(),o=this.path,i=0;i<o.length;i++)if(Polymer.dom(o[i]).getOwnerRoot()===e)return o[i]},get path(){if(!this.event._path){for(var t=[],e=this.rootTarget;e;)t.push(e),e=Polymer.dom(e).parentNode||e.host;t.push(window),this.event._path=t}return this.event._path}};var o=function(t){return t.__eventApi||(t.__eventApi=new e(t)),t.__eventApi};return{factory:o}}(),Polymer.domInnerHTML=function(){function t(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case" ":return"&nbsp;"}}function e(e){return e.replace(s,t)}function o(e){return e.replace(a,t)}function i(t){for(var e={},o=0;o<t.length;o++)e[t[o]]=!0;return e}function n(t,i,n){switch(t.nodeType){case Node.ELEMENT_NODE:for(var s,a=t.localName,l="<"+a,u=t.attributes,c=0;s=u[c];c++)l+=" "+s.name+'="'+e(s.value)+'"';return l+=">",d[a]?l:l+r(t,n)+"</"+a+">";case Node.TEXT_NODE:var f=t.data;return i&&h[i.localName]?f:o(f);case Node.COMMENT_NODE:return"<!--"+t.data+"-->";default:throw console.error(t),new Error("not implemented")}}function r(t,e){t instanceof HTMLTemplateElement&&(t=t.content);var o="",i=Polymer.dom(t).childNodes;i=e?t._composedChildren:i;for(var r,s=0,a=i.length;a>s&&(r=i[s]);s++)o+=n(r,t,e);return o}var s=/[&\u00A0"]/g,a=/[&\u00A0<>]/g,d=i(["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]),h=i(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);return{getInnerHTML:r}}(),Polymer.DomApi=function(){"use strict";function t(t){var e=t._lightChildren;return e?e:t.childNodes}function e(t){return t._composedChildren||(t._composedChildren=Array.prototype.slice.call(t.childNodes)),t._composedChildren}function o(t,o,n){var r=e(t),s=n?r.indexOf(n):-1;if(o.nodeType===Node.DOCUMENT_FRAGMENT_NODE){var a=e(o);a.forEach(function(e){i(e,t,r,s)})}else i(o,t,r,s)}function i(t,e,o,i){t._composedParent=e,i>=0?o.splice(i,0,t):o.push(t)}function n(t,o){if(o._composedParent=null,t){var i=e(t),n=i.indexOf(o);n>=0&&i.splice(n,1)}}function r(t){if(!t._lightChildren){for(var e,o=Array.prototype.slice.call(t.childNodes),i=0,n=o.length;n>i&&(e=o[i]);i++)e._lightParent=e._lightParent||t;t._lightChildren=o}}function s(t){return Boolean(t._insertionPoints.length)}var a=Polymer.Settings,d=Polymer.domInnerHTML.getInnerHTML,h=Element.prototype.insertBefore,l=Element.prototype.removeChild,u=Element.prototype.appendChild,c=[],f=function(t){this.node=t,this.patch&&this.patch()};if(f.prototype={flush:function(){for(var t,e=0;e<c.length;e++)t=c[e],t.flushDebouncer("_distribute");c=[]},_lazyDistribute:function(t){t.shadyRoot&&t.shadyRoot._distributionClean&&(t.shadyRoot._distributionClean=!1,t.debounce("_distribute",t._distributeContent),c.push(t))},appendChild:function(t){var e;if(this._removeNodeFromHost(t),this._nodeIsInLogicalTree(this.node)){var i=this._hostForNode(this.node);this._addLogicalInfo(t,this.node,i&&i.shadyRoot),this._addNodeToHost(t),i&&(e=this._maybeDistribute(t,this.node,i))}if(!e&&!this._tryRemoveUndistributedNode(t)){var n=this.node._isShadyRoot?this.node.host:this.node;u.call(n,t),o(n,t)}return t},insertBefore:function(t,e){if(!e)return this.appendChild(t);var i;if(this._removeNodeFromHost(t),this._nodeIsInLogicalTree(this.node)){r(this.node);var n=this.childNodes,s=n.indexOf(e);if(0>s)throw Error("The ref_node to be inserted before is not a child of this node");var a=this._hostForNode(this.node);this._addLogicalInfo(t,this.node,a&&a.shadyRoot,s),this._addNodeToHost(t),a&&(i=this._maybeDistribute(t,this.node,a))}if(!i&&!this._tryRemoveUndistributedNode(t)){e=e.localName===_?this._firstComposedNode(e):e;var d=this.node._isShadyRoot?this.node.host:this.node;h.call(d,t,e),o(d,t,e)}return t},removeChild:function(t){m(t).parentNode!==this.node&&console.warn("The node to be removed is not a child of this node",t);var e;if(this._nodeIsInLogicalTree(this.node)){var o=this._hostForNode(this.node);e=this._maybeDistribute(t,this.node,o),this._removeNodeFromHost(t)}if(!e){var i=this.node._isShadyRoot?this.node.host:this.node;i===t.parentNode&&(l.call(i,t),n(i,t))}return t},replaceChild:function(t,e){return this.insertBefore(t,e),this.removeChild(e),t},getOwnerRoot:function(){return this._ownerShadyRootForNode(this.node)},_ownerShadyRootForNode:function(t){if(t){if(void 0===t._ownerShadyRoot){var e;if(t._isShadyRoot)e=t;else{var o=Polymer.dom(t).parentNode;e=o?o._isShadyRoot?o:this._ownerShadyRootForNode(o):null}t._ownerShadyRoot=e}return t._ownerShadyRoot}},_maybeDistribute:function(t,e,o){var i=this._nodeNeedsDistribution(t),n=this._parentNeedsDistribution(e)||i;return i&&this._updateInsertionPoints(o),n&&this._lazyDistribute(o),n},_tryRemoveUndistributedNode:function(t){return this.node.shadyRoot?(t.parentNode&&l.call(t.parentNode,t),!0):void 0},_updateInsertionPoints:function(t){t.shadyRoot._insertionPoints=m(t.shadyRoot).querySelectorAll(_)},_nodeIsInLogicalTree:function(t){return Boolean(t._lightParent||t._isShadyRoot||this._ownerShadyRootForNode(t)||t.shadyRoot)},_hostForNode:function(t){var e=t.shadyRoot||(t._isShadyRoot?t:this._ownerShadyRootForNode(t));return e&&e.host},_parentNeedsDistribution:function(t){return t&&t.shadyRoot&&s(t.shadyRoot)},_nodeNeedsDistribution:function(t){return t.localName===_||t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&t.querySelector(_)},_removeNodeFromHost:function(t){if(t._lightParent){var e=this._ownerShadyRootForNode(t);e&&e.host._elementRemove(t),this._removeLogicalInfo(t,t._lightParent)}this._removeOwnerShadyRoot(t)},_addNodeToHost:function(t){var e=t.nodeType===Node.DOCUMENT_FRAGMENT_NODE?t.firstChild:t,o=this._ownerShadyRootForNode(e);o&&o.host._elementAdd(t)},_addLogicalInfo:function(t,e,o,i){r(e);var n=m(e).childNodes;if(i=void 0===i?n.length:i,t.nodeType===Node.DOCUMENT_FRAGMENT_NODE)for(var s,a=Array.prototype.slice.call(t.childNodes),d=0;d<a.length&&(s=a[d]);d++)n.splice(i++,0,s),s._lightParent=e;else n.splice(i,0,t),t._lightParent=e},_removeLogicalInfo:function(t,e){var o=m(e).childNodes,i=o.indexOf(t);if(0>i||e!==t._lightParent)throw Error("The node to be removed is not a child of this node");o.splice(i,1),t._lightParent=null},_removeOwnerShadyRoot:function(t){var e=void 0!==m(t).getOwnerRoot();if(e)for(var o,i=m(t).childNodes,n=0,r=i.length;r>n&&(o=i[n]);n++)this._removeOwnerShadyRoot(o);t._ownerShadyRoot=void 0},_firstComposedNode:function(t){for(var e,o,i=m(t).getDistributedNodes(),n=0,r=i.length;r>n&&(e=i[n]);n++)if(o=m(e).getDestinationInsertionPoints(),o[o.length-1]===t)return e},querySelector:function(t){return this.querySelectorAll(t)[0]},querySelectorAll:function(t){return this._query(function(e){return v.call(e,t)},this.node)},_query:function(t,e){e=e||this.node;var o=[];return this._queryElements(m(e).childNodes,t,o),o},_queryElements:function(t,e,o){for(var i,n=0,r=t.length;r>n&&(i=t[n]);n++)i.nodeType===Node.ELEMENT_NODE&&this._queryElement(i,e,o)},_queryElement:function(t,e,o){e(t)&&o.push(t),this._queryElements(m(t).childNodes,e,o)},getDestinationInsertionPoints:function(){return this.node._destinationInsertionPoints||[]},getDistributedNodes:function(){return this.node._distributedNodes||[]},queryDistributedElements:function(t){var e=this.childNodes,o=[];this._distributedFilter(t,e,o);for(var i,n=0,r=e.length;r>n&&(i=e[n]);n++)i.localName===_&&this._distributedFilter(t,m(i).getDistributedNodes(),o);return o},_distributedFilter:function(t,e,o){o=o||[];for(var i,n=0,r=e.length;r>n&&(i=e[n]);n++)i.nodeType===Node.ELEMENT_NODE&&i.localName!==_&&v.call(i,t)&&o.push(i);return o},_clear:function(){for(;this.childNodes.length;)this.removeChild(this.childNodes[0])},setAttribute:function(t,e){this.node.setAttribute(t,e),this._distributeParent()},removeAttribute:function(t){this.node.removeAttribute(t),this._distributeParent()},_distributeParent:function(){this._parentNeedsDistribution(this.parentNode)&&this._lazyDistribute(this.parentNode)}},Object.defineProperty(f.prototype,"classList",{get:function(){return this._classList||(this._classList=new f.ClassList(this)),this._classList},configurable:!0}),f.ClassList=function(t){this.domApi=t,this.node=t.node},f.ClassList.prototype={add:function(){this.node.classList.add.apply(this.node.classList,arguments),this.domApi._distributeParent()},remove:function(){this.node.classList.remove.apply(this.node.classList,arguments),this.domApi._distributeParent()},toggle:function(){this.node.classList.toggle.apply(this.node.classList,arguments),this.domApi._distributeParent()}},a.useShadow){f.prototype.querySelectorAll=function(t){return Array.prototype.slice.call(this.node.querySelectorAll(t))},f.prototype.getOwnerRoot=function(){for(var t=this.node;t;){if(t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&t.host)return t;t=t.parentNode}},f.prototype.getDestinationInsertionPoints=function(){var t=this.node.getDestinationInsertionPoints();return t?Array.prototype.slice.call(t):[]},f.prototype.getDistributedNodes=function(){var t=this.node.getDistributedNodes();return t?Array.prototype.slice.call(t):[]},f.prototype._distributeParent=function(){},Object.defineProperties(f.prototype,{childNodes:{get:function(){return Array.prototype.slice.call(this.node.childNodes)},configurable:!0},children:{get:function(){return Array.prototype.slice.call(this.node.children)},configurable:!0},textContent:{get:function(){return this.node.textContent},set:function(t){return this.node.textContent=t},configurable:!0},innerHTML:{get:function(){return this.node.innerHTML},set:function(t){return this.node.innerHTML=t},configurable:!0}});var p=["parentNode","firstChild","lastChild","nextSibling","previousSibling","firstElementChild","lastElementChild","nextElementSibling","previousElementSibling"];p.forEach(function(t){Object.defineProperty(f.prototype,t,{get:function(){return this.node[t]},configurable:!0})})}else Object.defineProperties(f.prototype,{childNodes:{get:function(){var e=t(this.node);return Array.isArray(e)?e:Array.prototype.slice.call(e)},configurable:!0},children:{get:function(){return Array.prototype.filter.call(this.childNodes,function(t){return t.nodeType===Node.ELEMENT_NODE})},configurable:!0},parentNode:{get:function(){return this.node._lightParent||(this.node.__patched?this.node._composedParent:this.node.parentNode)},configurable:!0},firstChild:{get:function(){return this.childNodes[0]},configurable:!0},lastChild:{get:function(){var t=this.childNodes;return t[t.length-1]},configurable:!0},nextSibling:{get:function(){var t=this.parentNode&&m(this.parentNode).childNodes;return t?t[Array.prototype.indexOf.call(t,this.node)+1]:void 0},configurable:!0},previousSibling:{get:function(){var t=this.parentNode&&m(this.parentNode).childNodes;return t?t[Array.prototype.indexOf.call(t,this.node)-1]:void 0},configurable:!0},firstElementChild:{get:function(){return this.children[0]},configurable:!0},lastElementChild:{get:function(){var t=this.children;return t[t.length-1]},configurable:!0},nextElementSibling:{get:function(){var t=this.parentNode&&m(this.parentNode).children;return t?t[Array.prototype.indexOf.call(t,this.node)+1]:void 0},configurable:!0},previousElementSibling:{get:function(){var t=this.parentNode&&m(this.parentNode).children;return t?t[Array.prototype.indexOf.call(t,this.node)-1]:void 0},configurable:!0},textContent:{get:function(){return this.node.nodeType===Node.TEXT_NODE?this.node.textContent:Array.prototype.map.call(this.childNodes,function(t){return t.textContent}).join("")},set:function(t){this._clear(),t&&this.appendChild(document.createTextNode(t))},configurable:!0},innerHTML:{get:function(){return this.node.nodeType===Node.TEXT_NODE?null:d(this.node)},set:function(t){if(this.node.nodeType!==Node.TEXT_NODE){this._clear();var e=document.createElement("div");e.innerHTML=t;for(var o=e.firstChild;o;o=o.nextSibling)this.appendChild(o)}},configurable:!0}}),f.prototype._getComposedInnerHTML=function(){return d(this.node,!0)};var _="content",m=function(t,e){return t=t||document,t.__domApi||(t.__domApi=new f(t,e)),t.__domApi};Polymer.dom=function(t,e){return t instanceof Event?Polymer.EventApi.factory(t):m(t,e)},Polymer.dom.flush=f.prototype.flush;var y=Element.prototype,v=y.matches||y.matchesSelector||y.mozMatchesSelector||y.msMatchesSelector||y.oMatchesSelector||y.webkitMatchesSelector;return{getLightChildren:t,getComposedChildren:e,removeFromComposedParent:n,saveLightChildrenIfNeeded:r,matchesSelector:v,hasInsertionPoint:s,ctor:f,factory:m}}(),function(){function t(t,e){e._distributedNodes.push(t);var o=t._destinationInsertionPoints;o?o.push(e):t._destinationInsertionPoints=[e]}function e(t){for(var e=t._distributedNodes,o=0;o<e.length;o++){var i=e[o]._destinationInsertionPoints;i&&i.splice(i.indexOf(t)+1,i.length)}}function o(t,e){var o=t._lightParent;o&&o.shadyRoot&&p(o.shadyRoot)&&o.shadyRoot._distributionClean&&(o.shadyRoot._distributionClean=!1,e.shadyRoot._dirtyRoots.push(o))}function i(t,e){var o=e._destinationInsertionPoints;return o&&o[o.length-1]===t}function n(t){return"content"==t.localName}function r(t,e,o){var i=a(e);i!==t&&m(i,e),s(e),u(t),y.call(t,e,o||null),e._composedParent=t}function s(t){var e=a(t);e&&(u(e),t._composedParent=null,v.call(e,t))}function a(t){return t.__patched?t._composedParent:t.parentNode}function d(t){for(;t&&h(t);)t=t.domHost;return t}function h(t){for(var e,o=Polymer.dom(t).children,i=0;i<o.length;i++)if(e=o[i],"content"===e.localName)return t.domHost}function l(t){if(g&&t)for(var e=0;e<t.length;e++)CustomElements.upgrade(t[e])}Polymer.Base._addFeature({_prepShady:function(){this._useContent=this._useContent||Boolean(this._template),this._useContent&&(this._template._hasInsertionPoint=this._template.content.querySelector("content"))},_poolContent:function(){this._useContent&&u(this)},_setupRoot:function(){this._useContent&&(this._createLocalRoot(),this.dataHost||l(this._lightChildren))},_createLocalRoot:function(){this.shadyRoot=this.root,this.shadyRoot._distributionClean=!1,this.shadyRoot._isShadyRoot=!0,this.shadyRoot._dirtyRoots=[],this.shadyRoot._insertionPoints=this._template._hasInsertionPoint?this.shadyRoot.querySelectorAll("content"):[],u(this.shadyRoot),this.shadyRoot.host=this},get domHost(){var t=Polymer.dom(this).getOwnerRoot();return t&&t.host},distributeContent:function(){if(this.shadyRoot){var t=d(this);Polymer.dom(this)._lazyDistribute(t)}},_distributeContent:function(){this._useContent&&!this.shadyRoot._distributionClean&&(this._beginDistribute(),this._distributeDirtyRoots(),this._finishDistribute())},_beginDistribute:function(){this._useContent&&p(this.shadyRoot)&&(this._resetDistribution(),this._distributePool(this.shadyRoot,this._collectPool()))},_distributeDirtyRoots:function(){for(var t,e=this.shadyRoot._dirtyRoots,o=0,i=e.length;i>o&&(t=e[o]);o++)t._distributeContent();this.shadyRoot._dirtyRoots=[]},_finishDistribute:function(){if(this._useContent){if(p(this.shadyRoot))this._composeTree();else if(this.shadyRoot._hasDistributed){var t=this._composeNode(this);this._updateChildNodes(this,t)}else this.textContent="",this.appendChild(this.shadyRoot);this.shadyRoot._hasDistributed=!0,this.shadyRoot._distributionClean=!0}},elementMatches:function(t,e){return e=e||this,f.call(e,t)},_resetDistribution:function(){for(var t=c(this),o=0;o<t.length;o++){var i=t[o];i._destinationInsertionPoints&&(i._destinationInsertionPoints=void 0),n(i)&&e(i)}for(var r=this.shadyRoot,s=r._insertionPoints,a=0;a<s.length;a++)s[a]._distributedNodes=[]},_collectPool:function(){for(var t=[],e=c(this),o=0;o<e.length;o++){var i=e[o];n(i)?t.push.apply(t,i._distributedNodes):t.push(i)}return t},_distributePool:function(t,e){for(var i,n=t._insertionPoints,r=0,s=n.length;s>r&&(i=n[r]);r++)this._distributeInsertionPoint(i,e),o(i,this)},_distributeInsertionPoint:function(e,o){for(var i,n=!1,r=0,s=o.length;s>r;r++)i=o[r],i&&this._matchesContentSelect(i,e)&&(t(i,e),o[r]=void 0,n=!0);if(!n)for(var a=c(e),d=0;d<a.length;d++)t(a[d],e)},_composeTree:function(){this._updateChildNodes(this,this._composeNode(this));for(var t,e,o=this.shadyRoot._insertionPoints,i=0,n=o.length;n>i&&(t=o[i]);i++)e=t._lightParent||t.parentNode,e._useContent||e===this||e===this.shadyRoot||this._updateChildNodes(e,this._composeNode(e))},_composeNode:function(t){for(var e=[],o=c(t.shadyRoot||t),r=0;r<o.length;r++){var s=o[r];if(n(s))for(var a=s._distributedNodes,d=0;d<a.length;d++){var h=a[d];i(s,h)&&e.push(h)}else e.push(s)}return e},_updateChildNodes:function(t,e){for(var o,i=_(t),n=Polymer.ArraySplice.calculateSplices(e,i),a=0,d=0;a<n.length&&(o=n[a]);a++){for(var h,l=0;l<o.removed.length&&(h=o.removed[l]);l++)s(h),i.splice(o.index+d,1);d-=o.addedCount}for(var o,u,a=0;a<n.length&&(o=n[a]);a++){u=i[o.index];for(var h,l=o.index;l<o.index+o.addedCount;l++)h=e[l],r(t,h,u),i.splice(l,0,h)}},_matchesContentSelect:function(t,e){var o=e.getAttribute("select");if(!o)return!0;if(o=o.trim(),!o)return!0;if(!(t instanceof Element))return!1;var i=/^(:not\()?[*.#[a-zA-Z_|]/;return i.test(o)?this.elementMatches(o,t):!1},_elementAdd:function(){},_elementRemove:function(){}});var u=Polymer.DomApi.saveLightChildrenIfNeeded,c=Polymer.DomApi.getLightChildren,f=Polymer.DomApi.matchesSelector,p=Polymer.DomApi.hasInsertionPoint,_=Polymer.DomApi.getComposedChildren,m=Polymer.DomApi.removeFromComposedParent,y=Element.prototype.insertBefore,v=Element.prototype.removeChild,g=window.CustomElements&&!CustomElements.useNative}(),Polymer.Settings.useShadow&&Polymer.Base._addFeature({_poolContent:function(){},_beginDistribute:function(){},distributeContent:function(){},_distributeContent:function(){},_finishDistribute:function(){},_createLocalRoot:function(){this.createShadowRoot(),this.shadowRoot.appendChild(this.root),this.root=this.shadowRoot}}),Polymer.DomModule=document.createElement("dom-module"),Polymer.Base._addFeature({_registerFeatures:function(){this._prepIs(),this._prepAttributes(),this._prepBehaviors(),this._prepExtends(),this._prepConstructor(),this._prepTemplate(),this._prepShady()},_prepBehavior:function(t){this._addHostAttributes(t.hostAttributes)},_initFeatures:function(){this._poolContent(),this._pushHost(),this._stampTemplate(),this._popHost(),this._marshalHostAttributes(),this._setupDebouncers(),this._marshalBehaviors(),this._tryReady()},_marshalBehavior:function(t){}});
;Polymer.nar=[],Polymer.Annotations={parseAnnotations:function(t){var e=[],r=t._content||t.content;return this._parseNodeAnnotations(r,e),e},_parseNodeAnnotations:function(t,e){return t.nodeType===Node.TEXT_NODE?this._parseTextNodeAnnotation(t,e):this._parseElementAnnotations(t,e)},_testEscape:function(t){var e=t.slice(0,2);return"{{"===e||"[["===e?e:void 0},_parseTextNodeAnnotation:function(t,e){var r=t.textContent,s=this._testEscape(r);if(s){t.textContent=" ";var n={bindings:[{kind:"text",mode:s[0],value:r.slice(2,-2).trim()}]};return e.push(n),n}},_parseElementAnnotations:function(t,e){var r={bindings:[],events:[]};return this._parseChildNodesAnnotations(t,r,e),t.attributes&&(this._parseNodeAttributeAnnotations(t,r,e),this.prepElement&&this.prepElement(t)),(r.bindings.length||r.events.length||r.id)&&e.push(r),r},_parseChildNodesAnnotations:function(t,e,r,s){if(t.firstChild)for(var n=0,i=t.firstChild;i;i=i.nextSibling,n++){"template"!==i.localName||i.hasAttribute("preserve-content")||this._parseTemplate(i,n,r,e);var o=this._parseNodeAnnotations(i,r,s);o&&(o.parent=e,o.index=n)}},_parseTemplate:function(t,e,r,s){var n=document.createDocumentFragment();n._notes=this.parseAnnotations(t),n.appendChild(t.content),r.push({bindings:Polymer.nar,events:Polymer.nar,templateContent:n,parent:s,index:e})},_parseNodeAttributeAnnotations:function(t,e){for(var r,s=t.attributes.length-1;r=t.attributes[s];s--){var n=r.name,i=r.value;if("id"!==n||this._testEscape(i))if("on-"===n.slice(0,3))t.removeAttribute(n),e.events.push({name:n.slice(3),value:i});else{var o=this._parseNodeAttributeAnnotation(t,n,i);o&&e.bindings.push(o)}else e.id=i}},_parseNodeAttributeAnnotation:function(t,e,r){var s=this._testEscape(r);if(s){var n,i=e,o=s[0];r=r.slice(2,-2).trim();var a=!1;"!"==r[0]&&(r=r.substring(1),a=!0);var l="property";"$"==e[e.length-1]&&(i=e.slice(0,-1),l="attribute");var c,h;return"{"==o&&(h=r.indexOf("::"))>0&&(c=r.substring(h+2),r=r.substring(0,h),n=!0),"input"==t.localName&&"value"==e&&t.setAttribute(e,""),t.removeAttribute(e),"property"===l&&(i=Polymer.CaseMap.dashToCamelCase(i)),{kind:l,mode:o,name:i,value:r,negate:a,event:c,customEvent:n}}},_localSubTree:function(t,e){return t===e?t.childNodes:t._lightChildren||t.childNodes},findAnnotatedNode:function(t,e){var r=e.parent&&Polymer.Annotations.findAnnotatedNode(t,e.parent);return r?Polymer.Annotations._localSubTree(r,t)[e.index]:t}},function(){function t(t,e){return t.replace(a,function(t,s,n,i){return s+"'"+r(n.replace(/["']/g,""),e)+"'"+i})}function e(e,s){for(var n in l)for(var i,o,a,h=l[n],u=0,f=h.length;f>u&&(i=h[u]);u++)("*"===n||e.localName===n)&&(o=e.attributes[i],a=o&&o.value,a&&a.search(c)<0&&(o.value="style"===i?t(a,s):r(a,s)))}function r(t,e){var r=n(e);return r.href=t,r.href||t}function s(t,e){return i||(i=document.implementation.createHTMLDocument("temp"),o=i.createElement("base"),i.head.appendChild(o)),o.href=e,r(t,i)}function n(t){return t.__urlResolver||(t.__urlResolver=t.createElement("a"))}var i,o,a=/(url\()([^)]*)(\))/g,l={"*":["href","src","style","url"],form:["action"]},c=/\{\{|\[\[/;Polymer.ResolveUrl={resolveCss:t,resolveAttrs:e,resolveUrl:s}}(),Polymer.Base._addFeature({_prepAnnotations:function(){this._template?(Polymer.Annotations.prepElement=this._prepElement.bind(this),this._notes=Polymer.Annotations.parseAnnotations(this._template),this._processAnnotations(this._notes),Polymer.Annotations.prepElement=null):this._notes=[]},_processAnnotations:function(t){for(var e=0;e<t.length;e++){for(var r=t[e],s=0;s<r.bindings.length;s++){var n=r.bindings[s];n.signature=this._parseMethod(n.value),n.signature||(n.model=this._modelForPath(n.value))}if(r.templateContent){this._processAnnotations(r.templateContent._notes);var i=r.templateContent._parentProps=this._discoverTemplateParentProps(r.templateContent._notes),o=[];for(var a in i)o.push({index:r.index,kind:"property",mode:"{",name:"_parent_"+a,model:a,value:a});r.bindings=r.bindings.concat(o)}}},_discoverTemplateParentProps:function(t){var e={};return t.forEach(function(t){if(t.bindings.forEach(function(t){if(t.signature)for(var r=t.signature.args,s=0;s<r.length;s++)e[r[s].model]=!0;else e[t.model]=!0}),t.templateContent){var r=t.templateContent._parentProps;Polymer.Base.mixin(e,r)}}),e},_prepElement:function(t){Polymer.ResolveUrl.resolveAttrs(t,this._template.ownerDocument)},_findAnnotatedNode:Polymer.Annotations.findAnnotatedNode,_marshalAnnotationReferences:function(){this._template&&(this._marshalIdNodes(),this._marshalAnnotatedNodes(),this._marshalAnnotatedListeners())},_configureAnnotationReferences:function(){this._configureTemplateContent()},_configureTemplateContent:function(){this._notes.forEach(function(t,e){t.templateContent&&(this._nodes[e]._content=t.templateContent)},this)},_marshalIdNodes:function(){this.$={},this._notes.forEach(function(t){t.id&&(this.$[t.id]=this._findAnnotatedNode(this.root,t))},this)},_marshalAnnotatedNodes:function(){this._nodes&&(this._nodes=this._nodes.map(function(t){return this._findAnnotatedNode(this.root,t)},this))},_marshalAnnotatedListeners:function(){this._notes.forEach(function(t){if(t.events&&t.events.length){var e=this._findAnnotatedNode(this.root,t);t.events.forEach(function(t){this.listen(e,t.name,t.value)},this)}},this)}}),Polymer.Base._addFeature({listeners:{},_listenListeners:function(t){var e,r,s;for(s in t)s.indexOf(".")<0?(e=this,r=s):(r=s.split("."),e=this.$[r[0]],r=r[1]),this.listen(e,r,t[s])},listen:function(t,e,r){this._listen(t,e,this._createEventHandler(t,e,r))},_createEventHandler:function(t,e,r){var s=this;return function(t){s[r]?s[r](t,t.detail):s._warn(s._logf("_createEventHandler","listener method `"+r+"` not defined"))}},_listen:function(t,e,r){t.addEventListener(e,r)}}),function(){"use strict";function t(t){for(var e,r=0;r<u.length;r++)e=u[r],t?document.addEventListener(e,f,!0):document.removeEventListener(e,f,!0)}function e(){p.mouse.mouseIgnoreJob||t(!0);var e=function(){t(),p.mouse.target=null,p.mouse.mouseIgnoreJob=null};p.mouse.mouseIgnoreJob=Polymer.Debounce(p.mouse.mouseIgnoreJob,e,h)}function r(t){for(var e,r=Polymer.dom(t).path,s="auto",n=0;n<r.length;n++)if(e=r[n],e[o]){s=e[o];break}return s}var s="string"==typeof document.head.style.touchAction,n="__polymerGestures",i="__polymerGesturesHandled",o="__polymerGesturesTouchAction",a=25,l=5,c=2,h=2500,u=["mousedown","mousemove","mouseup","click"],f=function(t){if(t[i]={skip:!0},"click"===t.type){for(var e=Polymer.dom(t).path,r=0;r<e.length;r++)if(e[r]===p.mouse.target)return;t.preventDefault(),t.stopPropagation()}},p={tapPrevented:!1,mouse:{target:null,mouseIgnoreJob:null},touch:{x:0,y:0,id:-1,scrollDecided:!1}},d={gestures:{},recognizers:[],deepTargetFind:function(t,e){for(var r=document.elementFromPoint(t,e),s=r;s&&s.shadowRoot;)s=s.shadowRoot.elementFromPoint(t,e),s&&(r=s);return r},handleNative:function(t){var r,o=t.type,a=t.currentTarget,l=a[n],c=l[o];if(c){if(!t[i]&&(t[i]={},"touch"===o.slice(0,5))){var h=t.changedTouches[0];if("touchstart"===o&&1===t.touches.length&&(p.touch.id=h.identifier),p.touch.id!==h.identifier)return;s||("touchstart"===o||"touchmove"===o)&&d.handleTouchAction(t),"touchend"===o&&(p.mouse.target=Polymer.dom(t).rootTarget,e(!0))}if(r=t[i],!r.skip)for(var u,f=d.recognizers,_=0;_<f.length;_++)u=f[_],c[u.name]&&!r[u.name]&&(r[u.name]=!0,u[o](t))}},handleTouchAction:function(t){var e=t.changedTouches[0],s=t.type;if("touchstart"===s)p.touch.x=e.clientX,p.touch.y=e.clientY,p.touch.scrollDecided=!1;else if("touchmove"===s){if(p.touch.scrollDecided)return;p.touch.scrollDecided=!0;var n=r(t),i=!1,o=Math.abs(p.touch.x-e.clientX),a=Math.abs(p.touch.y-e.clientY);t.cancelable&&("none"===n?i=!0:"pan-x"===n?i=a>o:"pan-y"===n&&(i=o>a)),i&&t.preventDefault()}},add:function(t,e,r){var s=this.gestures[e],i=s.deps,o=s.name,a=t[n];a||(t[n]=a={});for(var l,c,h=0;h<i.length;h++)l=i[h],c=a[l],c||(a[l]=c={},t.addEventListener(l,this.handleNative)),c[o]=(c[o]||0)+1;t.addEventListener(e,r),s.touchAction&&this.setTouchAction(t,s.touchAction)},register:function(t){this.recognizers.push(t);for(var e=0;e<t.emits.length;e++)this.gestures[t.emits[e]]=t},setTouchAction:function(t,e){s&&(t.style.touchAction=e),t[o]=e},fire:function(t,e,r){var s=new CustomEvent(e,{detail:r,bubbles:!0,cancelable:!0});t.dispatchEvent(s)}};d.register({name:"downup",deps:["mousedown","touchstart","touchend"],emits:["down","up"],mousedown:function(t){var e=t.currentTarget,r=this,s=function n(t){r.fire("up",e,t),document.removeEventListener("mouseup",n)};document.addEventListener("mouseup",s),this.fire("down",e,t)},touchstart:function(t){this.fire("down",t.currentTarget,t.changedTouches[0])},touchend:function(t){this.fire("up",t.currentTarget,t.changedTouches[0])},fire:function(t,e,r){d.fire(e,t,{x:r.clientX,y:r.clientY,sourceEvent:r})}}),d.register({name:"track",touchAction:"none",deps:["mousedown","touchstart","touchmove","touchend"],emits:["track"],info:{x:0,y:0,state:"start",started:!1,moves:[],addMove:function(t){this.moves.length>c&&this.moves.shift(),this.moves.push(t)}},clearInfo:function(){this.info.state="start",this.info.started=!1,this.info.moves=[],this.info.x=0,this.info.y=0},hasMovedEnough:function(t,e){if(this.info.started)return!0;var r=Math.abs(this.info.x-t),s=Math.abs(this.info.y-e);return r>=l||s>=l},mousedown:function(t){var e=t.currentTarget,r=this,s=function(t){var s=t.clientX,n=t.clientY;r.hasMovedEnough(s,n)&&(r.info.state=r.info.started?"mouseup"===t.type?"end":"track":"start",r.info.addMove({x:s,y:n}),r.fire(e,t),t.preventDefault(),r.info.started=!0)},n=function i(t){r.info.started&&(p.tapPrevented=!0,s(t)),r.clearInfo(),document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",i)};document.addEventListener("mousemove",s),document.addEventListener("mouseup",n),this.info.x=t.clientX,this.info.y=t.clientY},touchstart:function(t){var e=t.changedTouches[0];this.info.x=e.clientX,this.info.y=e.clientY},touchmove:function(t){var e=t.currentTarget,r=t.changedTouches[0],s=r.clientX,n=r.clientY;this.hasMovedEnough(s,n)&&(this.info.addMove({x:s,y:n}),this.fire(e,r),this.info.state="track",this.info.started=!0)},touchend:function(t){var e=t.currentTarget,r=t.changedTouches[0];this.info.started&&(p.tapPrevented=!0,this.info.state="end",this.info.addMove({x:r.clientX,y:r.clientY}),this.fire(e,r)),this.clearInfo()},fire:function(t,e){var r,s=this.info.moves[this.info.moves.length-2],n=this.info.moves[this.info.moves.length-1],i=n.x-this.info.x,o=n.y-this.info.y,a=0;return s&&(r=n.x-s.x,a=n.y-s.y),d.fire(t,"track",{state:this.info.state,x:e.clientX,y:e.clientY,dx:i,dy:o,ddx:r,ddy:a,sourceEvent:e,hover:function(){return d.deepTargetFind(e.clientX,e.clientY)}})}}),d.register({name:"tap",deps:["mousedown","click","touchstart","touchend"],emits:["tap"],start:{x:NaN,y:NaN},reset:function(){this.start.x=NaN,this.start.y=NaN},save:function(t){this.start.x=t.clientX,this.start.y=t.clientY},mousedown:function(t){p.tapPrevented=!1,this.save(t)},click:function(t){this.forward(t)},touchstart:function(t){p.tapPrevented=!1,this.save(t.changedTouches[0])},touchend:function(t){this.forward(t.changedTouches[0])},forward:function(t){var e=Math.abs(t.clientX-this.start.x),r=Math.abs(t.clientY-this.start.y);(isNaN(e)||isNaN(r)||a>=e&&a>=r)&&(p.tapPrevented||d.fire(t.target,"tap",{x:t.clientX,y:t.clientY,sourceEvent:t})),this.reset()}});var _={x:"pan-x",y:"pan-y",none:"none",all:"auto"};Polymer.Base._addFeature({_listen:function(t,e,r){d.gestures[e]?d.add(t,e,r):t.addEventListener(e,r)},setScrollDirection:function(t,e){e=e||this,d.setTouchAction(e,_[t]||"auto")}}),Polymer.Gestures=d}(),Polymer.Async=function(){function t(t,e){return e>0?~setTimeout(t,e):(o.textContent=s++,i.push(t),s-1)}function e(t){if(0>t)clearTimeout(~t);else{var e=t-n;if(e>=0){if(!i[e])throw"invalid async handle: "+t;i[e]=null}}}function r(){for(var t=i.length,e=0;t>e;e++){var r=i[e];r&&r()}i.splice(0,t),n+=t}var s=0,n=0,i=[],o=document.createTextNode("");return new(window.MutationObserver||JsMutationObserver)(r).observe(o,{characterData:!0}),{run:t,cancel:e}}(),Polymer.Debounce=function(){function t(t,e,s){return t?t.stop():t=new r(this),t.go(e,s),t}var e=Polymer.Async,r=function(t){this.context=t,this.boundComplete=this.complete.bind(this)};return r.prototype={go:function(t,r){var s;this.finish=function(){e.cancel(s)},s=e.run(this.boundComplete,r),this.callback=t},stop:function(){this.finish&&(this.finish(),this.finish=null)},complete:function(){this.finish&&(this.stop(),this.callback.call(this.context))}},t}(),Polymer.Base._addFeature({$$:function(t){return Polymer.dom(this.root).querySelector(t)},toggleClass:function(t,e,r){r=r||this,1==arguments.length&&(e=!r.classList.contains(t)),e?Polymer.dom(r).classList.add(t):Polymer.dom(r).classList.remove(t)},toggleAttribute:function(t,e,r){r=r||this,1==arguments.length&&(e=!r.hasAttribute(t)),e?Polymer.dom(r).setAttribute(t,""):Polymer.dom(r).removeAttribute(t)},classFollows:function(t,e,r){r&&Polymer.dom(r).classList.remove(t),e&&Polymer.dom(e).classList.add(t)},attributeFollows:function(t,e,r){r&&Polymer.dom(r).removeAttribute(t),e&&Polymer.dom(e).setAttribute(t,"")},getContentChildNodes:function(t){return Polymer.dom(Polymer.dom(this.root).querySelector(t||"content")).getDistributedNodes()},getContentChildren:function(t){return this.getContentChildNodes(t).filter(function(t){return t.nodeType===Node.ELEMENT_NODE})},fire:function(t,e,r){r=r||Polymer.nob;var s=r.node||this,e=null===e||void 0===e?Polymer.nob:e,n=void 0===r.bubbles?!0:r.bubbles,i=new CustomEvent(t,{bubbles:Boolean(n),cancelable:Boolean(r.cancelable),detail:e});return s.dispatchEvent(i),i},async:function(t,e){return Polymer.Async.run(t.bind(this),e)},cancelAsync:function(t){Polymer.Async.cancel(t)},arrayDelete:function(t,e){var r;if(Array.isArray(t)){if(r=t.indexOf(e),r>=0)return t.splice(r,1)}else{var s=this.get(t);if(r=s.indexOf(e),r>=0)return this.splice(t,r,1)}},transform:function(t,e){e=e||this,e.style.webkitTransform=t,e.style.transform=t},translate3d:function(t,e,r,s){s=s||this,this.transform("translate3d("+t+","+e+","+r+")",s)},importHref:function(t,e,r){var s=document.createElement("link");return s.rel="import",s.href=t,e&&(s.onload=e.bind(this)),r&&(s.onerror=r.bind(this)),document.head.appendChild(s),s},create:function(t,e){var r=document.createElement(t);if(e)for(var s in e)r[s]=e[s];return r},mixin:function(t,e){for(var r in e)t[r]=e[r]}}),Polymer.Bind={prepareModel:function(t){t._propertyEffects={},t._bindListeners=[];var e=this._modelApi;for(var r in e)t[r]=e[r]},_modelApi:{_notifyChange:function(t){var e=Polymer.CaseMap.camelToDashCase(t)+"-changed";this.fire(e,{value:this[t]},{bubbles:!1})},_propertySet:function(t,e,r){var s=this.__data__[t];return s!==e&&(this.__data__[t]=e,"object"==typeof e&&this._clearPath(t),this._propertyChanged&&this._propertyChanged(t,e,s),r&&this._effectEffects(t,e,r,s)),s},_effectEffects:function(t,e,r,s){r.forEach(function(r){var n=Polymer.Bind["_"+r.kind+"Effect"];n&&n.call(this,t,e,r.effect,s)},this)},_clearPath:function(t){for(var e in this.__data__)0===e.indexOf(t+".")&&(this.__data__[e]=void 0)}},ensurePropertyEffects:function(t,e){var r=t._propertyEffects[e];return r||(r=t._propertyEffects[e]=[]),r},addPropertyEffect:function(t,e,r,s){var n=this.ensurePropertyEffects(t,e);n.push({kind:r,effect:s})},createBindings:function(t){var e=t._propertyEffects;if(e)for(var r in e){var s=e[r];s.sort(this._sortPropertyEffects),this._createAccessors(t,r,s)}},_sortPropertyEffects:function(){var t={compute:0,annotation:1,computedAnnotation:2,reflect:3,notify:4,observer:5,complexObserver:6,"function":7};return function(e,r){return t[e.kind]-t[r.kind]}}(),_createAccessors:function(t,e,r){var s={get:function(){return this.__data__[e]}},n=function(t){this._propertySet(e,t,r)};t.getPropertyInfo&&t.getPropertyInfo(e).readOnly?t["_set"+this.upper(e)]=n:s.set=n,Object.defineProperty(t,e,s)},upper:function(t){return t[0].toUpperCase()+t.substring(1)},_addAnnotatedListener:function(t,e,r,s,n){var i=this._notedListenerFactory(r,s,this._isStructured(s),this._isEventBogus),o=n||Polymer.CaseMap.camelToDashCase(r)+"-changed";t._bindListeners.push({index:e,property:r,path:s,changedFn:i,event:o})},_isStructured:function(t){return t.indexOf(".")>0},_isEventBogus:function(t,e){return t.path&&t.path[0]!==e},_notedListenerFactory:function(t,e,r,s){return function(n,i){if(!s(n,i))if(n.detail&&n.detail.path)this.notifyPath(this._fixPath(e,t,n.detail.path),n.detail.value);else{var o=i[t];r?this.__data__[e]!=o&&this.set(e,o):this[e]=i[t]}}},prepareInstance:function(t){t.__data__=Object.create(null)},setupBindListeners:function(t){t._bindListeners.forEach(function(e){var r=t._nodes[e.index];r.addEventListener(e.event,t._notifyListener.bind(t,e.changedFn))})}},Polymer.Base.extend(Polymer.Bind,{_shouldAddListener:function(t){return t.name&&"{"===t.mode&&!t.negate&&"attribute"!=t.kind},_annotationEffect:function(t,e,r){t!=r.value&&(e=this.get(r.value),this.__data__[r.value]=e);var s=r.negate?!e:e;return r.customEvent&&this._nodes[r.index][r.name]===s?void 0:this._applyEffectValue(s,r)},_reflectEffect:function(t){this.reflectPropertyToAttribute(t)},_notifyEffect:function(t){this._notifyChange(t)},_functionEffect:function(t,e,r,s){r.call(this,t,e,s)},_observerEffect:function(t,e,r,s){var n=this[r.method];n?n.call(this,e,s):this._warn(this._logf("_observerEffect","observer method `"+r.method+"` not defined"))},_complexObserverEffect:function(t,e,r){var s=this[r.method];if(s){var n=Polymer.Bind._marshalArgs(this.__data__,r,t,e);n&&s.apply(this,n)}else this._warn(this._logf("_complexObserverEffect","observer method `"+r.method+"` not defined"))},_computeEffect:function(t,e,r){var s=Polymer.Bind._marshalArgs(this.__data__,r,t,e);if(s){var n=this[r.method];n?this[r.property]=n.apply(this,s):this._warn(this._logf("_computeEffect","compute method `"+r.method+"` not defined"))}},_annotatedComputationEffect:function(t,e,r){var s=this._rootDataHost||this,n=s[r.method];if(n){var i=Polymer.Bind._marshalArgs(this.__data__,r,t,e);if(i){var o=n.apply(s,i);r.negate&&(o=!o),this._applyEffectValue(o,r)}}else s._warn(s._logf("_annotatedComputationEffect","compute method `"+r.method+"` not defined"))},_marshalArgs:function(t,e,r,s){for(var n=[],i=e.args,o=0,a=i.length;a>o;o++){var l,c=i[o],h=c.name;if(l=c.literal?c.value:c.structured?Polymer.Base.get(h,t):t[h],i.length>1&&void 0===l)return;if(c.wildcard){var u=0===h.indexOf(r+"."),f=0===e.trigger.name.indexOf(h)&&!u;n[o]={path:f?r:h,value:f?s:l,base:l}}else n[o]=l}return n}}),Polymer.Base._addFeature({_addPropertyEffect:function(t,e,r){Polymer.Bind.addPropertyEffect(this,t,e,r)},_prepEffects:function(){Polymer.Bind.prepareModel(this),this._addAnnotationEffects(this._notes)},_prepBindings:function(){Polymer.Bind.createBindings(this)},_addPropertyEffects:function(t){if(t)for(var e in t){var r=t[e];r.observer&&this._addObserverEffect(e,r.observer),r.computed&&this._addComputedEffect(e,r.computed),r.notify&&this._addPropertyEffect(e,"notify"),r.reflectToAttribute&&this._addPropertyEffect(e,"reflect"),r.readOnly&&Polymer.Bind.ensurePropertyEffects(this,e)}},_addComputedEffect:function(t,e){var r=this._parseMethod(e);r.args.forEach(function(e){this._addPropertyEffect(e.model,"compute",{method:r.method,args:r.args,trigger:e,property:t})},this)},_addObserverEffect:function(t,e){this._addPropertyEffect(t,"observer",{method:e,property:t})},_addComplexObserverEffects:function(t){t&&t.forEach(function(t){this._addComplexObserverEffect(t)},this)},_addComplexObserverEffect:function(t){var e=this._parseMethod(t);e.args.forEach(function(t){this._addPropertyEffect(t.model,"complexObserver",{method:e.method,args:e.args,trigger:t})},this)},_addAnnotationEffects:function(t){this._nodes=[],t.forEach(function(t){var e=this._nodes.push(t)-1;t.bindings.forEach(function(t){this._addAnnotationEffect(t,e)},this)},this)},_addAnnotationEffect:function(t,e){Polymer.Bind._shouldAddListener(t)&&Polymer.Bind._addAnnotatedListener(this,e,t.name,t.value,t.event),t.signature?this._addAnnotatedComputationEffect(t,e):(t.index=e,this._addPropertyEffect(t.model,"annotation",t))},_addAnnotatedComputationEffect:function(t,e){var r=t.signature;r["static"]?this.__addAnnotatedComputationEffect("__static__",e,t,r,null):r.args.forEach(function(s){s.literal||this.__addAnnotatedComputationEffect(s.model,e,t,r,s)},this)},__addAnnotatedComputationEffect:function(t,e,r,s,n){this._addPropertyEffect(t,"annotatedComputation",{index:e,kind:r.kind,property:r.name,negate:r.negate,method:s.method,args:s.args,trigger:n})},_parseMethod:function(t){var e=t.match(/(\w*)\((.*)\)/);if(e){var r={method:e[1],"static":!0};if(e[2].trim()){var s=e[2].replace(/\\,/g,"&comma;").split(",");return this._parseArgs(s,r)}return r.args=Polymer.nar,r}},_parseArgs:function(t,e){return e.args=t.map(function(t){var r=this._parseArg(t);return r.literal||(e["static"]=!1),r},this),e},_parseArg:function(t){var e=t.trim().replace(/&comma;/g,",").replace(/\\(.)/g,"$1"),r={name:e,model:this._modelForPath(e)},s=e[0];switch(s>="0"&&"9">=s&&(s="#"),s){case"'":case'"':r.value=e.slice(1,-1),r.literal=!0;break;case"#":r.value=Number(e),r.literal=!0}return r.literal||(r.structured=e.indexOf(".")>0,r.structured&&(r.wildcard=".*"==e.slice(-2),r.wildcard&&(r.name=e.slice(0,-2)))),r},_marshalInstanceEffects:function(){Polymer.Bind.prepareInstance(this),Polymer.Bind.setupBindListeners(this)},_applyEffectValue:function(t,e){var r=this._nodes[e.index],s=e.property||e.name||"textContent";return"attribute"!=e.kind?("className"===s&&(t=this._scopeElementClass(r,t)),("textContent"===s||"input"==r.localName&&"value"==s)&&(t=void 0==t?"":t),r[s]=t):void this.serializeValueToAttribute(t,s,r)},_executeStaticEffects:function(){this._propertyEffects.__static__&&this._effectEffects("__static__",null,this._propertyEffects.__static__)}}),Polymer.Base._addFeature({_setupConfigure:function(t){this._config=t||{},this._handlers=[]},_marshalAttributes:function(){this._takeAttributesToModel(this._config)},_configValue:function(t,e){this._config[t]=e},_beforeClientsReady:function(){this._configure()},_configure:function(){this._configureAnnotationReferences();var t={};this.behaviors.forEach(function(e){this._configureProperties(e.properties,t)},this),this._configureProperties(this.properties,t),this._mixinConfigure(t,this._config),this._config=t,this._distributeConfig(this._config)},_configureProperties:function(t,e){for(var r in t){var s=t[r];if(void 0!==s.value){var n=s.value;"function"==typeof n&&(n=n.call(this,this._config)),e[r]=n}}},_mixinConfigure:function(t,e){for(var r in e)this.getPropertyInfo(r).readOnly||(t[r]=e[r])},_distributeConfig:function(t){var e=this._propertyEffects;if(e)for(var r in t){var s=e[r];if(s)for(var n,i=0,o=s.length;o>i&&(n=s[i]);i++)if("annotation"===n.kind){var a=this._nodes[n.effect.index];if(a._configValue){var l=r===n.effect.value?t[r]:this.get(n.effect.value,t);a._configValue(n.effect.name,l)}}}},_afterClientsReady:function(){this._executeStaticEffects(),this._applyConfig(this._config),this._flushHandlers()},_applyConfig:function(t){for(var e in t)if(void 0===this[e]){var r=this._propertyEffects[e];r?this._propertySet(e,t[e],r):this[e]=t[e]}},_notifyListener:function(t,e){return this._clientsReadied?t.call(this,e,e.target):void this._queueHandler([t,e,e.target])},_queueHandler:function(t){this._handlers.push(t)},_flushHandlers:function(){for(var t,e=this._handlers,r=0,s=e.length;s>r&&(t=e[r]);r++)t[0].call(this,t[1],t[2])}}),function(){"use strict";Polymer.Base._addFeature({notifyPath:function(t,e,r){var s=this._propertySet(t,e);s!==e&&(this._pathEffector(t,e),r||this._notifyPath(t,e))},_getPathParts:function(t){if(Array.isArray(t)){for(var e=[],r=0;r<t.length;r++)for(var s=t[r].toString().split("."),n=0;n<s.length;n++)e.push(s[n]);return e}return t.toString().split(".")},set:function(t,e,r){var s,n=r||this,i=this._getPathParts(t),o=i[i.length-1];if(i.length>1){for(var a=0;a<i.length-1;a++){if(n=n[i[a]],s&&(i[a]=Polymer.Collection.get(s).getKey(n)),!n)return;s=Array.isArray(n)?n:null}n[o]=e,r||this.notifyPath(i.join("."),e)}else n[t]=e},get:function(t,e){for(var r=e||this,s=this._getPathParts(t),n=s.pop();s.length;)if(r=r[s.shift()],!r)return;return r[n]},_pathEffector:function(t,e){var r=this._modelForPath(t),s=this._propertyEffects[r];s&&s.forEach(function(r){var s=this["_"+r.kind+"PathEffect"];s&&s.call(this,t,e,r.effect)},this),this._boundPaths&&this._notifyBoundPaths(t,e)},_annotationPathEffect:function(t,e,r){if(r.value===t||0===r.value.indexOf(t+"."))Polymer.Bind._annotationEffect.call(this,t,e,r);else if(0===t.indexOf(r.value+".")&&!r.negate){var s=this._nodes[r.index];if(s&&s.notifyPath){var n=this._fixPath(r.name,r.value,t);s.notifyPath(n,e,!0)}}},_complexObserverPathEffect:function(t,e,r){this._pathMatchesEffect(t,r)&&Polymer.Bind._complexObserverEffect.call(this,t,e,r)},_computePathEffect:function(t,e,r){this._pathMatchesEffect(t,r)&&Polymer.Bind._computeEffect.call(this,t,e,r)},_annotatedComputationPathEffect:function(t,e,r){this._pathMatchesEffect(t,r)&&Polymer.Bind._annotatedComputationEffect.call(this,t,e,r)},_pathMatchesEffect:function(t,e){var r=e.trigger.name;return r==t||0===r.indexOf(t+".")||e.trigger.wildcard&&0===t.indexOf(r)},linkPaths:function(t,e){this._boundPaths=this._boundPaths||{},e?this._boundPaths[t]=e:this.unbindPath(t)},unlinkPaths:function(t){this._boundPaths&&delete this._boundPaths[t]},_notifyBoundPaths:function(t,e){var r,s;for(var n in this._boundPaths){var i=this._boundPaths[n];if(0==t.indexOf(n+".")){r=n,s=i;break}if(0==t.indexOf(i+".")){r=i,s=n;break}}if(r&&s){var o=this._fixPath(s,r,t);this.notifyPath(o,e)}},_fixPath:function(t,e,r){return t+r.slice(e.length)},_notifyPath:function(t,e){var r=this._modelForPath(t),s=Polymer.CaseMap.camelToDashCase(r),n=s+this._EVENT_CHANGED;this.fire(n,{path:t,value:e},{bubbles:!1})},_modelForPath:function(t){var e=t.indexOf(".");return 0>e?t:t.slice(0,e)},_EVENT_CHANGED:"-changed",_notifySplice:function(t,e,r,s,n){var i=[{index:r,addedCount:s,removed:n,object:t,type:"splice"}],o={keySplices:Polymer.Collection.get(t).applySplices(i),indexSplices:i};this.set(e+".splices",o),s!=n.length&&this.notifyPath(e+".length",t.length),o.keySplices=null,o.indexSplices=null},push:function(t){var e=this.get(t),r=Array.prototype.slice.call(arguments,1),s=e.length,n=e.push.apply(e,r);return this._notifySplice(e,t,s,r.length,[]),n},pop:function(t){var e=this.get(t),r=Array.prototype.slice.call(arguments,1),s=e.slice(-1),n=e.pop.apply(e,r);return this._notifySplice(e,t,e.length,0,s),n},splice:function(t,e,r){var s=this.get(t),n=Array.prototype.slice.call(arguments,1),i=s.slice(e,e+r),o=s.splice.apply(s,n);return this._notifySplice(s,t,e,n.length-2,i),o},shift:function(t){var e=this.get(t),r=Array.prototype.slice.call(arguments,1),s=e.shift.apply(e,r);return this._notifySplice(e,t,0,0,[s]),s},unshift:function(t){var e=this.get(t),r=Array.prototype.slice.call(arguments,1),s=e.unshift.apply(e,r);return this._notifySplice(e,t,0,r.length,[]),s}})}(),Polymer.Base._addFeature({resolveUrl:function(t){var e=Polymer.DomModule["import"](this.is),r="";if(e){var s=e.getAttribute("assetpath")||"";r=Polymer.ResolveUrl.resolveUrl(s,e.ownerDocument.baseURI)}return Polymer.ResolveUrl.resolveUrl(t,r)}}),Polymer.CssParse=function(){function t(t){return t[0].selector.indexOf(s)>=0}function e(t){return t.replace(o.customProp,"").replace(o.mixinProp,"").replace(o.mixinApply,"").replace(o.varApply,"")}var r={parse:function(t){return t=this._clean(t),this._parseCss(this._lex(t),t)},_clean:function(t){return t.replace(o.comments,"").replace(o.port,"")},_lex:function(t){for(var e={start:0,end:t.length},r=e,s=0,n=t.length;n>s;s++)switch(t[s]){case this.OPEN_BRACE:r.rules||(r.rules=[]);var i=r,o=i.rules[i.rules.length-1];r={start:s+1,parent:i,previous:o},i.rules.push(r);break;case this.CLOSE_BRACE:r.end=s+1,r=r.parent||e}return e},_parseCss:function(t,e){var r=e.substring(t.start,t.end-1);if(t.parsedCssText=t.cssText=r.trim(),t.parent){var a=t.previous?t.previous.end:t.parent.start;r=e.substring(a,t.start-1),r=r.substring(r.lastIndexOf(";")+1);var l=t.parsedSelector=t.selector=r.trim();t.atRule=0===l.indexOf(i),t.atRule?0===l.indexOf(n)?t.type=this.types.MEDIA_RULE:l.match(o.keyframesRule)&&(t.type=this.types.KEYFRAMES_RULE):0===l.indexOf(s)?t.type=this.types.MIXIN_RULE:t.type=this.types.STYLE_RULE}var c=t.rules;if(c)for(var h,u=0,f=c.length;f>u&&(h=c[u]);u++)this._parseCss(h,e);return t},stringify:function(r,s,n){n=n||"";var i="";if(r.cssText||r.rules){var o=r.rules;if(!o||!s&&t(o))i=s?r.cssText:e(r.cssText),i=i.trim(),i&&(i="  "+i+"\n");else for(var a,l=0,c=o.length;c>l&&(a=o[l]);l++)i=this.stringify(a,s,i)}return i&&(r.selector&&(n+=r.selector+" "+this.OPEN_BRACE+"\n"),n+=i,r.selector&&(n+=this.CLOSE_BRACE+"\n\n")),n},types:{STYLE_RULE:1,KEYFRAMES_RULE:7,MEDIA_RULE:4,MIXIN_RULE:1e3},OPEN_BRACE:"{",CLOSE_BRACE:"}"},s="--",n="@media",i="@",o={comments:/\/\*[^*]*\*+([^\/*][^*]*\*+)*\//gim,port:/@import[^;]*;/gim,customProp:/(?:^|[\s;])--[^;{]*?:[^{};]*?;/gim,mixinProp:/(?:^|[\s;])--[^;{]*?:[^{;]*?{[^}]*?};?/gim,mixinApply:/@apply[\s]*\([^)]*?\)[\s]*;/gim,varApply:/[^;:]*?:[^;]*var[^;]*;/gim,keyframesRule:/^@[^\s]*keyframes/};return r}(),Polymer.StyleUtil=function(){return{MODULE_STYLES_SELECTOR:"style, link[rel=import][type~=css]",toCssText:function(t,e,r){return"string"==typeof t&&(t=this.parser.parse(t)),e&&this.forEachStyleRule(t,e),this.parser.stringify(t,r)},forRulesInStyles:function(t,e){for(var r,s=0,n=t.length;n>s&&(r=t[s]);s++)this.forEachStyleRule(this.rulesForStyle(r),e)},rulesForStyle:function(t){return t.__cssRules||(t.__cssRules=this.parser.parse(t.textContent)),t.__cssRules},clearStyleRules:function(t){t.__cssRules=null},forEachStyleRule:function(t,e){var r=(t.selector,!1);t.type===this.ruleTypes.STYLE_RULE?e(t):(t.type===this.ruleTypes.KEYFRAMES_RULE||t.type===this.ruleTypes.MIXIN_RULE)&&(r=!0);var s=t.rules;if(s&&!r)for(var n,i=0,o=s.length;o>i&&(n=s[i]);i++)this.forEachStyleRule(n,e)},applyCss:function(t,e,r,s){var n=document.createElement("style");if(e&&n.setAttribute("scope",e),n.textContent=t,r=r||document.head,!s){var i=r.querySelectorAll("style[scope]");s=i[i.length-1]}return r.insertBefore(n,s&&s.nextSibling||r.firstChild),n},cssFromModule:function(t){var e=Polymer.DomModule["import"](t);if(e&&!e._cssText){for(var r,s="",n=Array.prototype.slice.call(e.querySelectorAll(this.MODULE_STYLES_SELECTOR)),i=0;i<n.length;i++)r=n[i],"style"===r.localName?(r=r.__appliedElement||r,r.parentNode.removeChild(r)):r=r["import"]&&r["import"].body,r&&(s+=Polymer.ResolveUrl.resolveCss(r.textContent,r.ownerDocument));e._cssText=s}return e&&e._cssText||""},parser:Polymer.CssParse,ruleTypes:Polymer.CssParse.types}}(),Polymer.StyleTransformer=function(){var t=Polymer.Settings.useNativeShadow,e=Polymer.StyleUtil,r={dom:function(t,e,r,s){this._transformDom(t,e||"",r,s)},_transformDom:function(t,e,r,s){t.setAttribute&&this.element(t,e,r,s);for(var n=Polymer.dom(t).childNodes,i=0;i<n.length;i++)this._transformDom(n[i],e,r,s)},element:function(t,e,r,n){if(r)n?t.removeAttribute(s):t.setAttribute(s,e);else if(e)if(t.classList)n?(t.classList.remove(s),t.classList.remove(e)):(t.classList.add(s),t.classList.add(e));else if(t.getAttribute){var i=t.getAttribute(_);n?i&&t.setAttribute(_,i.replace(s,"").replace(e,"")):t.setAttribute(_,i+(i?" ":"")+s+" "+e)}},elementStyles:function(r,s){for(var n,i=r._styles,o="",a=0,l=i.length;l>a&&(n=i[a]);a++){var c=e.rulesForStyle(n);o+=t?e.toCssText(c,s):this.css(c,r.is,r["extends"],s,r._scopeCssViaAttr)+"\n\n"}return o.trim()},css:function(t,r,s,n,i){var o=this._calcHostScope(r,s);r=this._calcElementScope(r,i);var a=this;return e.toCssText(t,function(t){t.isScoped||(a.rule(t,r,o),t.isScoped=!0),n&&n(t,r,o)})},_calcElementScope:function(t,e){return t?e?f+t+p:u+t:""},_calcHostScope:function(t,e){return e?"[is="+t+"]":t},rule:function(t,e,r){this._transformRule(t,this._transformComplexSelector,e,r);
},_transformRule:function(t,e,r,s){for(var n,o=t.selector.split(i),a=0,l=o.length;l>a&&(n=o[a]);a++)o[a]=e.call(this,n,r,s);t.selector=o.join(i)},_transformComplexSelector:function(t,e,r){var s=!1,n=this;return t=t.replace(o,function(t,i,o){if(!s){var a=n._transformCompoundSelector(o,i,e,r);a.stop&&(s=!0),i=a.combinator,o=a.value}return i+o})},_transformCompoundSelector:function(t,e,r,s){var n=t.search(h);t.indexOf(a)>=0?(t=t.replace(l,function(t,e,r){return s+r}),t=t.replace(a,s)):0!==n&&(t=r?this._transformSimpleSelector(t,r):t),t.indexOf(c)>=0&&(e="");var i;return n>=0&&(t=t.replace(h," "),i=!0),{value:t,combinator:e,stop:i}},_transformSimpleSelector:function(t,e){var r=t.split(d);return r[0]+=e,r.join(d)},rootRule:function(t){this._transformRule(t,this._transformRootSelector)},_transformRootSelector:function(t){return t.match(h)?this._transformComplexSelector(t):t.trim()+n},SCOPE_NAME:"style-scope"},s=r.SCOPE_NAME,n=":not(["+s+"]):not(."+s+")",i=",",o=/(^|[\s>+~]+)([^\s>+~]+)/g,a=":host",l=/(\:host)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/g,c="::content",h=/\:\:content|\:\:shadow|\/deep\//,u=".",f="["+s+"~=",p="]",d=":",_="class";return r}(),Polymer.StyleExtends=function(){var t=Polymer.StyleUtil;return{hasExtends:function(t){return Boolean(t.match(this.rx.EXTEND))},transform:function(e){var r=t.rulesForStyle(e),s=this;return t.forEachStyleRule(r,function(t){s._mapRule(t);if(t.parent)for(var e;e=s.rx.EXTEND.exec(t.cssText);){var r=e[1],n=s._findExtendor(r,t);n&&s._extendRule(t,n)}t.cssText=t.cssText.replace(s.rx.EXTEND,"")}),t.toCssText(r,function(t){t.selector.match(s.rx.STRIP)&&(t.cssText="")},!0)},_mapRule:function(t){if(t.parent){for(var e,r=t.parent.map||(t.parent.map={}),s=t.selector.split(","),n=0;n<s.length;n++)e=s[n],r[e.trim()]=t;return r}},_findExtendor:function(t,e){return e.parent&&e.parent.map&&e.parent.map[t]||this._findExtendor(t,e.parent)},_extendRule:function(t,e){t.parent!==e.parent&&this._cloneAndAddRuleToParent(e,t.parent),t["extends"]=t["extends"]||(t["extends"]=[]),t["extends"].push(e),e.selector=e.selector.replace(this.rx.STRIP,""),e.selector=(e.selector&&e.selector+",\n")+t.selector,e["extends"]&&e["extends"].forEach(function(e){this._extendRule(t,e)},this)},_cloneAndAddRuleToParent:function(t,e){t=Object.create(t),t.parent=e,t["extends"]&&(t["extends"]=t["extends"].slice()),e.rules.push(t)},rx:{EXTEND:/@extends\(([^)]*)\)\s*?;/gim,STRIP:/%[^,]*$/}}}(),function(){var t=Polymer.Base._prepElement,e=Polymer.Settings.useNativeShadow,r=Polymer.StyleUtil,s=Polymer.StyleTransformer,n=Polymer.StyleExtends;Polymer.Base._addFeature({_prepElement:function(e){this._encapsulateStyle&&s.element(e,this.is,this._scopeCssViaAttr),t.call(this,e)},_prepStyles:function(){void 0===this._encapsulateStyle&&(this._encapsulateStyle=!e&&Boolean(this._template)),this._styles=this._collectStyles();var t=s.elementStyles(this);if(t&&this._template){var n=r.applyCss(t,this.is,e?this._template.content:null);e||(this._scopeStyle=n)}},_collectStyles:function(){var t=[],e="",s=this.styleModules;if(s)for(var i,o=0,a=s.length;a>o&&(i=s[o]);o++)e+=r.cssFromModule(i);if(e+=r.cssFromModule(this.is)){var l=document.createElement("style");l.textContent=e,n.hasExtends(l.textContent)&&(e=n.transform(l)),t.push(l)}return t},_elementAdd:function(t){this._encapsulateStyle&&(t.__styleScoped?t.__styleScoped=!1:s.dom(t,this.is,this._scopeCssViaAttr))},_elementRemove:function(t){this._encapsulateStyle&&s.dom(t,this.is,this._scopeCssViaAttr,!0)},scopeSubtree:function(t,r){if(!e){var s=this,n=function(t){if(t.nodeType===Node.ELEMENT_NODE){t.className=s._scopeElementClass(t,t.className);var e=t.querySelectorAll("*");Array.prototype.forEach.call(e,function(t){t.className=s._scopeElementClass(t,t.className)})}};if(n(t),r){var i=new MutationObserver(function(t){t.forEach(function(t){if(t.addedNodes)for(var e=0;e<t.addedNodes.length;e++)n(t.addedNodes[e])})});return i.observe(t,{childList:!0,subtree:!0}),i}}}})}(),Polymer.StyleProperties=function(){function t(t,e){var r=parseInt(t/32),s=1<<t%32;e[r]=(e[r]||0)|s}var e=Polymer.Settings.useNativeShadow,r=Polymer.DomApi.matchesSelector,s=Polymer.StyleUtil,n=Polymer.StyleTransformer;return{decorateStyles:function(t){var e=this,r={};s.forRulesInStyles(t,function(t){e.decorateRule(t),e.collectPropertiesInCssText(t.propertyInfo.cssText,r)});var n=[];for(var i in r)n.push(i);return n},decorateRule:function(t){if(t.propertyInfo)return t.propertyInfo;var e={},r={},s=this.collectProperties(t,r);return s&&(e.properties=r,t.rules=null),e.cssText=this.collectCssText(t),t.propertyInfo=e,e},collectProperties:function(t,e){var r=t.propertyInfo;if(!r){for(var s,n,i=this.rx.VAR_ASSIGN,o=t.parsedCssText;s=i.exec(o);)e[s[1]]=(s[2]||s[3]).trim(),n=!0;return n}return r.properties?(Polymer.Base.mixin(e,r.properties),!0):void 0},collectCssText:function(t){var e="",r=t.parsedCssText;r=r.replace(this.rx.BRACKETED,"").replace(this.rx.VAR_ASSIGN,"");for(var s,n=r.split(";"),i=0;i<n.length;i++)s=n[i],(s.match(this.rx.MIXIN_MATCH)||s.match(this.rx.VAR_MATCH))&&(e+=s+";\n");return e},collectPropertiesInCssText:function(t,e){for(var r;r=this.rx.VAR_CAPTURE.exec(t);)e[r[1]]=!0},reify:function(t){for(var e,r=Object.getOwnPropertyNames(t),s=0;s<r.length;s++)e=r[s],t[e]=this.valueForProperty(t[e],t)},valueForProperty:function(t,e){if(t)if(t.indexOf(";")>=0)t=this.valueForProperties(t,e);else{var r=this,s=function(t,s,n,i){var o=r.valueForProperty(e[n],e)||(e[i]?r.valueForProperty(e[i],e):i);return s+(o||"")};t=t.replace(this.rx.VAR_MATCH,s)}return t&&t.trim()||""},valueForProperties:function(t,e){for(var r,s,n=t.split(";"),i=0;i<n.length&&(r=n[i]);i++){if(s=r.match(this.rx.MIXIN_MATCH))r=this.valueForProperty(e[s[1]],e);else{var o=r.split(":");o[1]&&(o[1]=o[1].trim(),o[1]=this.valueForProperty(o[1],e)||o[1]),r=o.join(":")}n[i]=r&&r.lastIndexOf(";")===r.length-1?r.slice(0,-1):r||""}return n.join(";")},applyProperties:function(t,e){var r="";t.propertyInfo||this.decorateRule(t),t.propertyInfo.cssText&&(r=this.valueForProperties(t.propertyInfo.cssText,e)),t.cssText=r},propertyDataFromStyles:function(e,n){var i={},o=this,a=[],l=0;return s.forRulesInStyles(e,function(e){e.propertyInfo||o.decorateRule(e),n&&e.propertyInfo.properties&&r.call(n,e.selector)&&(o.collectProperties(e,i),t(l,a)),l++}),{properties:i,key:a}},scopePropertiesFromStyles:function(t){return t._scopeStyleProperties||(t._scopeStyleProperties=this.selectedPropertiesFromStyles(t,this.SCOPE_SELECTORS)),t._scopeStyleProperties},hostPropertiesFromStyles:function(t){return t._hostStyleProperties||(t._hostStyleProperties=this.selectedPropertiesFromStyles(t,this.HOST_SELECTORS)),t._hostStyleProperties},selectedPropertiesFromStyles:function(t,e){var r={},n=this;return s.forRulesInStyles(t,function(t){t.propertyInfo||n.decorateRule(t);for(var s=0;s<e.length;s++)if(t.parsedSelector===e[s])return void n.collectProperties(t,r)}),r},transformStyles:function(t,r,s){var i=this,o=new RegExp(this.rx.HOST_PREFIX+t.is+this.rx.HOST_SUFFIX);return n.elementStyles(t,function(n){i.applyProperties(n,r),n.cssText&&!e&&i._scopeSelector(n,o,t.is,t._scopeCssViaAttr,s)})},_scopeSelector:function(t,e,r,s,i){t.transformedSelector=t.transformedSelector||t.selector;for(var o,a=t.transformedSelector,l=s?"["+n.SCOPE_NAME+"~="+i+"]":"."+i,c=a.split(","),h=0,u=c.length;u>h&&(o=c[h]);h++)c[h]=o.match(e)?o.replace(r,r+l):l+" "+o;t.selector=c.join(",")},applyElementScopeSelector:function(t,e,r,s){var i=s?t.getAttribute(n.SCOPE_NAME):t.className;v=r?i.replace(r,e):(i?i+" ":"")+this.XSCOPE_NAME+" "+e,i!==v&&(s?t.setAttribute(n.SCOPE_NAME,v):t.className=v)},applyElementStyle:function(t,r,n,i){var o=i?i.textContent||"":this.transformStyles(t,r,n),a=t._customStyle;return a&&!e&&a!==i&&(a._useCount--,a._useCount<=0&&a.parentNode.removeChild(a)),!e&&i&&i.parentNode||(e&&t._customStyle?(t._customStyle.textContent=o,i=t._customStyle):o&&(i=s.applyCss(o,n,e?t.root:null,t._scopeStyle))),i&&(i._useCount=i._useCount||0,t._customStyle!=i&&i._useCount++,t._customStyle=i),i},rx:{VAR_ASSIGN:/(?:^|;\s*)(--[^\:;]*?):\s*?(?:([^;{]*?)|{([^}]*)})(?=;)/gim,MIXIN_MATCH:/(?:^|\W+)@apply[\s]*\(([^)]*)\);?/im,VAR_MATCH:/(^|\W+)var\([\s]*([^,)]*)[\s]*,?[\s]*((?:[^,)]*)|(?:[^;]*\([^;)]*\)))[\s]*?\)/gim,VAR_CAPTURE:/\([\s]*(--[^,\s)]*)(?:,[\s]*(--[^,\s)]*))?(?:\)|,)/gim,BRACKETED:/\{[^}]*\}/g,HOST_PREFIX:"(?:^|[^.])",HOST_SUFFIX:"($|[.:[\\s>+~])"},HOST_SELECTORS:[":host"],SCOPE_SELECTORS:[":root"],XSCOPE_NAME:"x-scope"}}(),Polymer.StyleDefaults=function(){var t=Polymer.StyleProperties,e=Polymer.StyleUtil,r=document.createElement("style"),s={style:r,_styles:[r],_properties:null,applyCss:function(t){this.style.textContent+=t,e.clearStyleRules(this.style),this._properties=null},get _styleProperties(){return this._properties||(t.decorateStyles(this._styles),this._styles._scopeStyleProperties=null,this._properties=t.scopePropertiesFromStyles(this._styles)),this._properties},_needsStyleProperties:function(){},_computeStyleProperties:function(){return this._styleProperties}};return s}(),function(){Polymer.StyleCache=function(){this.cache={}},Polymer.StyleCache.prototype={MAX:100,store:function(t,e,r,s){e.keyValues=r,e.styles=s;var n=this.cache[t]=this.cache[t]||[];n.push(e),n.length>this.MAX&&n.shift()},retrieve:function(t,e,r){var s=this.cache[t];if(s)for(var n,i=s.length-1;i>=0;i--)if(n=s[i],r===n.styles&&this._objectsEqual(e,n.keyValues))return n},clear:function(){this.cache={}},_objectsEqual:function(t,e){for(var r in t)if(t[r]!==e[r])return!1;return Array.isArray(t)?t.length===e.length:!0}}}(),function(){var t=Polymer.Base.serializeValueToAttribute,e=Polymer.StyleProperties,r=Polymer.StyleTransformer,s=(Polymer.StyleUtil,Polymer.StyleDefaults),n=Polymer.Settings.useNativeShadow;Polymer.Base._addFeature({_prepStyleProperties:function(){this._ownStylePropertyNames=this._styles?e.decorateStyles(this._styles):[]},_setupStyleProperties:function(){this.customStyle={}},_needsStyleProperties:function(){return Boolean(this._ownStylePropertyNames&&this._ownStylePropertyNames.length)},_beforeAttached:function(){!this._scopeSelector&&this._needsStyleProperties()&&this._updateStyleProperties()},_updateStyleProperties:function(){var t,r=this.domHost||s;r._styleCache||(r._styleCache=new Polymer.StyleCache);var o=e.propertyDataFromStyles(r._styles,this);t=r._styleCache.retrieve(this.is,o.key,this._styles);var a=Boolean(t);a?this._styleProperties=t._styleProperties:this._computeStyleProperties(o.properties),this._computeOwnStyleProperties(),a||(t=i.retrieve(this.is,this._ownStyleProperties,this._styles));var l=Boolean(t)&&!a;if(style=this._applyStyleProperties(t),!a){var c=style;n&&(c=style.cloneNode?style.cloneNode(!0):Object.create(style||null)),t={style:c,_scopeSelector:this._scopeSelector,_styleProperties:this._styleProperties},r._styleCache.store(this.is,t,o.key,this._styles),l||i.store(this.is,Object.create(t),this._ownStyleProperties,this._styles)}},_computeStyleProperties:function(t){var r=this.domHost||s;r._styleProperties||r._computeStyleProperties();var n=Object.create(r._styleProperties);this.mixin(n,e.hostPropertiesFromStyles(this._styles)),t=t||e.propertyDataFromStyles(r._styles,this).properties,this.mixin(n,t),this.mixin(n,e.scopePropertiesFromStyles(this._styles)),this.mixin(n,this.customStyle),e.reify(n),this._styleProperties=n},_computeOwnStyleProperties:function(){for(var t,e={},r=0;r<this._ownStylePropertyNames.length;r++)t=this._ownStylePropertyNames[r],e[t]=this._styleProperties[t];this._ownStyleProperties=e},_scopeCount:0,_applyStyleProperties:function(t){var r=this._scopeSelector;return this._scopeSelector=t?t._scopeSelector:this.is+"-"+this.__proto__._scopeCount++,style=e.applyElementStyle(this,this._styleProperties,this._scopeSelector,t&&t.style),!style&&!r||n||e.applyElementScopeSelector(this,this._scopeSelector,r,this._scopeCssViaAttr),style||{}},serializeValueToAttribute:function(e,r,s){if(s=s||this,"class"===r){var n=s===this?this.domHost||this.dataHost:this;n&&(e=n._scopeElementClass(s,e))}s=Polymer.dom(s),t.call(this,e,r,s)},_scopeElementClass:function(t,e){return n||this._scopeCssViaAttr||(e+=(e?" ":"")+o+" "+this.is+(t._scopeSelector?" "+a+" "+t._scopeSelector:"")),e},updateStyles:function(){this.isAttached&&(this._needsStyleProperties()?this._updateStyleProperties():this._styleProperties=null,this._styleCache&&this._styleCache.clear(),this._updateRootStyles())},_updateRootStyles:function(t){t=t||this.root;for(var e,r=Polymer.dom(t)._query(function(t){return t.shadyRoot||t.shadowRoot}),s=0,n=r.length;n>s&&(e=r[s]);s++)e.updateStyles&&e.updateStyles()}}),Polymer.updateStyles=function(){s._styleCache.clear(),Polymer.Base._updateRootStyles(document)};var i=new Polymer.StyleCache;Polymer.customStyleCache=i;var o=r.SCOPE_NAME,a=e.XSCOPE_NAME}(),Polymer.Base._addFeature({_registerFeatures:function(){this._prepIs(),this._prepAttributes(),this._prepExtends(),this._prepConstructor(),this._prepTemplate(),this._prepStyles(),this._prepStyleProperties(),this._prepAnnotations(),this._prepEffects(),this._prepBehaviors(),this._prepBindings(),this._prepShady()},_prepBehavior:function(t){this._addPropertyEffects(t.properties),this._addComplexObserverEffects(t.observers),this._addHostAttributes(t.hostAttributes)},_initFeatures:function(){this._poolContent(),this._setupConfigure(),this._setupStyleProperties(),this._pushHost(),this._stampTemplate(),this._popHost(),this._marshalAnnotationReferences(),this._marshalHostAttributes(),this._setupDebouncers(),this._marshalInstanceEffects(),this._marshalBehaviors(),this._marshalAttributes(),this._tryReady()},_marshalBehavior:function(t){this._listenListeners(t.listeners)}}),function(){var t=Polymer.Settings.useNativeShadow,e=Polymer.StyleProperties,r=Polymer.StyleUtil,s=Polymer.StyleDefaults;Polymer({is:"custom-style","extends":"style",created:function(){if(this._appliesToDocument="dom-module"!==this.parentNode.localName,this._appliesToDocument){var t=this.__appliedElement||this,s=r.rulesForStyle(t);e.decorateStyles([t]),this._rulesToDefaultProperties(s),this.async(this._applyStyle)}},_applyStyle:function(){var s=this.__appliedElement||this;this._computeStyleProperties();var n=this._styleProperties;s.textContent=r.toCssText(r.rulesForStyle(s),function(r){":root"===r.selector&&(r.selector="body");var s=r.cssText=r.parsedCssText;r.propertyInfo&&r.propertyInfo.cssText&&(s=s.replace(e.rx.VAR_ASSIGN,""),r.cssText=e.valueForProperties(s,n)),t||Polymer.StyleTransformer.rootRule(r)})},_rulesToDefaultProperties:function(t){r.forEachStyleRule(t,function(t){t.propertyInfo.properties||(t.cssText="")});var e=r.parser.stringify(t,!0);e&&s.applyCss(e)}})}(),Polymer.Templatizer={properties:{_hideTemplateChildren:{observer:"_showHideChildren"}},_templatizerStatic:{count:0,callbacks:{},debouncer:null},_instanceProps:Polymer.nob,created:function(){this._templatizerId=this._templatizerStatic.count++},templatize:function(t){if(t._content||(t._content=t.content),t._content._ctor)return this.ctor=t._content._ctor,void this._prepParentProperties(this.ctor.prototype,t);var e=Object.create(Polymer.Base);this._customPrepAnnotations(e,t),e._prepEffects(),this._customPrepEffects(e),e._prepBehaviors(),e._prepBindings(),this._prepParentProperties(e,t),e._notifyPath=this._notifyPathImpl,e._scopeElementClass=this._scopeElementClassImpl,e.listen=this._listenImpl;var r=this._constructorImpl,s=function(t,e){r.call(this,t,e)};s.prototype=e,e.constructor=s,t._content._ctor=s,this.ctor=s},_getRootDataHost:function(){return this.dataHost&&this.dataHost._rootDataHost||this.dataHost},_showHideChildren:function(t){},_debounceTemplate:function(t){this._templatizerStatic.callbacks[this._templatizerId]=t.bind(this),this._templatizerStatic.debouncer=Polymer.Debounce(this._templatizerStatic.debouncer,this._flushTemplates.bind(this,!0))},_flushTemplates:function(t){for(var e=this._templatizerStatic.debouncer;t||e&&e.finish;){e.stop();var r=this._templatizerStatic.callbacks;this._templatizerStatic.callbacks={};for(var s in r)r[s]();t=!1}},_customPrepEffects:function(t){var e=t._parentProps;for(var r in e)t._addPropertyEffect(r,"function",this._createHostPropEffector(r))},_customPrepAnnotations:function(t,e){t._template=e;var r=e._content;if(!r._notes){var s=t._rootDataHost;s&&(Polymer.Annotations.prepElement=s._prepElement.bind(s)),r._notes=Polymer.Annotations.parseAnnotations(e),Polymer.Annotations.prepElement=null,this._processAnnotations(r._notes)}t._notes=r._notes,t._parentProps=r._parentProps},_prepParentProperties:function(t,e){var r=this._parentProps=t._parentProps;if(this._forwardParentProp&&r){var s,n=t._parentPropProto;if(!n){for(s in this._instanceProps)delete r[s];n=t._parentPropProto=Object.create(null),e!=this&&Polymer.Bind.prepareModel(n);for(s in r){var i="_parent_"+s,o=[{kind:"function",effect:this._createForwardPropEffector(s)},{kind:"notify"}];Polymer.Bind._createAccessors(n,i,o)}}e!=this&&(Polymer.Bind.prepareInstance(e),e._forwardParentProp=this._forwardParentProp.bind(this)),this._extendTemplate(e,n)}},_createForwardPropEffector:function(t){return function(e,r){this._forwardParentProp(t,r)}},_createHostPropEffector:function(t){return function(e,r){this.dataHost["_parent_"+t]=r}},_extendTemplate:function(t,e){Object.getOwnPropertyNames(e).forEach(function(r){var s=t[r],n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n),void 0!==s&&t._propertySet(r,s)})},_forwardInstancePath:function(t,e,r){},_notifyPathImpl:function(t,e){var r=this.dataHost,s=t.indexOf("."),n=0>s?t:t.slice(0,s);r._forwardInstancePath.call(r,this,t,e),n in r._parentProps&&r.notifyPath("_parent_"+t,e)},_pathEffector:function(t,e,r){this._forwardParentPath&&0===t.indexOf("_parent_")&&this._forwardParentPath(t.substring(8),e),Polymer.Base._pathEffector.apply(this,arguments)},_constructorImpl:function(t,e){this._rootDataHost=e._getRootDataHost(),this._setupConfigure(t),this._pushHost(e),this.root=this.instanceTemplate(this._template),this.root.__styleScoped=!0,this._popHost(),this._marshalAnnotatedNodes(),this._marshalInstanceEffects(),this._marshalAnnotatedListeners();for(var r=[],s=this.root.firstChild;s;s=s.nextSibling)r.push(s),s._templateInstance=this;this._children=r,this._tryReady()},_listenImpl:function(t,e,r){var s=this,n=this._rootDataHost,i=n._createEventHandler(t,e,r),o=function(t){t.model=s,i(t)};n._listen(t,e,o)},_scopeElementClassImpl:function(t,e){var r=this._rootDataHost;return r?r._scopeElementClass(t,e):void 0},stamp:function(t){if(t=t||{},this._parentProps)for(var e in this._parentProps)t[e]=this["_parent_"+e];return new this.ctor(t,this)}},Polymer({is:"dom-template","extends":"template",behaviors:[Polymer.Templatizer],ready:function(){this.templatize(this)}}),Polymer._collections=new WeakMap,Polymer.Collection=function(t){Polymer._collections.set(t,this),this.userArray=t,this.store=t.slice(),this.initMap()},Polymer.Collection.prototype={constructor:Polymer.Collection,initMap:function(){for(var t=this.omap=new WeakMap,e=this.pmap={},r=this.store,s=0;s<r.length;s++){var n=r[s];n&&"object"==typeof n?t.set(n,s):e[n]=s}},add:function(t){var e=this.store.push(t)-1;return t&&"object"==typeof t?this.omap.set(t,e):this.pmap[t]=e,e},removeKey:function(t){this._removeFromMap(this.store[t]),delete this.store[t]},_removeFromMap:function(t){"object"==typeof t?this.omap["delete"](t):delete this.pmap[t]},remove:function(t){var e=this.getKey(t);return this.removeKey(e),e},getKey:function(t){return"object"==typeof t?this.omap.get(t):this.pmap[t]},getKeys:function(){return Object.keys(this.store)},setItem:function(t,e){this.store[t]=e},getItem:function(t){return this.store[t]},getItems:function(){var t=[],e=this.store;for(var r in e)t.push(e[r]);return t},applySplices:function(t){for(var e=[],r=0;r<t.length;r++){var s,n,i,o=t[r],a=[];for(s=0;s<o.removed.length;s++)n=o.removed[s],i=this.remove(n),a.push(i);var l=[];for(s=0;s<o.addedCount;s++)n=this.userArray[o.index+s],i=this.add(n),l.push(i);e.push({index:o.index,removed:a,removedItems:o.removed,added:l})}return e}},Polymer.Collection.get=function(t){return Polymer._collections.get(t)||new Polymer.Collection(t)},Polymer({is:"dom-repeat","extends":"template",properties:{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},sort:{type:Function,observer:"_sortChanged"},filter:{type:Function,observer:"_filterChanged"},observe:{type:String,observer:"_observeChanged"},delay:Number},behaviors:[Polymer.Templatizer],observers:["_itemsChanged(items.*)"],detached:function(){if(this.rows)for(var t=0;t<this.rows.length;t++)this._detachRow(t)},attached:function(){if(this.rows)for(var t=Polymer.dom(this).parentNode,e=0;e<this.rows.length;e++)Polymer.dom(t).insertBefore(this.rows[e].root,this)},ready:function(){this._instanceProps={__key__:!0},this._instanceProps[this.as]=!0,this._instanceProps[this.indexAs]=!0,this.ctor||this.templatize(this)},_sortChanged:function(){var t=this._getRootDataHost(),e=this.sort;this._sortFn=e&&("function"==typeof e?e:function(){return t[e].apply(t,arguments)}),this._fullRefresh=!0,this.items&&this._debounceTemplate(this._render)},_filterChanged:function(){var t=this._getRootDataHost(),e=this.filter;this._filterFn=e&&("function"==typeof e?e:function(){return t[e].apply(t,arguments)}),this._fullRefresh=!0,this.items&&this._debounceTemplate(this._render)},_observeChanged:function(){this._observePaths=this.observe&&this.observe.replace(".*",".").split(" ")},_itemsChanged:function(t){if("items"==t.path)Array.isArray(this.items)?this.collection=Polymer.Collection.get(this.items):this.items?this._error(this._logf("dom-repeat","expected array for `items`, found",this.items)):this.collection=null,this._splices=[],this._fullRefresh=!0,this._debounceTemplate(this._render);else if("items.splices"==t.path)this._splices=this._splices.concat(t.value.keySplices),this._debounceTemplate(this._render);else{var e=t.path.slice(6);this._forwardItemPath(e,t.value),this._checkObservedPaths(e)}},_checkObservedPaths:function(t){if(this._observePaths){t=t.substring(t.indexOf(".")+1);for(var e=this._observePaths,r=0;r<e.length;r++)if(0===t.indexOf(e[r]))return this._fullRefresh=!0,void(this.delay?this.debounce("render",this._render,this.delay):this._debounceTemplate(this._render))}},render:function(){this._fullRefresh=!0,this.debounce("render",this._render),this._flushTemplates()},_render:function(){var t=this.collection;this._fullRefresh||(this._sortFn?this._applySplicesViewSort(this._splices):this._filterFn?this._fullRefresh=!0:this._applySplicesArraySort(this._splices)),this._fullRefresh&&(this._sortAndFilter(),this._fullRefresh=!1),this._splices=[];var e=this._rowForKey={},r=this._orderedKeys;this.rows=this.rows||[];for(var s=0;s<r.length;s++){var n=r[s],i=t.getItem(n),o=this.rows[s];e[n]=s,o||this.rows.push(o=this._insertRow(s,null,i)),o[this.as]=i,o.__key__=n,o[this.indexAs]=s}for(;s<this.rows.length;s++)this._detachRow(s);this.rows.splice(r.length,this.rows.length-r.length),this.fire("dom-change")},_sortAndFilter:function(){var t=this.collection;if(this._sortFn)this._orderedKeys=t?t.getKeys():[];else{this._orderedKeys=[];var e=this.items;if(e)for(var r=0;r<e.length;r++)this._orderedKeys.push(t.getKey(e[r]))}this._filterFn&&(this._orderedKeys=this._orderedKeys.filter(function(e){return this._filterFn(t.getItem(e))},this)),this._sortFn&&this._orderedKeys.sort(function(e,r){return this._sortFn(t.getItem(e),t.getItem(r))}.bind(this))},_keySort:function(t,e){return this.collection.getKey(t)-this.collection.getKey(e)},_applySplicesViewSort:function(t){var e=this.collection,r=this._orderedKeys,s=this.rows,n=[],i=[],o=[];this._sortFn||this._keySort.bind(this);if(t.forEach(function(t){for(var e=0;e<t.removed.length;e++){var r=this._rowForKey[t.removed[e]];null!=r&&n.push(r)}for(var e=0;e<t.added.length;e++)i.push(t.added[e])},this),n.length){n.sort();for(var a=n.length-1;a>=0;a--){var l=n[a];o.push(this._detachRow(l)),s.splice(l,1),r.splice(l,1)}}if(i.length){this._filterFn&&(i=i.filter(function(t){return this._filterFn(e.getItem(t))},this)),i.sort(function(t,r){return this._sortFn(e.getItem(t),e.getItem(r))}.bind(this));for(var c=0,a=0;a<i.length;a++)c=this._insertRowIntoViewSort(c,i[a],o)}},_insertRowIntoViewSort:function(t,e,r){for(var s=this.collection,n=s.getItem(e),i=this.rows.length-1,o=-1,a=this._sortFn||this._keySort.bind(this);i>=t;){var l=t+i>>1,c=this._orderedKeys[l],h=a(s.getItem(c),n);if(0>h)t=l+1;else{if(!(h>0)){o=l;break}i=l-1}}return 0>o&&(o=i+1),this._orderedKeys.splice(o,0,e),this.rows.splice(o,0,this._insertRow(o,r,s.getItem(e))),o},_applySplicesArraySort:function(t){var e=this._orderedKeys,r=[];t.forEach(function(t){for(var e=0;e<t.removed.length;e++)r.push(this._detachRow(t.index+e));this.rows.splice(t.index,t.removed.length)},this);var s=this.collection;t.forEach(function(t){var n=[t.index,t.removed.length].concat(t.added);e.splice.apply(e,n);for(var i=0;i<t.added.length;i++){var o=s.getItem(t.added[i]),a=this._insertRow(t.index+i,r,o);this.rows.splice(t.index+i,0,a)}},this)},_detachRow:function(t){for(var e=this.rows[t],r=(Polymer.dom(this).parentNode,0);r<e._children.length;r++){var s=e._children[r];Polymer.dom(e.root).appendChild(s)}return e},_insertRow:function(t,e,r){var s=e&&e.pop()||this._generateRow(t,r),n=this.rows[t],i=n?n._children[0]:this,o=Polymer.dom(this).parentNode;return Polymer.dom(o).insertBefore(s.root,i),s},_generateRow:function(t,e){var r={__key__:this.collection.getKey(e)};r[this.as]=e,r[this.indexAs]=t;var s=this.stamp(r);return s},_showHideChildren:function(t){if(this.rows)for(var e=0;e<this.rows.length;e++)for(var r=this.rows[e]._children,s=0;s<r.length;s++){var n=r[s];n.style&&(n.style.display=t?"none":""),n._hideTemplateChildren=t}},_forwardInstancePath:function(t,e,r){return 0===e.indexOf(this.as+".")?(this.notifyPath("items."+t.__key__+"."+e.slice(this.as.length+1),r),!0):void 0},_forwardParentProp:function(t,e){this.rows&&this.rows.forEach(function(r){r[t]=e},this)},_forwardParentPath:function(t,e){this.rows&&this.rows.forEach(function(r){r.notifyPath(t,e,!0)},this)},_forwardItemPath:function(t,e){if(this._rowForKey){var r=t.indexOf("."),s=t.substring(0,0>r?t.length:r),n=this._rowForKey[s],i=this.rows[n];i&&(r>=0?(t=this.as+"."+t.substring(r+1),i.notifyPath(t,e,!0)):i[this.as]=e)}},modelForElement:function(t){for(var e;t;)if(e=t._templateInstance){if(e.dataHost==this)return e;t=e.dataHost}else t=t.parentNode},itemForElement:function(t){var e=this.modelForElement(t);return e&&e[this.as]},keyForElement:function(t){var e=this.modelForElement(t);return e&&e.__key__},indexForElement:function(t){var e=this.modelForElement(t);return e&&e[this.indexAs]}}),Polymer({is:"array-selector",properties:{items:{type:Array,observer:"_itemsChanged"},selected:{type:Object,notify:!0},toggle:Boolean,multi:Boolean},_itemsChanged:function(){if(Array.isArray(this.selected))for(var t=0;t<this.selected.length;t++)this.unlinkPaths("selected."+t);else this.unlinkPaths("selected");this.multi?this.selected=[]:this.selected=null},deselect:function(t){if(this.multi){var e=Polymer.Collection.get(this.selected),r=this.selected.indexOf(t);if(r>=0){var s=e.getKey(t);return this.splice("selected",r,1),this.unlinkPaths("selected."+s),!0}}else this.selected=null,this.unlinkPaths("selected")},select:function(t){var e=Polymer.Collection.get(this.items),r=e.getKey(t);if(this.multi){var s=Polymer.Collection.get(this.selected),n=s.getKey(t);n>=0?this.deselect(t):this.toggle&&(this.push("selected",t),this.async(function(){n=s.getKey(t),this.linkPaths("selected."+n,"items."+r)}))}else this.toggle&&t==this.selected?this.deselect():(this.linkPaths("selected","items."+r),this.selected=t)}}),Polymer({is:"dom-if","extends":"template",properties:{"if":{type:Boolean,value:!1},restamp:{type:Boolean,value:!1}},behaviors:[Polymer.Templatizer],observers:["_queueRender(if, restamp)"],_queueRender:function(){this._debounceTemplate(this._render)},detached:function(){this._teardownInstance()},attached:function(){this["if"]&&this.ctor&&this.async(this._ensureInstance)},render:function(){this._flushTemplates()},_render:function(){this["if"]?(this.ctor||(this._wrapTextNodes(this._content||this.content),this.templatize(this)),this._ensureInstance(),this._showHideChildren()):this.restamp&&this._teardownInstance(),!this.restamp&&this._instance&&this._showHideChildren(),this["if"]!=this._lastIf&&(this.fire("dom-change"),this._lastIf=this["if"])},_ensureInstance:function(){if(!this._instance){this._instance=this.stamp();var t=this._instance.root,e=Polymer.dom(Polymer.dom(this).parentNode);e.insertBefore(t,this)}},_teardownInstance:function(){if(this._instance){var t=this._instance._children;if(t){var e=Polymer.dom(Polymer.dom(t[0]).parentNode);t.forEach(function(t){e.removeChild(t)})}this._instance=null}},_wrapTextNodes:function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType===Node.TEXT_NODE){var r=document.createElement("span");t.insertBefore(r,e),r.appendChild(e),e=r}},_showHideChildren:function(){var t=this._hideTemplateChildren||!this["if"];if(this._instance)for(var e=this._instance._children,r=0;r<e.length;r++){var s=e[r];s.style.display=t?"none":"",s._hideTemplateChildren=t}},_forwardParentProp:function(t,e){this._instance&&(this._instance[t]=e)},_forwardParentPath:function(t,e){this._instance&&this._instance.notifyPath(t,e,!0)}}),Polymer.ImportStatus={_ready:!1,_callbacks:[],whenLoaded:function(t){this._ready?t():this._callbacks.push(t)},_importsLoaded:function(){this._ready=!0,this._callbacks.forEach(function(t){t()}),this._callbacks=[]}},window.addEventListener("load",function(){Polymer.ImportStatus._importsLoaded()}),window.HTMLImports&&HTMLImports.whenReady(function(){Polymer.ImportStatus._importsLoaded()}),Polymer({is:"dom-bind","extends":"template",created:function(){Polymer.ImportStatus.whenLoaded(this._readySelf.bind(this))},_registerFeatures:function(){this._prepExtends(),this._prepConstructor()},_insertChildren:function(){var t=Polymer.dom(Polymer.dom(this).parentNode);t.insertBefore(this.root,this)},_removeChildren:function(){if(this._children)for(var t=0;t<this._children.length;t++)this.root.appendChild(this._children[t])},_initFeatures:function(){},_scopeElementClass:function(t,e){return this.dataHost?this.dataHost._scopeElementClass(t,e):e},_prepConfigure:function(){var t={};for(var e in this._propertyEffects)t[e]=this[e];this._setupConfigure=this._setupConfigure.bind(this,t)},attached:function(){this._children||(this._template=this,this._prepAnnotations(),this._prepEffects(),this._prepBehaviors(),this._prepConfigure(),this._prepBindings(),Polymer.Base._initFeatures.call(this),this._children=Array.prototype.slice.call(this.root.childNodes)),this._insertChildren(),this.fire("dom-change")},detached:function(){this._removeChildren()}});
;!function(e,n){"use strict";"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?module.exports=n():e.viewportUnitsBuggyfill=n()}(this,function(){"use strict";function e(e,n){var t;return function(){var i=this,r=arguments,o=function(){e.apply(i,r)};clearTimeout(t),t=setTimeout(o,n)}}function n(){try{return window.self!==window.top}catch(e){return!0}}function t(t){if(!y){if(t===!0&&(t={force:!0}),v=t||{},v.isMobileSafari=A,v.isBadStockAndroid=C,!(!E&&(v.force||A||T||C||R||v.hacks&&v.hacks.required(v))))return window.console&&E&&console.info("viewport-units-buggyfill requires a proper CSSOM and basic viewport unit support, which are not available in IE8 and below"),{init:function(){}};v.hacks&&v.hacks.initialize(v),y=!0,g=document.createElement("style"),g.id="patched-viewport",document.head.appendChild(g),l(function(){var t=e(r,v.refreshDebounceWait||100);window.addEventListener("orientationchange",t,!0),window.addEventListener("pageshow",t,!0),(v.force||T||n())&&(window.addEventListener("resize",t,!0),v._listeningToResize=!0),v.hacks&&v.hacks.initializeEvents(v,r,t),r()})}}function i(){g.textContent=s(),g.parentNode.appendChild(g)}function r(){y&&(o(),setTimeout(function(){i()},1))}function o(){return m=[],k.call(document.styleSheets,function(e){"patched-viewport"!==e.ownerNode.id&&e.cssRules&&"ignore"!==e.ownerNode.getAttribute("data-viewport-units-buggyfill")&&(e.media&&e.media.mediaText&&window.matchMedia&&!window.matchMedia(e.media.mediaText).matches||k.call(e.cssRules,a))}),m}function a(e){if(7===e.type){var n;try{n=e.cssText}catch(t){return}return b.lastIndex=0,void(b.test(n)&&(m.push([e,null,n]),v.hacks&&v.hacks.findDeclarations(m,e,null,n)))}if(!e.style){if(!e.cssRules)return;return void k.call(e.cssRules,function(e){a(e)})}k.call(e.style,function(n){var t=e.style.getPropertyValue(n);e.style.getPropertyPriority(n)&&(t+=" !important"),b.lastIndex=0,b.test(t)&&(m.push([e,n,t]),v.hacks&&v.hacks.findDeclarations(m,e,n,t))})}function s(){w=d();var e,n,t=[],i=[];return m.forEach(function(r){var o=u.apply(null,r),a=o.selector.length?o.selector.join(" {\n")+" {\n":"",s=new Array(o.selector.length+1).join("\n}");return a&&a===e?(a&&!e&&(e=a,n=s),void i.push(o.content)):(i.length&&(t.push(e+i.join("\n")+n),i.length=0),void(a?(e=a,n=s,i.push(o.content)):(t.push(o.content),e=null,n=null)))}),i.length&&t.push(e+i.join("\n")+n),R&&t.push("* { content: normal !important; }"),t.join("\n\n")}function u(e,n,t){var i,r=[];i=t.replace(b,c),v.hacks&&(i=v.hacks.overwriteDeclaration(e,n,i)),n&&(r.push(e.selectorText),i=n+": "+i+";");for(var o=e.parentRule;o;)r.unshift("@media "+o.media.mediaText),o=o.parentRule;return{selector:r,content:i}}function c(e,n,t){var i=w[t],r=parseFloat(n)/100;return r*i+"px"}function d(){var e=window.innerHeight,n=window.innerWidth;return{vh:e,vw:n,vmax:Math.max(n,e),vmin:Math.min(n,e)}}function l(e){var n=0,t=function(){n--,n||e()};k.call(document.styleSheets,function(e){e.href&&f(e.href)!==f(location.href)&&"ignore"!==e.ownerNode.getAttribute("data-viewport-units-buggyfill")&&(n++,h(e.ownerNode,t))}),n||e()}function f(e){return e.slice(0,e.indexOf("/",e.indexOf("://")+3))}function h(e,n){p(e.href,function(){var t=document.createElement("style");t.media=e.media,t.setAttribute("data-href",e.href),t.textContent=this.responseText,e.parentNode.replaceChild(t,e),n()},n)}function p(e,n,t){var i=new XMLHttpRequest;if("withCredentials"in i)i.open("GET",e,!0);else{if("undefined"==typeof XDomainRequest)throw new Error("cross-domain XHR not supported");i=new XDomainRequest,i.open("GET",e)}return i.onload=n,i.onerror=t,i.send(),i}var v,w,m,g,y=!1,x=window.navigator.userAgent,b=/([+-]?[0-9.]+)(vh|vw|vmin|vmax)/g,k=[].forEach,T=!1,E=!1,R=x.indexOf("Opera Mini")>-1,A=/(iPhone|iPod|iPad).+AppleWebKit/i.test(x)&&function(){var e=x.match(/OS (\d)/);return e&&e.length>1&&parseInt(e[1])<8}(),C=function(){var e=x.indexOf(" Android ")>-1;if(!e)return!1;var n=x.indexOf("Version/")>-1;if(!n)return!1;var t=parseFloat((x.match("Android ([0-9.]+)")||[])[1]);return 4.4>=t}();return T||(T=!!navigator.userAgent.match(/Trident.*rv[ :]*11\./)),{version:"0.5.3",findProperties:o,getCss:s,init:t,refresh:r}});
;!function(i,e){"use strict";"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():i.viewportUnitsBuggyfillHacks=e()}(this,function(){"use strict";function i(i,e,r,o){var a="content"===r&&o.indexOf("viewport-units-buggyfill")>-1;if(a){var c=o.replace(n,"");c.split(";").forEach(function(n){var r=n.split(":");if(2===r.length){var o=r[0].trim();if("viewport-units-buggyfill"!==o){var a=r[1].trim();if(i.push([e,o,a]),t.test(a)){var c=a.replace(t,"-webkit-calc(");i.push([e,o,c])}}}})}}var e,t=/calc\(/g,n=/[\"\']/g,r=!1,o=!0,a=!0;return{required:function(i){return i.isMobileSafari||r},initialize:function(i){e=i;var t=document.createElement("div");t.style.width="1vmax",o=""!==t.style.width,(e.isMobileSafari||e.isBadStockAndroid)&&(a=!1)},initializeEvents:function(i,e,t){i.force||r&&!i._listeningToResize&&(window.addEventListener("resize",t,!0),i._listeningToResize=!0)},findDeclarations:function(e,t,n,r){null!==n&&i(e,t,n,r)},overwriteDeclaration:function(i,e,t){return r&&"filter"===e&&(t=t.replace(/px/g,"")),t}}});
;!function(){var e={},t={};Polymer.IronMeta=Polymer({is:"iron-meta",properties:{type:{type:String,value:"default",observer:"_typeChanged"},key:{type:String,observer:"_keyChanged"},value:{type:Object,notify:!0,observer:"_valueChanged"},self:{type:Boolean,observer:"_selfChanged"},list:{type:Array,notify:!0}},factoryImpl:function(e){if(e)for(var t in e)switch(t){case"type":case"key":case"value":this[t]=e[t]}},created:function(){this._metaDatas=e,this._metaArrays=t},_keyChanged:function(e,t){this._resetRegistration(t)},_valueChanged:function(e){this._resetRegistration(this.key)},_selfChanged:function(e){e&&(this.value=this)},_typeChanged:function(i){this._unregisterKey(this.key),e[i]||(e[i]={}),this._metaData=e[i],t[i]||(t[i]=[]),this.list=t[i],this._registerKeyValue(this.key,this.value)},byKey:function(e){return this._metaData&&this._metaData[e]},_resetRegistration:function(e){this._unregisterKey(e),this._registerKeyValue(this.key,this.value)},_unregisterKey:function(e){this._unregister(e,this._metaData,this.list)},_registerKeyValue:function(e,t){this._register(e,t,this._metaData,this.list)},_register:function(e,t,i,a){e&&i&&void 0!==t&&(i[e]=t,a.push(t))},_unregister:function(e,t,i){if(e&&t&&e in t){var a=t[e];delete t[e],this.arrayDelete(i,a)}}}),Polymer.IronMetaQuery=Polymer({is:"iron-meta-query",properties:{type:{type:String,value:"default",observer:"_typeChanged"},key:{type:String,observer:"_keyChanged"},value:{type:Object,notify:!0,readOnly:!0},list:{type:Array,notify:!0}},constructor:function(e){if(e)for(var t in e)switch(t){case"type":case"key":this[t]=e[t]}},created:function(){this._metaDatas=e,this._metaArrays=t},_keyChanged:function(e){this._setValue(this._metaData&&this._metaData[e])},_typeChanged:function(i){this._metaData=e[i],this.list=t[i],this.key&&this._keyChanged(this.key)},byKey:function(e){return this._metaData&&this._metaData[e]}})}();
;Polymer({is:"iron-iconset-svg",properties:{name:{type:String,observer:"_nameChanged"},size:{type:Number,value:24}},getIconNames:function(){return this._icons=this._createIconMap(),Object.keys(this._icons).map(function(e){return this.name+":"+e},this)},applyIcon:function(e,t){e=e.root||e,this.removeIcon(e);var n=this._cloneIcon(t);if(n){var o=Polymer.dom(e);return o.insertBefore(n,o.childNodes[0]),e._svgIcon=n}return null},removeIcon:function(e){e._svgIcon&&(Polymer.dom(e).removeChild(e._svgIcon),e._svgIcon=null)},_nameChanged:function(){new Polymer.IronMeta({type:"iconset",key:this.name,value:this})},_createIconMap:function(){var e=Object.create(null);return Polymer.dom(this).querySelectorAll("[id]").forEach(function(t){e[t.id]=t}),e},_cloneIcon:function(e){return this._icons=this._icons||this._createIconMap(),this._prepareSvgClone(this._icons[e],this.size)},_prepareSvgClone:function(e,t){if(e){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("viewBox",["0","0",t,t].join(" ")),n.setAttribute("preserveAspectRatio","xMidYMid meet"),n.style.cssText="pointer-events: none; display: block; width: 100%; height: 100%;",n.appendChild(e.cloneNode(!0)).removeAttribute("id"),n}return null}});
;Polymer({is:"iron-iconset",properties:{src:{type:String,observer:"_srcChanged"},name:{type:String,observer:"_nameChanged"},width:{type:Number,value:0},icons:{type:String},size:{type:Number,value:24},_offsetX:{type:Number,value:0},_offsetY:{type:Number,value:0},iconNames:{type:Array,notify:!0}},hostAttributes:{style:"display: none;"},ready:function(){this._themes=this._mapThemes()},applyIcon:function(t,e,o,i){this._validateIconMap();var n=this._getThemedOffset(e,o);t&&n&&this._addIconStyles(t,this._srcUrl,n,i||1,this.size,this.width)},removeIcon:function(t){this._removeIconStyles(t.style)},_mapThemes:function(){var t=Object.create(null);return Polymer.dom(this).querySelectorAll("property[theme]").forEach(function(e){var o=window.parseInt(e.getAttribute("offset-x"),10)||0,i=window.parseInt(e.getAttribute("offset-y"),10)||0;t[e.getAttribute("theme")]={offsetX:o,offsetY:i}}),t},_srcChanged:function(t){this._srcUrl=this.ownerDocument!==document?this.resolveUrl(t):t,this._prepareIconset()},_nameChanged:function(t){this._prepareIconset()},_prepareIconset:function(){new Polymer.IronMeta({type:"iconset",key:this.name,value:this})},_invalidateIconMap:function(){this._iconMapValid=!1},_validateIconMap:function(){this._iconMapValid||(this._recomputeIconMap(),this._iconMapValid=!0)},_recomputeIconMap:function(){this.iconNames=this._computeIconNames(this.icons),this.iconMap=this._computeIconMap(this._offsetX,this._offsetY,this.size,this.width,this.iconNames)},_computeIconNames:function(t){return t.split(/\s+/g)},_computeIconMap:function(t,e,o,i,n){var s={};if(void 0!==t&&void 0!==e){var r=t;n.forEach(function(n){s[n]={offsetX:t,offsetY:e},i>t+o?t+=o:(t=r,e+=o)},this)}return s},_getThemedOffset:function(t,e){var o=this._getIconOffset(t),i=this._themes[e];return o&&i?{offsetX:o.offsetX+i.offsetX,offsetY:o.offsetY+i.offsetY}:o},_getIconOffset:function(t){return this.iconMap[t]||this.iconMap[this.iconNames[Number(t)]]},_addIconStyles:function(t,e,o,i,n,s){var r=t.style;r.backgroundImage="url("+e+")",r.backgroundPosition=-o.offsetX*i+"px "+(-o.offsetY*i+"px"),r.backgroundSize=1===i?"auto":s*i+"px",r.width=n+"px",r.height=n+"px",t.setAttribute("role","img")},_removeIconStyles:function(t){t.background=""}});
;Polymer({is:"iron-media-query",properties:{queryMatches:{type:Boolean,value:!1,readOnly:!0,notify:!0},query:{type:String,observer:"queryChanged"}},created:function(){this._mqHandler=this.queryHandler.bind(this)},queryChanged:function(e){this._mq&&this._mq.removeListener(this._mqHandler),"("!==e[0]&&(e="("+e+")"),this._mq=window.matchMedia(e),this._mq.addListener(this._mqHandler),this.queryHandler(this._mq)},queryHandler:function(e){this._setQueryMatches(e.matches)}});
;Polymer.IronSelection=function(e){this.selection=[],this.selectCallback=e},Polymer.IronSelection.prototype={get:function(){return this.multi?this.selection:this.selection[0]},clear:function(e){this.selection.slice().forEach(function(t){(!e||e.indexOf(t)<0)&&this.setItemSelected(t,!1)},this)},isSelected:function(e){return this.selection.indexOf(e)>=0},setItemSelected:function(e,t){if(null!=e){if(t)this.selection.push(e);else{var i=this.selection.indexOf(e);i>=0&&this.selection.splice(i,1)}this.selectCallback&&this.selectCallback(e,t)}},select:function(e){this.multi?this.toggle(e):this.get()!==e&&(this.setItemSelected(this.get(),!1),this.setItemSelected(e,!0))},toggle:function(e){this.setItemSelected(e,!this.isSelected(e))}};
;Polymer.IronSelectableBehavior={properties:{attrForSelected:{type:String,value:null},selected:{type:String,notify:!0},selectedItem:{type:Object,readOnly:!0,notify:!0},activateEvent:{type:String,value:"tap",observer:"_activateEventChanged"},selectable:String,selectedClass:{type:String,value:"iron-selected"},selectedAttribute:{type:String,value:null}},observers:["_updateSelected(attrForSelected, selected)"],excludedLocalNames:{template:1},created:function(){this._bindFilterItem=this._filterItem.bind(this),this._selection=new Polymer.IronSelection(this._applySelection.bind(this))},attached:function(){this._observer=this._observeItems(this),this._contentObserver=this._observeContent(this)},detached:function(){this._observer&&this._observer.disconnect(),this._contentObserver&&this._contentObserver.disconnect(),this._removeListener(this.activateEvent)},get items(){var e=Polymer.dom(this).queryDistributedElements(this.selectable||"*");return Array.prototype.filter.call(e,this._bindFilterItem)},indexOf:function(e){return this.items.indexOf(e)},select:function(e){this.selected=e},selectPrevious:function(){var e=this.items.length,t=(Number(this._valueToIndex(this.selected))-1+e)%e;this.selected=this._indexToValue(t)},selectNext:function(){var e=(Number(this._valueToIndex(this.selected))+1)%this.items.length;this.selected=this._indexToValue(e)},_addListener:function(e){this.listen(this,e,"_activateHandler")},_removeListener:function(e){},_activateEventChanged:function(e,t){this._removeListener(t),this._addListener(e)},_updateSelected:function(){this._selectSelected(this.selected)},_selectSelected:function(e){this._selection.select(this._valueToItem(this.selected))},_filterItem:function(e){return!this.excludedLocalNames[e.localName]},_valueToItem:function(e){return null==e?null:this.items[this._valueToIndex(e)]},_valueToIndex:function(e){if(!this.attrForSelected)return Number(e);for(var t,i=0;t=this.items[i];i++)if(this._valueForItem(t)==e)return i},_indexToValue:function(e){if(!this.attrForSelected)return e;var t=this.items[e];return t?this._valueForItem(t):void 0},_valueForItem:function(e){return e[this.attrForSelected]||e.getAttribute(this.attrForSelected)},_applySelection:function(e,t){this.selectedClass&&this.toggleClass(this.selectedClass,t,e),this.selectedAttribute&&this.toggleAttribute(this.selectedAttribute,t,e),this._selectionChange(),this.fire("iron-"+(t?"select":"deselect"),{item:e})},_selectionChange:function(){this._setSelectedItem(this._selection.get())},_observeContent:function(e){var t=e.querySelector("content");return t&&t.parentElement===e?this._observeItems(e.domHost):void 0},_observeItems:function(e){var t=new MutationObserver(function(){null!=this.selected&&this._updateSelected()}.bind(this));return t.observe(e,{childList:!0,subtree:!0}),t},_activateHandler:function(e){if(e.type===this.activateEvent)for(var t=e.target,i=this.items;t&&t!=this;){var s=i.indexOf(t);if(s>=0){var n=this._indexToValue(s);return void this._itemActivate(n,t)}t=t.parentNode}},_itemActivate:function(e,t){this.fire("iron-activate",{selected:e,item:t},{cancelable:!0}).defaultPrevented||this.select(e)}};
;Polymer.IronMultiSelectableBehaviorImpl={properties:{multi:{type:Boolean,value:!1,observer:"multiChanged"},selectedValues:{type:Array,notify:!0},selectedItems:{type:Array,readOnly:!0,notify:!0}},observers:["_updateSelected(attrForSelected, selectedValues)"],select:function(e){this.multi?this.selectedValues?this._toggleSelected(e):this.selectedValues=[e]:this.selected=e},multiChanged:function(e){this._selection.multi=e},_updateSelected:function(){this.multi?this._selectMulti(this.selectedValues):this._selectSelected(this.selected)},_selectMulti:function(e){if(this._selection.clear(),e)for(var t=0;t<e.length;t++)this._selection.setItemSelected(this._valueToItem(e[t]),!0)},_selectionChange:function(){var e=this._selection.get();this.multi?this._setSelectedItems(e):(this._setSelectedItems([e]),this._setSelectedItem(e))},_toggleSelected:function(e){var t=this.selectedValues.indexOf(e),l=0>t;l?this.selectedValues.push(e):this.selectedValues.splice(t,1),this._selection.setItemSelected(this._valueToItem(e),l)}},Polymer.IronMultiSelectableBehavior=[Polymer.IronSelectableBehavior,Polymer.IronMultiSelectableBehaviorImpl];
;Polymer({is:"iron-selector",behaviors:[Polymer.IronMultiSelectableBehavior]});
;Polymer.IronResizableBehavior={properties:{_parentResizable:{type:Object,observer:"_parentResizableChanged"}},listeners:{"iron-request-resize-notifications":"_onIronRequestResizeNotifications"},created:function(){this._interestedResizables=[],this._boundNotifyResize=this.notifyResize.bind(this)},attached:function(){this.fire("iron-request-resize-notifications",null,{node:this,bubbles:!0}),this._parentResizable||(window.addEventListener("resize",this._boundNotifyResize),this.notifyResize())},detached:function(){this._parentResizable?this._parentResizable.stopResizeNotificationsFor(this):window.removeEventListener("resize",this._boundNotifyResize),this._parentResizable=null},notifyResize:function(){this.isAttached&&(this._interestedResizables.forEach(function(e){(!this.resizerShouldNotify||this.resizerShouldNotify(e))&&e.notifyResize()},this),this.fire("iron-resize",null,{node:this,bubbles:!1}))},assignParentResizable:function(e){this._parentResizable=e},stopResizeNotificationsFor:function(e){var i=this._interestedResizables.indexOf(e);i>-1&&this._interestedResizables.splice(i,1)},_parentResizableChanged:function(e){e&&window.removeEventListener("resize",this._boundNotifyResize)},_onIronRequestResizeNotifications:function(e){var i=e.path?e.path[0]:e.target;i!==this&&(-1===this._interestedResizables.indexOf(i)&&this._interestedResizables.push(i),i.assignParentResizable(this),e.stopPropagation())}};
;!function(){"use strict";function e(e){var n="";if(e){var t=e.toLowerCase();1==t.length?u.test(t)&&(n=t):n=c.test(t)?t.replace("arrow",""):v.test(t)?"space":"multiply"==t?"*":t}return n}function n(e){var n="";return e&&(n=h.test(e)?y[e]:e.toLowerCase()),n}function t(e){var n="";return Number(e)&&(n=e>=65&&90>=e?String.fromCharCode(32+e):e>=112&&123>=e?"f"+(e-112):e>=48&&57>=e?String(48-e):e>=96&&105>=e?String(96-e):o[e]),n}function i(i){return e(i.key)||n(i.keyIdentifier)||t(i.keyCode)||e(i.detail.key)||""}function s(e,n){return i(n)===e.key&&!!n.shiftKey==!!e.shiftKey&&!!n.ctrlKey==!!e.ctrlKey&&!!n.altKey==!!e.altKey&&!!n.metaKey==!!e.metaKey}function r(e){return e.split("+").reduce(function(e,n){var t=n.split(":"),i=t[0],s=t[1];return i in d?e[d[i]]=!0:(e.key=i,e.event=s||"keydown"),e},{combo:e.split(":").shift()})}function a(e){return e.split(" ").map(function(e){return r(e)})}var y={"U+0009":"tab","U+001B":"esc","U+0020":"space","U+002A":"*","U+0030":"0","U+0031":"1","U+0032":"2","U+0033":"3","U+0034":"4","U+0035":"5","U+0036":"6","U+0037":"7","U+0038":"8","U+0039":"9","U+0041":"a","U+0042":"b","U+0043":"c","U+0044":"d","U+0045":"e","U+0046":"f","U+0047":"g","U+0048":"h","U+0049":"i","U+004A":"j","U+004B":"k","U+004C":"l","U+004D":"m","U+004E":"n","U+004F":"o","U+0050":"p","U+0051":"q","U+0052":"r","U+0053":"s","U+0054":"t","U+0055":"u","U+0056":"v","U+0057":"w","U+0058":"x","U+0059":"y","U+005A":"z","U+007F":"del"},o={9:"tab",13:"enter",27:"esc",33:"pageup",34:"pagedown",35:"end",36:"home",32:"space",37:"left",38:"up",39:"right",40:"down",46:"del",106:"*"},d={shift:"shiftKey",ctrl:"ctrlKey",alt:"altKey",meta:"metaKey"},u=/[a-z0-9*]/,h=/U\+/,c=/^arrow/,v=/^space(bar)?/;Polymer.IronA11yKeysBehavior={properties:{keyEventTarget:{type:Object,value:function(){return this}},_boundKeyHandlers:{value:function(){return[]}},_imperativeKeyBindings:{value:function(){return{}}}},observers:["_resetKeyEventListeners(keyEventTarget, _boundKeyHandlers)"],keyBindings:{},registered:function(){this._prepKeyBindings()},attached:function(){this._listenKeyEventListeners()},detached:function(){this._unlistenKeyEventListeners()},addOwnKeyBinding:function(e,n){this._imperativeKeyBindings[e]=n,this._prepKeyBindings(),this._resetKeyEventListeners()},removeOwnKeyBindings:function(){this._imperativeKeyBindings={},this._prepKeyBindings(),this._resetKeyEventListeners()},keyboardEventMatchesKeys:function(e,n){var t,i=a(n);for(t=0;t<i.length;++t)if(s(i[t],e))return!0;return!1},_collectKeyBindings:function(){var e=this.behaviors.map(function(e){return e.keyBindings});return-1===e.indexOf(this.keyBindings)&&e.push(this.keyBindings),e},_prepKeyBindings:function(){this._keyBindings={},this._collectKeyBindings().forEach(function(e){for(var n in e)this._addKeyBinding(n,e[n])},this);for(var e in this._imperativeKeyBindings)this._addKeyBinding(e,this._imperativeKeyBindings[e])},_addKeyBinding:function(e,n){a(e).forEach(function(e){this._keyBindings[e.event]=this._keyBindings[e.event]||[],this._keyBindings[e.event].push([e,n])},this)},_resetKeyEventListeners:function(){this._unlistenKeyEventListeners(),this.isAttached&&this._listenKeyEventListeners()},_listenKeyEventListeners:function(){Object.keys(this._keyBindings).forEach(function(e){var n=this._keyBindings[e],t=this._onKeyBindingEvent.bind(this,n);this._boundKeyHandlers.push([this.keyEventTarget,e,t]),this.keyEventTarget.addEventListener(e,t)},this)},_unlistenKeyEventListeners:function(){for(var e,n,t,i;this._boundKeyHandlers.length;)e=this._boundKeyHandlers.pop(),n=e[0],t=e[1],i=e[2],n.removeEventListener(t,i)},_onKeyBindingEvent:function(e,n){e.forEach(function(e){var t=e[0],i=e[1];!n.defaultPrevented&&s(t,n)&&this._triggerKeyHandler(t,i,n)},this)},_triggerKeyHandler:function(e,n,t){var i=Object.create(e);i.keyboardEvent=t,this[n].call(this,new CustomEvent(e.event,{detail:i}))}}}();
;Polymer.IronMenuBehaviorImpl={properties:{focusedItem:{observer:"_focusedItemChanged",readOnly:!0,type:Object},attrForItemTitle:{type:String}},hostAttributes:{role:"menu",tabindex:"0"},observers:["_updateMultiselectable(multi)"],listeners:{focus:"_onFocus",keydown:"_onKeydown"},keyBindings:{up:"_onUpKey",down:"_onDownKey",esc:"_onEscKey",enter:"_onEnterKey","shift+tab:keydown":"_onShiftTabDown"},_updateMultiselectable:function(e){e?this.setAttribute("aria-multiselectable","true"):this.removeAttribute("aria-multiselectable")},_onShiftTabDown:function(){var e;Polymer.IronMenuBehaviorImpl._shiftTabPressed=!0,e=this.getAttribute("tabindex"),this.setAttribute("tabindex","-1"),this.async(function(){this.setAttribute("tabindex",e),Polymer.IronMenuBehaviorImpl._shiftTabPressed=!1},1)},_applySelection:function(e,t){t?e.setAttribute("aria-selected","true"):e.removeAttribute("aria-selected"),Polymer.IronSelectableBehavior._applySelection.apply(this,arguments)},_focusedItemChanged:function(e,t){t&&t.setAttribute("tabindex","-1"),e&&(e.setAttribute("tabindex","0"),e.focus())},select:function(e){this._defaultFocusAsync&&(this.cancelAsync(this._defaultFocusAsync),this._defaultFocusAsync=null);var t=this._valueToItem(e);this._setFocusedItem(t),Polymer.IronMultiSelectableBehaviorImpl.select.apply(this,arguments)},_onFocus:function(e){Polymer.IronMenuBehaviorImpl._shiftTabPressed||(this.blur(),this._setFocusedItem(null),this._defaultFocusAsync=this.async(function(){var e=this.multi?this.selectedItems&&this.selectedItems[0]:this.selectedItem;e?this._setFocusedItem(e):this._setFocusedItem(this.items[0])},100))},_onUpKey:function(){this._focusPrevious()},_onDownKey:function(){this._focusNext()},_onEscKey:function(){this.focusedItem.blur()},_onEnterKey:function(e){this._activateFocused(e.detail.keyboardEvent)},_onKeydown:function(e){this.keyboardEventMatchesKeys(e,"up down esc enter")||this._focusWithKeyboardEvent(e)},_focusWithKeyboardEvent:function(e){for(var t,s=0;t=this.items[s];s++){var i=this.attrForItemTitle||"textContent",o=t[i]||t.getAttribute(i);if(o&&o.trim().charAt(0).toLowerCase()===String.fromCharCode(e.keyCode).toLowerCase()){this._setFocusedItem(t);break}}},_activateFocused:function(e){this.focusedItem.hasAttribute("disabled")||this._activateHandler(e)},_focusPrevious:function(){var e=this.items.length,t=(Number(this.indexOf(this.focusedItem))-1+e)%e;this._setFocusedItem(this.items[t])},_focusNext:function(){var e=(Number(this.indexOf(this.focusedItem))+1)%this.items.length;this._setFocusedItem(this.items[e])}},Polymer.IronMenuBehaviorImpl._shiftTabPressed=!1,Polymer.IronMenuBehavior=[Polymer.IronMultiSelectableBehavior,Polymer.IronA11yKeysBehavior,Polymer.IronMenuBehaviorImpl];
;Polymer.IronMenubarBehaviorImpl={hostAttributes:{role:"menubar"},keyBindings:{left:"_onLeftKey",right:"_onRightKey"},_onUpKey:function(e){this._activateFocused(e.detail.keyboardEvent)},_onDownKey:function(e){this._activateFocused(e.detail.keyboardEvent)},_onLeftKey:function(){this._focusPrevious()},_onRightKey:function(){this._focusNext()},_onKeydown:function(e){this.keyboardEventMatchesKeys(e,"up down left right esc enter")||this._focusWithKeyboardEvent(e)}},Polymer.IronMenubarBehavior=[Polymer.IronMenuBehavior,Polymer.IronMenubarBehaviorImpl];
;Polymer.IronControlState={properties:{focused:{type:Boolean,value:!1,notify:!0,readOnly:!0,reflectToAttribute:!0},disabled:{type:Boolean,value:!1,notify:!0,observer:"_disabledChanged",reflectToAttribute:!0},_oldTabIndex:{type:Number}},observers:["_changedControlState(focused, disabled)"],listeners:{focus:"_focusHandler",blur:"_blurHandler"},ready:function(){void 0===this.focused&&this._setFocused(!1)},_focusHandler:function(){this._setFocused(!0)},_blurHandler:function(){this._setFocused(!1)},_disabledChanged:function(e,t){this.setAttribute("aria-disabled",e?"true":"false"),this.style.pointerEvents=e?"none":"",e?(this._oldTabIndex=this.tabIndex,this.focused=!1,this.tabIndex=-1):void 0!==this._oldTabIndex&&(this.tabIndex=this._oldTabIndex)},_changedControlState:function(){this._controlStateChanged&&this._controlStateChanged()}};
;Polymer.IronButtonStateImpl={properties:{pressed:{type:Boolean,readOnly:!0,value:!1,reflectToAttribute:!0,observer:"_pressedChanged"},toggles:{type:Boolean,value:!1,reflectToAttribute:!0},active:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0,observer:"_activeChanged"},pointerDown:{type:Boolean,readOnly:!0,value:!1},receivedFocusFromKeyboard:{type:Boolean,readOnly:!0}},listeners:{down:"_downHandler",up:"_upHandler",tap:"_tapHandler"},observers:["_detectKeyboardFocus(focused)"],keyBindings:{"enter:keydown":"_asyncClick","space:keydown":"_spaceKeyDownHandler","space:keyup":"_spaceKeyUpHandler"},_tapHandler:function(){this.toggles?this._userActivate(!this.active):this.active=!1},_detectKeyboardFocus:function(e){this._setReceivedFocusFromKeyboard(!this.pointerDown&&e)},_userActivate:function(e){this.active=e,this.fire("change")},_downHandler:function(){this._setPointerDown(!0),this._setPressed(!0),this._setReceivedFocusFromKeyboard(!1)},_upHandler:function(){this._setPointerDown(!1),this._setPressed(!1)},_spaceKeyDownHandler:function(e){var t=e.detail.keyboardEvent;t.preventDefault(),t.stopImmediatePropagation(),this._setPressed(!0)},_spaceKeyUpHandler:function(){this.pressed&&this._asyncClick(),this._setPressed(!1)},_asyncClick:function(){this.async(function(){this.click()},1)},_pressedChanged:function(e){this._changedButtonState()},_activeChanged:function(e){this.toggles?this.setAttribute("aria-pressed",e?"true":"false"):this.removeAttribute("aria-pressed"),this._changedButtonState()},_controlStateChanged:function(){this.disabled?this._setPressed(!1):this._changedButtonState()},_changedButtonState:function(){this._buttonStateChanged&&this._buttonStateChanged()}},Polymer.IronButtonState=[Polymer.IronA11yKeysBehavior,Polymer.IronButtonStateImpl];
;Polymer.PaperButtonBehaviorImpl={properties:{_elevation:{type:Number}},observers:["_calculateElevation(focused, disabled, active, pressed, receivedFocusFromKeyboard)"],hostAttributes:{role:"button",tabindex:"0"},_calculateElevation:function(){var e=1;this.disabled?e=0:this.active||this.pressed?e=4:this.receivedFocusFromKeyboard&&(e=3),this._elevation=e}},Polymer.PaperButtonBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperButtonBehaviorImpl];
;Polymer.PaperInkyFocusBehaviorImpl={observers:["_focusedChanged(receivedFocusFromKeyboard)"],_focusedChanged:function(o){this.$.ink&&(this.$.ink.holdDown=o)}},Polymer.PaperInkyFocusBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperInkyFocusBehaviorImpl];
;!function(){function n(t){return void 0!==t}function ba(){}function ca(t){t.ub=function(){return t.tf?t.tf:t.tf=new t}}function da(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e}function ea(t){return"array"==da(t)}function fa(t){var e=da(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"string"==typeof t}function ga(t){return"number"==typeof t}function ha(t){return"function"==da(t)}function ia(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function ja(t,e,n){return t.call.apply(t.bind,arguments)}function ka(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function q(t,e,n){return q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ja:ka,q.apply(null,arguments)}function ma(t,e){function n(){}n.prototype=e.prototype,t.Zg=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vg=function(t,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return e.prototype[n].apply(t,r)}}function r(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function na(t,e){var n,i={};for(n in t)i[n]=e.call(void 0,t[n],n,t);return i}function oa(t,e){for(var n in t)if(!e.call(void 0,t[n],n,t))return!1;return!0}function pa(t){var e,n=0;for(e in t)n++;return n}function qa(t){for(var e in t)return e}function ra(t){var e,n=[],i=0;for(e in t)n[i++]=t[e];return n}function sa(t){var e,n=[],i=0;for(e in t)n[i++]=e;return n}function ta(t,e){for(var n in t)if(t[n]==e)return!0;return!1}function ua(t,e,n){for(var i in t)if(e.call(n,t[i],i,t))return i}function va(t,e){var n=ua(t,e,void 0);return n&&t[n]}function wa(t){for(var e in t)return!1;return!0}function xa(t){var e,n={};for(e in t)n[e]=t[e];return n}function za(t,e){for(var n,i,r=1;r<arguments.length;r++){i=arguments[r];for(n in i)t[n]=i[n];for(var o=0;o<ya.length;o++)n=ya[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function Aa(a){if(a=String(a),/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a)}function Ba(){this.Pd=void 0}function Ca(t,e,n){switch(typeof e){case"string":Da(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?e:"null");break;case"boolean":n.push(e);break;case"undefined":n.push("null");break;case"object":if(null==e){n.push("null");break}if(ea(e)){var i=e.length;n.push("[");for(var r="",o=0;i>o;o++)n.push(r),r=e[o],Ca(t,t.Pd?t.Pd.call(e,String(o),r):r,n),r=",";n.push("]");break}n.push("{"),i="";for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r=e[o],"function"!=typeof r&&(n.push(i),Da(o,n),n.push(":"),Ca(t,t.Pd?t.Pd.call(e,o,r):r,n),i=","));n.push("}");break;case"function":break;default:throw Error("Unknown type: "+typeof e)}}function Da(t,e){e.push('"',t.replace(Fa,function(t){if(t in Ea)return Ea[t];var e=t.charCodeAt(0),n="\\u";return 16>e?n+="000":256>e?n+="00":4096>e&&(n+="0"),Ea[t]=n+e.toString(16)}),'"')}function Ga(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^la()).toString(36)}function Ka(){this.Wa=-1}function La(){this.Wa=-1,this.Wa=64,this.R=[],this.le=[],this.Tf=[],this.Id=[],this.Id[0]=128;for(var t=1;t<this.Wa;++t)this.Id[t]=0;this.be=this.$b=0,this.reset()}function Ma(t,e,n){n||(n=0);var i=t.Tf;if(p(e))for(var r=0;16>r;r++)i[r]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(r=0;16>r;r++)i[r]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(r=16;80>r;r++){var o=i[r-3]^i[r-8]^i[r-14]^i[r-16];i[r]=4294967295&(o<<1|o>>>31)}e=t.R[0],n=t.R[1];for(var a,s=t.R[2],u=t.R[3],h=t.R[4],r=0;80>r;r++)40>r?20>r?(o=u^n&(s^u),a=1518500249):(o=n^s^u,a=1859775393):60>r?(o=n&s|u&(n|s),a=2400959708):(o=n^s^u,a=3395469782),o=(e<<5|e>>>27)+o+h+a+i[r]&4294967295,h=u,u=s,s=4294967295&(n<<30|n>>>2),n=e,e=o;t.R[0]=t.R[0]+e&4294967295,t.R[1]=t.R[1]+n&4294967295,t.R[2]=t.R[2]+s&4294967295,t.R[3]=t.R[3]+u&4294967295,t.R[4]=t.R[4]+h&4294967295}function Ta(t,e){var n=Ua(t,e,void 0);return 0>n?null:p(t)?t.charAt(n):t[n]}function Ua(t,e,n){for(var i=t.length,r=p(t)?t.split(""):t,o=0;i>o;o++)if(o in r&&e.call(n,r[o],o,t))return o;return-1}function Va(e,n){var i=Na(e,n);i>=0&&t.splice.call(e,i,1)}function Wa(e,n,i){return 2>=arguments.length?t.slice.call(e,n):t.slice.call(e,n,i)}function Xa(t,e){t.sort(e||Ya)}function Ya(t,e){return t>e?1:e>t?-1:0}function fb(t,e){if(!fa(t))throw Error("encodeByteArray takes an array as a parameter");gb();for(var n=e?db:cb,i=[],r=0;r<t.length;r+=3){var o=t[r],a=r+1<t.length,s=a?t[r+1]:0,u=r+2<t.length,h=u?t[r+2]:0,c=o>>2,o=(3&o)<<4|s>>4,s=(15&s)<<2|h>>6,h=63&h;u||(h=64,a||(s=64)),i.push(n[c],n[o],n[s],n[h])}return i.join("")}function gb(){if(!cb){cb={},db={},eb={};for(var t=0;65>t;t++)cb[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),db[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t),eb[db[t]]=t,t>=62&&(eb["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t)]=t)}}function u(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function hb(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ib(t){var e={};return hb(t,function(t,n){e[t]=n}),e}function jb(t){var e=[];return hb(t,function(t,n){ea(n)?Oa(n,function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""}function kb(t){var e={};return t=t.replace(/^\?/,"").split("&"),Oa(t,function(t){t&&(t=t.split("="),e[t[0]]=t[1])}),e}function x(t,e,n,i){var r;if(e>i?r="at least "+e:i>n&&(r=0===n?"none":"no more than "+n),r)throw Error(t+" failed: Was called with "+i+(1===i?" argument.":" arguments.")+" Expects "+r+".")}function z(t,e,n){var i="";switch(e){case 1:i=n?"first":"First";break;case 2:i=n?"second":"Second";break;case 3:i=n?"third":"Third";break;case 4:i=n?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t=t+" failed: "+(i+" argument ")}function A(t,e,i,r){if((!r||n(i))&&!ha(i))throw Error(z(t,e,r)+"must be a valid function.")}function lb(t,e,i){if(n(i)&&(!ia(i)||null===i))throw Error(z(t,e,!0)+"must be a valid context object.")}function mb(t){return"undefined"!=typeof JSON&&n(JSON.parse)?JSON.parse(t):Aa(t)}function B(t){if("undefined"!=typeof JSON&&n(JSON.stringify))t=JSON.stringify(t);else{var e=[];Ca(new Ba,t,e),t=e.join("")}return t}function nb(){this.Sd=C}function ob(){}function qb(t,e,n){this.Qf=t,this.Ka=e,this.Hd=n}function ub(){this.tb=[]}function vb(t,e){for(var n=null,i=0;i<e.length;i++){var r=e[i],o=r.Yb();null===n||o.Z(n.Yb())||(t.tb.push(n),n=null),null===n&&(n=new wb(o)),n.add(r)}n&&t.tb.push(n)}function xb(t,e,n){vb(t,n),yb(t,function(t){return t.Z(e)})}function zb(t,e,n){vb(t,n),yb(t,function(t){return t.contains(e)||e.contains(t)})}function yb(t,e){for(var n=!0,i=0;i<t.tb.length;i++){var r=t.tb[i];if(r)if(r=r.Yb(),e(r)){for(var r=t.tb[i],o=0;o<r.sd.length;o++){var a=r.sd[o];if(null!==a){r.sd[o]=null;var s=a.Ub();Ab&&Bb("event: "+a.toString()),Cb(s)}}t.tb[i]=null}else n=!1}n&&(t.tb=[])}function wb(t){this.qa=t,this.sd=[]}function D(t,e,n,i){this.type=t,this.Ja=e,this.Ya=n,this.Je=i,this.Nd=void 0}function Db(t){return new D(Eb,t)}function Fb(t,e,n,i){this.te=e,this.Wd=n,this.Nd=i,this.rd=t}function Gb(t,e,n){this.te=t,this.error=e,this.path=n}function sb(t,e,n){this.B=t,this.$=e,this.Tb=n}function Hb(t){return t.$}function rb(t,e){return t.$&&!t.Tb||t.B.Ha(e)}function Ib(t){this.dg=t,this.Ad=null}function Jb(t,e){this.Mf={},this.Yd=new Ib(t),this.ca=e;var n=1e4+2e4*Math.random();setTimeout(q(this.Hf,this),Math.floor(n))}function Kb(){this.Dc={}}function Lb(t,e,i){n(i)||(i=1),u(t.Dc,e)||(t.Dc[e]=0),t.Dc[e]+=i}function Ob(t){return t=t.toString(),Mb[t]||(Mb[t]=new Kb),Mb[t]}function Pb(t,e){var n=t.toString();return Nb[n]||(Nb[n]=e()),Nb[n]}function E(t,e){this.name=t,this.S=e}function Qb(t,e){return new E(t,e)}function Rb(t,e){return Sb(t.name,e.name)}function Tb(t,e){return Sb(t,e)}function Ub(t,e,n){this.type=Vb,this.source=t,this.path=e,this.Ia=n}function Wb(t,e){this.type=Xb,this.source=Yb,this.path=t,this.Ve=e}function Zb(t,e){this.type=$b,this.source=t,this.path=e}function ac(t,e){this.La=t,this.xa=e?e:bc}function cc(t,e){for(var n,i=t.xa,r=null;!i.e();){if(n=t.La(e,i.key),0===n){if(i.left.e())return r?r.key:null;for(i=i.left;!i.right.e();)i=i.right;return i.key}0>n?i=i.left:n>0&&(r=i,i=i.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}function dc(t,e,n,i,r){for(this.Rd=r||null,this.Ee=i,this.Pa=[],r=1;!t.e();)if(r=e?n(t.key,e):1,i&&(r*=-1),0>r)t=this.Ee?t.left:t.right;else{if(0===r){this.Pa.push(t);break}this.Pa.push(t),t=this.Ee?t.right:t.left}}function H(t){if(0===t.Pa.length)return null;var e,n=t.Pa.pop();if(e=t.Rd?t.Rd(n.key,n.value):{key:n.key,value:n.value},t.Ee)for(n=n.left;!n.e();)t.Pa.push(n),n=n.right;else for(n=n.right;!n.e();)t.Pa.push(n),n=n.left;return e}function ec(t){if(0===t.Pa.length)return null;var e;return e=t.Pa,e=e[e.length-1],t.Rd?t.Rd(e.key,e.value):{key:e.key,value:e.value}}function fc(t,e,n,i,r){this.key=t,this.value=e,this.color=null!=n?n:!0,this.left=null!=i?i:bc,this.right=null!=r?r:bc}function gc(t){return t.left.e()?t:gc(t.left)}function ic(t){return t.left.e()?bc:(t.left.fa()||t.left.left.fa()||(t=jc(t)),t=t.X(null,null,null,ic(t.left),null),hc(t))}function hc(t){return t.right.fa()&&!t.left.fa()&&(t=mc(t)),t.left.fa()&&t.left.left.fa()&&(t=kc(t)),t.left.fa()&&t.right.fa()&&(t=lc(t)),t}function jc(t){return t=lc(t),t.right.left.fa()&&(t=t.X(null,null,null,null,kc(t.right)),t=mc(t),t=lc(t)),t}function mc(t){return t.right.X(null,null,t.color,t.X(null,null,!0,null,t.right.left),null)}function kc(t){return t.left.X(null,null,t.color,null,t.X(null,null,!0,t.left.right,null))}function lc(t){return t.X(null,null,!t.color,t.left.X(null,null,!t.left.color,null,null),t.right.X(null,null,!t.right.color,null,null))}function nc(){}function oc(t,e){return t&&"object"==typeof t?(J(".sv"in t,"Unexpected leaf node or priority contents"),e[t[".sv"]]):t}function pc(t,e){var n=new qc;return rc(t,new K(""),function(t,i){n.mc(t,sc(i,e))}),n}function sc(t,e){var n,i=t.A().K(),i=oc(i,e);if(t.N()){var r=oc(t.Ba(),e);return r!==t.Ba()||i!==t.A().K()?new tc(r,L(i)):t}return n=t,i!==t.A().K()&&(n=n.da(new tc(i))),t.U(M,function(t,i){var r=sc(i,e);r!==i&&(n=n.Q(t,r))}),n}function K(t,e){if(1==arguments.length){this.n=t.split("/");for(var n=0,i=0;i<this.n.length;i++)0<this.n[i].length&&(this.n[n]=this.n[i],n++);this.n.length=n,this.Y=0}else this.n=t,this.Y=e}function N(t,e){var n=O(t);if(null===n)return e;if(n===O(e))return N(G(t),G(e));throw Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function O(t){return t.Y>=t.n.length?null:t.n[t.Y]}function uc(t){return t.n.length-t.Y}function G(t){var e=t.Y;return e<t.n.length&&e++,new K(t.n,e)}function vc(t){return t.Y<t.n.length?t.n[t.n.length-1]:null}function wc(t,e){this.Qa=t.slice(),this.Ea=Math.max(1,this.Qa.length),this.kf=e;for(var n=0;n<this.Qa.length;n++)this.Ea+=xc(this.Qa[n]);yc(this)}function yc(t){if(768<t.Ea)throw Error(t.kf+"has a key path longer than 768 bytes ("+t.Ea+").");if(32<t.Qa.length)throw Error(t.kf+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+zc(t))}function zc(t){return 0==t.Qa.length?"":"in property '"+t.Qa.join(".")+"'"}function Ac(){this.wc={}}function Bc(t){this.Ec=t,this.Md="firebase:"}function Cc(t){try{if("undefined"!=typeof window&&"undefined"!=typeof window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Bc(e)}}catch(n){}return new Ac}function Ec(t,e,n,i,r){this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.lb=e,this.Cb=n,this.Tg=i,this.Ld=r||"",this.Oa=Dc.get("host:"+t)||this.host}function Fc(t,e){e!==t.Oa&&(t.Oa=e,"s-"===t.Oa.substr(0,2)&&Dc.set("host:"+t.host,t.Oa))}function J(t,e){if(!t)throw Hc(e)}function Hc(t){return Error("Firebase (2.2.7) INTERNAL ASSERT FAILED: "+t)}function Ic(t){try{var e;if("undefined"!=typeof atob)e=atob(t);else{gb();for(var n=eb,i=[],r=0;r<t.length;){var o=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;var s=r<t.length?n[t.charAt(r)]:64;++r;var u=r<t.length?n[t.charAt(r)]:64;if(++r,null==o||null==a||null==s||null==u)throw Error();i.push(o<<2|a>>4),64!=s&&(i.push(a<<4&240|s>>2),64!=u&&i.push(s<<6&192|u))}if(8192>i.length)e=String.fromCharCode.apply(null,i);else{for(t="",n=0;n<i.length;n+=8192)t+=String.fromCharCode.apply(null,Wa(i,n,n+8192));e=t}}return e}catch(h){Bb("base64Decode failed: ",h)}return null}function Jc(t){var e=Kc(t);t=new La,t.update(e);var e=[],n=8*t.be;56>t.$b?t.update(t.Id,56-t.$b):t.update(t.Id,t.Wa-(t.$b-56));for(var i=t.Wa-1;i>=56;i--)t.le[i]=255&n,n/=256;for(Ma(t,t.le),i=n=0;5>i;i++)for(var r=24;r>=0;r-=8)e[n]=t.R[i]>>r&255,++n;return fb(e)}function Lc(t){for(var e="",n=0;n<arguments.length;n++)e=fa(arguments[n])?e+Lc.apply(null,arguments[n]):"object"==typeof arguments[n]?e+B(arguments[n]):e+arguments[n],e+=" ";return e}function Bb(t){if(!0===Mc&&(Mc=!1,null===Ab&&!0===P.get("logging_enabled")&&Nc(!0)),Ab){var e=Lc.apply(null,arguments);Ab(e)}}function Oc(t){return function(){Bb(t,arguments)}}function Pc(t){if("undefined"!=typeof console){var e="FIREBASE INTERNAL ERROR: "+Lc.apply(null,arguments);"undefined"!=typeof console.error?console.error(e):console.log(e)}}function Qc(t){var e=Lc.apply(null,arguments);throw Error("FIREBASE FATAL ERROR: "+e)}function Q(t){if("undefined"!=typeof console){var e="FIREBASE WARNING: "+Lc.apply(null,arguments);"undefined"!=typeof console.warn?console.warn(e):console.log(e)}}function Rc(t){var e="",n="",i="",r="",o=!0,a="https",s=443;if(p(t)){var u=t.indexOf("//");for(u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2)),u=t.indexOf("/"),-1===u&&(u=t.length),e=t.substring(0,u),r="",t=t.substring(u).split("/"),u=0;u<t.length;u++)if(0<t[u].length){var h=t[u];try{h=decodeURIComponent(h.replace(/\+/g," "))}catch(c){}r+="/"+h}t=e.split("."),3===t.length?(n=t[1],i=t[0].toLowerCase()):2===t.length&&(n=t[0]),u=e.indexOf(":"),u>=0&&(o="https"===a||"wss"===a,s=e.substring(u+1),isFinite(s)&&(s=String(s)),s=p(s)?/^\s*-?0x/i.test(s)?parseInt(s,16):parseInt(s,10):NaN)}return{host:e,port:s,domain:n,Qg:i,lb:o,scheme:a,Zc:r}}function Sc(t){return ga(t)&&(t!=t||t==Number.POSITIVE_INFINITY||t==Number.NEGATIVE_INFINITY)}function Tc(t){if("complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}function Sb(t,e){if(t===e)return 0;if("[MIN_NAME]"===t||"[MAX_NAME]"===e)return-1;if("[MIN_NAME]"===e||"[MAX_NAME]"===t)return 1;var n=Uc(t),i=Uc(e);return null!==n?null!==i?0==n-i?t.length-e.length:n-i:-1:null!==i?1:e>t?-1:1}function Vc(t,e){if(e&&t in e)return e[t];throw Error("Missing required key ("+t+") in object: "+B(e))}function Wc(t){if("object"!=typeof t||null===t)return B(t);var e,n=[];for(e in t)n.push(e);n.sort(),e="{";for(var i=0;i<n.length;i++)0!==i&&(e+=","),e+=B(n[i]),e+=":",e+=Wc(t[n[i]]);return e+"}"}function Xc(t,e){if(t.length<=e)return[t];for(var n=[],i=0;i<t.length;i+=e)i+e>t?n.push(t.substring(i,t.length)):n.push(t.substring(i,i+e));return n}function Yc(t,e){if(ea(t))for(var n=0;n<t.length;++n)e(n,t[n]);else r(t,e)}function Zc(t){J(!Sc(t),"Invalid JSON number");var e,n,i,r;for(0===t?(i=n=0,e=-(1/0)===1/t?1:0):(e=0>t,t=Math.abs(t),t>=Math.pow(2,-1022)?(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023),n=i+1023,i=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,i=Math.round(t/Math.pow(2,-1074)))),r=[],t=52;t;--t)r.push(i%2?1:0),i=Math.floor(i/2);for(t=11;t;--t)r.push(n%2?1:0),n=Math.floor(n/2);for(r.push(e?1:0),r.reverse(),e=r.join(""),n="",t=0;64>t;t+=8)i=parseInt(e.substr(t,8),2).toString(16),1===i.length&&(i="0"+i),n+=i;return n.toLowerCase()}function Uc(t){return $c.test(t)&&(t=Number(t),t>=-2147483648&&2147483647>=t)?t:null}function Cb(t){try{t()}catch(e){setTimeout(function(){throw Q("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}}function R(t,e){if(ha(t)){var n=Array.prototype.slice.call(arguments,1).slice();Cb(function(){t.apply(null,n)})}}function Kc(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);r>=55296&&56319>=r&&(r-=55296,i++,J(i<t.length,"Surrogate pair missing trail surrogate."),r=65536+(r<<10)+(t.charCodeAt(i)-56320)),128>r?e[n++]=r:(2048>r?e[n++]=r>>6|192:(65536>r?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return e}function xc(t){for(var e=0,n=0;n<t.length;n++){var i=t.charCodeAt(n);128>i?e++:2048>i?e+=2:i>=55296&&56319>=i?(e+=4,n++):e+=3}return e}function ad(t){var e={},n={},i={},r="";try{var o=t.split("."),e=mb(Ic(o[0])||""),n=mb(Ic(o[1])||""),r=o[2],i=n.d||{};delete n.d}catch(a){}return{Wg:e,Ac:n,data:i,Ng:r}}function bd(t){return t=ad(t).Ac,"object"==typeof t&&t.hasOwnProperty("iat")?w(t,"iat"):null}function cd(t){t=ad(t);var e=t.Ac;return!!t.Ng&&!!e&&"object"==typeof e&&e.hasOwnProperty("iat")}function dd(t){this.V=t,this.g=t.o.g}function ed(t,e,n,i){var r=[],o=[];return Oa(e,function(e){"child_changed"===e.type&&t.g.xd(e.Je,e.Ja)&&o.push(new D("child_moved",e.Ja,e.Ya))}),fd(t,r,"child_removed",e,i,n),fd(t,r,"child_added",e,i,n),fd(t,r,"child_moved",o,i,n),fd(t,r,"child_changed",e,i,n),fd(t,r,Eb,e,i,n),r}function fd(t,e,n,i,r,o){i=Pa(i,function(t){return t.type===n}),Xa(i,q(t.eg,t)),Oa(i,function(n){var i=gd(t,n,o);Oa(r,function(r){r.Jf(n.type)&&e.push(r.createEvent(i,t.V))})})}function gd(t,e,n){return"value"!==e.type&&"child_removed"!==e.type&&(e.Nd=n.qf(e.Ya,e.Ja,t.g)),e}function hd(){this.eb={}}function id(t,e){var n=e.type,i=e.Ya;J("child_added"==n||"child_changed"==n||"child_removed"==n,"Only child changes supported for tracking"),J(".priority"!==i,"Only non-priority child changes can be tracked.");var r=w(t.eb,i);if(r){var o=r.type;if("child_added"==n&&"child_removed"==o)t.eb[i]=new D("child_changed",e.Ja,i,r.Ja);else if("child_removed"==n&&"child_added"==o)delete t.eb[i];else if("child_removed"==n&&"child_changed"==o)t.eb[i]=new D("child_removed",r.Je,i);else if("child_changed"==n&&"child_added"==o)t.eb[i]=new D("child_added",e.Ja,i);else{if("child_changed"!=n||"child_changed"!=o)throw Hc("Illegal combination of changes: "+e+" occurred after "+r);t.eb[i]=new D("child_changed",e.Ja,i,r.Je)}}else t.eb[i]=e}function jd(t,e,n){this.Pb=t,this.qb=e,this.sb=n||null}function kd(t,e,n){this.ga=t,this.qb=e,this.sb=n}function ld(t){this.g=t}function md(t){this.Ae=new ld(t.g),this.g=t.g;var e;t.la?(e=nd(t),e=t.g.Oc(od(t),e)):e=t.g.Sc(),this.dd=e,t.na?(e=pd(t),t=t.g.Oc(qd(t),e)):t=t.g.Pc(),this.Fc=t}function rd(t){this.ra=new md(t),this.g=t.g,J(t.ia,"Only valid if limit has been set"),this.ja=t.ja,this.Jb=!sd(t)}function td(t,e,n,i,r,o){var a;if(t.Jb){var s=ud(t.g);a=function(t,e){return s(e,t)}}else a=ud(t.g);J(e.Db()==t.ja,"");var u=new E(n,i),h=t.Jb?wd(e,t.g):xd(e,t.g),c=t.ra.matches(u);if(e.Ha(n)){var f=e.M(n),h=r.xe(t.g,h,t.Jb);return null!=h&&h.name==n&&(h=r.xe(t.g,h,t.Jb)),r=null==h?1:a(h,u),c&&!i.e()&&r>=0?(null!=o&&id(o,new D("child_changed",i,n,f)),e.Q(n,i)):(null!=o&&id(o,new D("child_removed",f,n)),e=e.Q(n,C),null!=h&&t.ra.matches(h)?(null!=o&&id(o,new D("child_added",h.S,h.name)),e.Q(h.name,h.S)):e)}return i.e()?e:c&&0<=a(h,u)?(null!=o&&(id(o,new D("child_removed",h.S,h.name)),id(o,new D("child_added",i,n))),e.Q(n,i).Q(h.name,C)):e}function yd(t,e){this.he=t,this.cg=e}function zd(t){this.I=t}function Hd(t,e,n,i,r,o){var a=e.D;if(null!=i.sc(n))return e;var s;if(n.e())J(Hb(e.u()),"If change path is empty, we must have complete server data"),e.u().Tb?(r=tb(e),i=i.xc(r instanceof T?r:C)):i=i.ua(tb(e)),o=t.I.ta(e.D.j(),i,o);else{var u=O(n);if(".priority"==u)J(1==uc(n),"Can't have a priority with additional path components"),o=a.j(),s=e.u().j(),i=i.hd(n,o,s),o=null!=i?t.I.da(o,i):a.j();else{var h=G(n);rb(a,u)?(s=e.u().j(),i=i.hd(n,a.j(),s),i=null!=i?a.j().M(u).G(h,i):a.j().M(u)):i=i.Xa(u,e.u()),o=null!=i?t.I.G(a.j(),u,i,r,o):a.j()}}return Fd(e,o,a.$||n.e(),t.I.Ga())}function Bd(t,e,n,i,r,o,a,s){var u=e.u();if(a=a?t.I:t.I.Vb(),n.e())i=a.ta(u.j(),i,null);else if(a.Ga()&&!u.Tb)i=u.j().G(n,i),i=a.ta(u.j(),i,null);else{var h=O(n);if((n.e()?!u.$||u.Tb:!rb(u,O(n)))&&1<uc(n))return e;i=u.j().M(h).G(G(n),i),i=".priority"==h?a.da(u.j(),i):a.G(u.j(),h,i,pb,null)}return u=u.$||n.e(),e=new Id(e.D,new sb(i,u,a.Ga())),Hd(t,e,n,r,new qb(r,e,o),s)}function Ad(t,e,n,i,r,o,a){var s=e.D;if(r=new qb(r,e,o),n.e())a=t.I.ta(e.D.j(),i,a),t=Fd(e,a,!0,t.I.Ga());else if(o=O(n),".priority"===o)a=t.I.da(e.D.j(),i),t=Fd(e,a,s.$,s.Tb);else{var u=G(n);if(n=s.j().M(o),!u.e()){var h=r.pf(o);i=null!=h?".priority"===vc(u)&&h.oa(u.parent()).e()?h:h.G(u,i):C}n.Z(i)?t=e:(a=t.I.G(s.j(),o,i,r,a),t=Fd(e,a,s.$,t.I.Ga()))}return t}function Dd(t,e,n,i,r,o,a){var s=e;return Kd(i,function(i,u){var h=n.w(i);rb(e.D,O(h))&&(s=Ad(t,s,h,u,r,o,a))}),Kd(i,function(i,u){var h=n.w(i);rb(e.D,O(h))||(s=Ad(t,s,h,u,r,o,a))}),s}function Ld(t,e){return Kd(e,function(e,n){t=t.G(e,n)}),t}function Ed(t,e,n,i,r,o,a,s){if(e.u().j().e()&&!Hb(e.u()))return e;var u=e;n=n.e()?i:Md(Nd,n,i);var h=e.u().j();return n.children.ha(function(n,i){if(h.Ha(n)){var c=e.u().j().M(n),c=Ld(c,i);u=Bd(t,u,new K(n),c,r,o,a,s)}}),n.children.ha(function(n,i){var c=!Hb(e.u())&&null==i.value;h.Ha(n)||c||(c=e.u().j().M(n),c=Ld(c,i),u=Bd(t,u,new K(n),c,r,o,a,s))}),u}function Gd(t,e,n,i,r,o){if(null!=i.sc(n))return e;var a=new qb(i,e,r),s=r=e.D.j();if(Hb(e.u())){if(n.e())r=i.ua(tb(e)),s=t.I.ta(e.D.j(),r,o);else if(".priority"===O(n)){var u=i.Xa(O(n),e.u());null==u||r.e()||r.A().Z(u)||(s=t.I.da(r,u))}else u=O(n),r=i.Xa(u,e.u()),null!=r&&(s=t.I.G(e.D.j(),u,r,a,o));r=!0}else e.D.$||n.e()?(s=r,r=e.D.j(),r.N()||r.U(M,function(n){var r=i.Xa(n,e.u());null!=r&&(s=t.I.G(s,n,r,a,o))}),r=e.D.$):(u=O(n),(1==uc(n)||rb(e.D,u))&&(n=i.Xa(u,e.u()),null!=n&&(s=t.I.G(r,u,n,a,o))),r=!1);return Fd(e,s,r,t.I.Ga())}function Od(){}function ud(t){return q(t.compare,t)}function Rd(t){this.bc=t}function Td(){}function Ud(){}function Wd(){}function Zd(){this.Rb=this.na=this.Lb=this.la=this.ia=!1,this.ja=0,this.Nb="",this.dc=null,this.xb="",this.ac=null,this.vb="",this.g=M}function sd(t){return""===t.Nb?t.la:"l"===t.Nb}function od(t){return J(t.la,"Only valid if start has been set"),t.dc}function nd(t){return J(t.la,"Only valid if start has been set"),t.Lb?t.xb:"[MIN_NAME]"}function qd(t){return J(t.na,"Only valid if end has been set"),t.ac}function pd(t){return J(t.na,"Only valid if end has been set"),t.Rb?t.vb:"[MAX_NAME]"}function ae(t){var e=new Zd;return e.ia=t.ia,e.ja=t.ja,e.la=t.la,e.dc=t.dc,e.Lb=t.Lb,e.xb=t.xb,e.na=t.na,e.ac=t.ac,e.Rb=t.Rb,e.vb=t.vb,e.g=t.g,e}function be(t,e){var n=ae(t);return n.g=e,n}function ce(t){var e={};if(t.la&&(e.sp=t.dc,t.Lb&&(e.sn=t.xb)),t.na&&(e.ep=t.ac,t.Rb&&(e.en=t.vb)),t.ia){e.l=t.ja;var n=t.Nb;""===n&&(n=sd(t)?"l":"r"),e.vf=n}return t.g!==M&&(e.i=t.g.toString()),e}function de(t){return!(t.la||t.na||t.ia)}function ee(t){var e={};if(de(t)&&t.g==M)return e;var n;return t.g===M?n="$priority":t.g===Yd?n="$value":t.g===Vd?n="$key":(J(t.g instanceof Rd,"Unrecognized index type!"),n=t.g.toString()),e.orderBy=B(n),t.la&&(e.startAt=B(t.dc),t.Lb&&(e.startAt+=","+B(t.xb))),t.na&&(e.endAt=B(t.ac),t.Rb&&(e.endAt+=","+B(t.vb))),t.ia&&(sd(t)?e.limitToFirst=t.ja:e.limitToLast=t.ja),e}function fe(t,e){this.yd=t,this.cc=e}function ge(t,e,n){var i=na(t.yd,function(i,r){var o=w(t.cc,r);if(J(o,"Missing index implementation for "+r),i===Pd){if(o.Hc(e.S)){for(var a=[],s=n.Wb(Qb),u=H(s);u;)u.name!=e.name&&a.push(u),u=H(s);return a.push(e),he(a,ud(o))}return Pd}return o=n.get(e.name),a=i,o&&(a=a.remove(new E(e.name,o))),a.Na(e,e.S)});return new fe(i,t.cc)}function ie(t,e,n){var i=na(t.yd,function(t){if(t===Pd)return t;var i=n.get(e.name);return i?t.remove(new E(e.name,i)):t});return new fe(i,t.cc)}function tc(t,e){this.C=t,J(n(this.C)&&null!==this.C,"LeafNode shouldn't be created with null/undefined value."),this.ba=e||C,ke(this.ba),this.Bb=null}function T(t,e,n){this.m=t,(this.ba=e)&&ke(this.ba),t.e()&&J(!this.ba||this.ba.e(),"An empty node cannot have a priority"),this.wb=n,this.Bb=null}function wd(t,e){var n;return n=(n=oe(t,e))?(n=n.Rc())&&n.name:t.m.Rc(),n?new E(n,t.m.get(n)):null}function xd(t,e){var n;return n=(n=oe(t,e))?(n=n.ec())&&n.name:t.m.ec(),n?new E(n,t.m.get(n)):null}function oe(t,e){return e===Vd?null:t.wb.get(e.toString())}function L(t,e){if(null===t)return C;var n=null;if("object"==typeof t&&".priority"in t?n=t[".priority"]:"undefined"!=typeof e&&(n=e),J(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new tc(t,L(n));if(t instanceof Array){var i=C,o=t;return r(o,function(t,e){if(u(o,e)&&"."!==e.substring(0,1)){var n=L(t);(n.N()||!n.e())&&(i=i.Q(e,n))}}),i.da(L(n))}var a=[],s=!1,h=t;if(hb(h,function(t){if("string"!=typeof t||"."!==t.substring(0,1)){var e=L(h[t]);e.e()||(s=s||!e.A().e(),a.push(new E(t,e)))}}),0==a.length)return C;var c=he(a,Rb,function(t){return t.name},Tb);if(s){var f=he(a,ud(M));return new T(c,L(n),new fe({".priority":f},{".priority":M}))}return new T(c,L(n),je)}function qe(t){this.count=parseInt(Math.log(t+1)/pe,10),this.hf=this.count-1,this.bg=t+1&parseInt(Array(this.count+1).join("1"),2)}function re(t){var e=!(t.bg&1<<t.hf);return t.hf--,e}function he(t,e,n,i){function r(e,i){var o=i-e;if(0==o)return null;if(1==o){var a=t[e],s=n?n(a):a;return new fc(s,a.S,!1,null,null)}var a=parseInt(o/2,10)+e,o=r(e,a),u=r(a+1,i),a=t[a],s=n?n(a):a;return new fc(s,a.S,!1,o,u)}t.sort(e);var o=function(e){function i(e,i){var u=s-e,h=s;s-=e;var h=r(u+1,h),u=t[u],c=n?n(u):u,h=new fc(c,u.S,i,null,h);o?o.left=h:a=h,o=h}for(var o=null,a=null,s=t.length,u=0;u<e.count;++u){var h=re(e),c=Math.pow(2,e.count-(u+1));h?i(c,!1):(i(c,!1),i(c,!0))}return a}(new qe(t.length));return null!==o?new ac(i||e,o):new ac(i||e)}function le(t){return"number"==typeof t?"number:"+Zc(t):"string:"+t}function ke(t){if(t.N()){var e=t.K();J("string"==typeof e||"number"==typeof e||"object"==typeof e&&u(e,".sv"),"Priority must be a string or number.")}else J(t===Sd||t.e(),"priority of unexpected type.");J(t===Sd||t.A().e(),"Priority nodes can't have a priority of their own.")}function se(){T.call(this,new ac(Tb),C,je)}function Id(t,e){this.D=t,this.Ud=e}function Fd(t,e,n,i){return new Id(new sb(e,n,i),t.Ud)}function Jd(t){return t.D.$?t.D.j():null}function tb(t){return t.Ud.$?t.Ud.j():null}function te(t,e){this.V=t;var n=t.o,i=new ld(n.g),n=de(n)?new ld(n.g):n.ia?new rd(n):new md(n);this.Gf=new zd(n);var r=e.u(),o=e.D,a=i.ta(C,r.j(),null),s=n.ta(C,o.j(),null);this.Ka=new Id(new sb(s,o.$,n.Ga()),new sb(a,r.$,i.Ga())),this.Za=[],this.ig=new dd(t)}function ue(t){return t.V}function we(t,e){var n=t.Ka.D,i=[];return n.j().N()||n.j().U(M,function(t,e){i.push(new D("child_added",e,t))}),n.$&&i.push(Db(n.j())),ve(t,i,n.j(),e)}function ve(t,e,n,i){return ed(t.ig,e,n,i?[i]:t.Za)}function xe(t,e,n){this.type=Cd,this.source=t,this.path=e,this.children=n}function ye(t,e,n,i){this.ve=t,this.of=e,this.Ib=n,this.af=i,J(!i||e,"Tagged queries must be from server.")}function Ae(t,e){this.f=Oc("p:rest:"),this.H=t,this.Gb=e,this.Fa=null,this.aa={}}function Be(t,e){if(n(e))return"tag$"+e;var i=t.o;return J(de(i)&&i.g==M,"should have a tag if it's not a default query."),t.path.toString()}function Ce(t,e,n,i){n=n||{},n.format="export",t.Fa&&(n.auth=t.Fa);var r=(t.H.lb?"https://":"http://")+t.H.host+e+"?"+jb(n);t.f("Sending REST request for "+r);var o=new XMLHttpRequest;o.onreadystatechange=function(){if(i&&4===o.readyState){t.f("REST Response for "+r+" received. status:",o.status,"response:",o.responseText);var e=null;if(200<=o.status&&300>o.status){try{e=mb(o.responseText)}catch(n){Q("Failed to parse JSON response for "+r+": "+o.responseText)}i(null,e)}else 401!==o.status&&404!==o.status&&Q("Got unsuccessful REST response for "+r+" Status: "+o.status),i(o.status);i=null}},o.open("GET",r,!0),o.send()}function De(t,e){this.value=t,this.children=e||Ee}function Fe(t){var e=Nd;return r(t,function(t,n){e=e.set(new K(n),t)}),e}function Ge(t,e,n){if(null!=t.value&&n(t.value))return{path:F,value:t.value};if(e.e())return null;var i=O(e);return t=t.children.get(i),null!==t?(e=Ge(t,G(e),n),null!=e?{path:new K(i).w(e.path),value:e.value}:null):null}function He(t,e){return Ge(t,e,function(){return!0})}function Md(t,e,n){if(e.e())return n;var i=O(e);return e=Md(t.children.get(i)||Nd,G(e),n),i=e.e()?t.children.remove(i):t.children.Na(i,e),new De(t.value,i)}function Ie(t,e){return Je(t,F,e)}function Je(t,e,n){var i={};return t.children.ha(function(t,r){i[t]=Je(r,e.w(t),n)}),n(e,t.value,i)}function Ke(t,e,n){return Le(t,e,F,n)}function Le(t,e,n,i){var r=t.value?i(n,t.value):!1;return r?r:e.e()?null:(r=O(e),(t=t.children.get(r))?Le(t,G(e),n.w(r),i):null)}function Me(t,e,n){var i=F;if(!e.e()){var r=!0;t.value&&(r=n(i,t.value)),!0===r&&(r=O(e),(t=t.children.get(r))&&Ne(t,G(e),i.w(r),n))}}function Ne(t,e,n,i){if(e.e())return t;t.value&&i(n,t.value);var r=O(e);return(t=t.children.get(r))?Ne(t,G(e),n.w(r),i):Nd}function Kd(t,e){Oe(t,F,e)}function Oe(t,e,n){t.children.ha(function(t,i){Oe(i,e.w(t),n)}),t.value&&n(e,t.value)}function Pe(t,e){t.children.ha(function(t,n){n.value&&e(t,n.value)})}function Qe(t){this.W=t}function Se(t,e,n){if(e.e())return new Qe(new De(n));var i=He(t.W,e);if(null!=i){var r=i.path,i=i.value;return e=N(r,e),i=i.G(e,n),new Qe(t.W.set(r,i))}return t=Md(t.W,e,new De(n)),new Qe(t)}function Te(t,e,n){var i=t;return hb(n,function(t,n){i=Se(i,e.w(t),n)}),i}function Ue(t,e){var n=He(t.W,e);return null!=n?t.W.get(n.path).oa(N(n.path,e)):null}function Ve(t){var e=[],n=t.W.value;return null!=n?n.N()||n.U(M,function(t,n){e.push(new E(t,n))}):t.W.children.ha(function(t,n){null!=n.value&&e.push(new E(t,n.value))}),e}function We(t,e){if(e.e())return t;var n=Ue(t,e);return new Qe(null!=n?new De(n):t.W.subtree(e))}function Xe(t,e,n){if(null!=e.value)return n.G(t,e.value);var i=null;return e.children.ha(function(e,r){".priority"===e?(J(null!==r.value,"Priority writes must always be leaf nodes"),i=r.value):n=Xe(t.w(e),r,n)}),n.oa(t).e()||null===i||(n=n.G(t.w(".priority"),i)),n}function Ye(){this.T=Re,this.za=[],this.Lc=-1}function Ze(t,e){return t.Ia?t.path.contains(e):!!ua(t.children,function(n,i){return t.path.w(i).contains(e)})}function af(t){return t.visible}function $e(t,e,n){for(var i=Re,r=0;r<t.length;++r){var o=t[r];if(e(o)){var a=o.path;if(o.Ia)n.contains(a)?(a=N(n,a),i=Se(i,a,o.Ia)):a.contains(n)&&(a=N(a,n),i=Se(i,F,o.Ia.oa(a)));else{if(!o.children)throw Hc("WriteRecord should have .snap or .children");
n.contains(a)?(a=N(n,a),i=Te(i,a,o.children)):a.contains(n)&&(a=N(a,n),a.e()?i=Te(i,F,o.children):(o=w(o.children,O(a)))&&(o=o.oa(G(a)),i=Se(i,F,o)))}}}return i}function bf(t,e){this.Mb=t,this.W=e}function cf(){this.ya={}}function ef(t){return Pa(ra(t.ya),function(t){return!de(t.V.o)})}function ff(t,e){if(de(e.o))return df(t);var n=e.wa();return w(t.ya,n)}function df(t){return va(t.ya,function(t){return de(t.V.o)})||null}function gf(t){this.sa=Nd,this.Hb=new Ye,this.$e={},this.kc={},this.Mc=t}function hf(t,e,i,r,o){var a=t.Hb,s=o;return J(r>a.Lc,"Stacking an older write on top of newer ones"),n(s)||(s=!0),a.za.push({path:e,Ia:i,ie:r,visible:s}),s&&(a.T=Se(a.T,e,i)),a.Lc=r,o?jf(t,new Ub(Yb,e,i)):[]}function kf(t,e,n,i){var r=t.Hb;return J(i>r.Lc,"Stacking an older merge on top of newer ones"),r.za.push({path:e,children:n,ie:i,visible:!0}),r.T=Te(r.T,e,n),r.Lc=i,n=Fe(n),jf(t,new xe(Yb,e,n))}function lf(t,e,n){return n=n||!1,e=t.Hb.Od(e),null==e?[]:jf(t,new Wb(e,n))}function mf(t,e,n){return n=Fe(n),jf(t,new xe(ze,e,n))}function nf(t,e,n,i){if(i=of(t,i),null!=i){var r=pf(i);return i=r.path,r=r.Ib,e=N(i,e),n=new Ub(new ye(!1,!0,r,!0),e,n),qf(t,i,n)}return[]}function rf(t,e,n,i){if(i=of(t,i)){var r=pf(i);return i=r.path,r=r.Ib,e=N(i,e),n=Fe(n),n=new xe(new ye(!1,!0,r,!0),e,n),qf(t,i,n)}return[]}function vf(t){return Ie(t,function(t,e,n){if(e&&null!=df(e))return[df(e)];var i=[];return e&&(i=ef(e)),r(n,function(t){i=i.concat(t)}),i})}function yf(t,e){for(var n=0;n<e.length;++n){var i=e[n];if(!de(i.o)){var i=sf(i),r=t.kc[i];delete t.kc[i],delete t.$e["_"+r]}}}function uf(t,e,n){var i=e.path,o=xf(t,e);if(n=wf(t,n),e=t.Mc.Xe(e,o,n.ud,n.J),i=t.sa.subtree(i),o)J(null==df(i.value),"If we're adding a query, it shouldn't be shadowed");else for(o=Ie(i,function(t,e,n){if(!t.e()&&e&&null!=df(e))return[ue(df(e))];var i=[];return e&&(i=i.concat(Qa(ef(e),function(t){return t.V}))),r(n,function(t){i=i.concat(t)}),i}),i=0;i<o.length;++i)n=o[i],t.Mc.Zd(n,xf(t,n));return e}function wf(t,e){var n=e.V,i=xf(t,n);return{ud:function(){return(e.u()||C).hash()},J:function(e){if("ok"===e){if(i){var r=n.path;if(e=of(t,i)){var o=pf(e);e=o.path,o=o.Ib,r=N(e,r),r=new Zb(new ye(!1,!0,o,!0),r),e=qf(t,e,r)}else e=[]}else e=jf(t,new Zb(ze,n.path));return e}return r="Unknown Error","too_big"===e?r="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==e?r="Client doesn't have permission to access the desired data.":"unavailable"==e&&(r="The service is unavailable"),r=Error(e+": "+r),r.code=e.toUpperCase(),t.kb(n,null,r)}}}function sf(t){return t.path.toString()+"$"+t.wa()}function pf(t){var e=t.indexOf("$");return J(-1!==e&&e<t.length-1,"Bad queryKey."),{Ib:t.substr(e+1),path:new K(t.substr(0,e))}}function of(t,e){var n=t.$e,i="_"+e;return i in n?n[i]:void 0}function xf(t,e){var n=sf(e);return w(t.kc,n)}function qf(t,e,n){var i=t.sa.get(e);return J(i,"Missing sync point for query tag that we're tracking"),i.bb(n,new bf(e,t.Hb),null)}function jf(t,e){return zf(t,e,t.sa,null,new bf(F,t.Hb))}function zf(t,e,n,i,r){if(e.path.e())return Af(t,e,n,i,r);var o=n.get(F);null==i&&null!=o&&(i=o.hb(F));var a=[],s=O(e.path),u=e.Wc(s);if((n=n.children.get(s))&&u)var h=i?i.M(s):null,s=r.w(s),a=a.concat(zf(t,u,n,h,s));return o&&(a=a.concat(o.bb(e,r,i))),a}function Af(t,e,n,i,r){var o=n.get(F);null==i&&null!=o&&(i=o.hb(F));var a=[];return n.children.ha(function(n,o){var s=i?i.M(n):null,u=r.w(n),h=e.Wc(n);h&&(a=a.concat(Af(t,h,o,s,u)))}),o&&(a=a.concat(o.bb(e,r,i))),a}function Bf(){this.children={},this.kd=0,this.value=null}function Cf(t,e,n){this.Dd=t?t:"",this.Yc=e?e:null,this.B=n?n:new Bf}function Df(t,e){for(var n,i=e instanceof K?e:new K(e),r=t;null!==(n=O(i));)r=new Cf(n,r,w(r.B.children,n)||new Bf),i=G(i);return r}function Ef(t,e){J("undefined"!=typeof e,"Cannot set value to undefined"),t.B.value=e,Ff(t)}function Gf(t,e,n,i){n&&!i&&e(t),t.U(function(t){Gf(t,e,!0,i)}),n&&i&&e(t)}function Hf(t,e){for(var n=t.parent();null!==n&&!e(n);)n=n.parent()}function Ff(t){if(null!==t.Yc){var e=t.Yc,n=t.Dd,i=t.e(),r=u(e.B.children,n);i&&r?(delete e.B.children[n],e.B.kd--,Ff(e)):i||r||(e.B.children[n]=t.B,e.B.kd++,Ff(e))}}function If(t){J(ea(t)&&0<t.length,"Requires a non-empty array"),this.Uf=t,this.Nc={}}function Jf(t,e){J(Ta(t.Uf,function(t){return t===e}),"Unknown event: "+e)}function Lf(){if(If.call(this,["online"]),this.ic=!0,"undefined"!=typeof window&&"undefined"!=typeof window.addEventListener){var t=this;window.addEventListener("online",function(){t.ic||(t.ic=!0,t.de("online",!0))},!1),window.addEventListener("offline",function(){t.ic&&(t.ic=!1,t.de("online",!1))},!1)}}function Mf(){If.call(this,["visible"]);var t,e;if("undefined"!=typeof document&&"undefined"!=typeof document.addEventListener&&("undefined"!=typeof document.hidden?(e="visibilitychange",t="hidden"):"undefined"!=typeof document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):"undefined"!=typeof document.msHidden?(e="msvisibilitychange",t="msHidden"):"undefined"!=typeof document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.uc=!0,e){var n=this;document.addEventListener(e,function(){var e=!document[t];e!==n.uc&&(n.uc=e,n.de("visible",e))},!1)}}function Qf(t){return p(t)&&0!==t.length&&!Nf.test(t)}function Rf(t){return null===t||p(t)||ga(t)&&!Sc(t)||ia(t)&&u(t,".sv")}function Sf(t,e,i,r){r&&!n(e)||Tf(z(t,1,r),e,i)}function Tf(t,e,i){if(i instanceof K&&(i=new wc(i,t)),!n(e))throw Error(t+"contains undefined "+zc(i));if(ha(e))throw Error(t+"contains a function "+zc(i)+" with contents: "+e.toString());if(Sc(e))throw Error(t+"contains "+e.toString()+" "+zc(i));if(p(e)&&e.length>10485760/3&&10485760<xc(e))throw Error(t+"contains a string greater than 10485760 utf8 bytes "+zc(i)+" ('"+e.substring(0,50)+"...')");if(ia(e)){var r=!1,o=!1;if(hb(e,function(e,n){if(".value"===e)r=!0;else if(".priority"!==e&&".sv"!==e&&(o=!0,!Qf(e)))throw Error(t+" contains an invalid key ("+e+") "+zc(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.push(e),Tf(t,n,i),i.pop()}),r&&o)throw Error(t+' contains ".value" child '+zc(i)+" in addition to actual children.")}}function Uf(t,e,n){if(!ia(e)||ea(e))throw Error(z(t,1,!1)+" must be an Object containing the children to replace.");if(u(e,".value"))throw Error(z(t,1,!1)+' must not contain ".value".  To overwrite with a leaf value, just use .set() instead.');Sf(t,e,n,!1)}function Vf(t,e,n){if(Sc(n))throw Error(z(t,e,!1)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Rf(n))throw Error(z(t,e,!1)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}function Wf(t,e,i){if(!i||n(e))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw Error(z(t,1,i)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}function Xf(t,e,i,r){if((!r||n(i))&&!Qf(i))throw Error(z(t,e,r)+'was an invalid key: "'+i+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}function Yf(t,e){if(!p(e)||0===e.length||Of.test(e))throw Error(z(t,1,!1)+'was an invalid path: "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')}function Zf(t,e){if(".info"===O(e))throw Error(t+" failed: Can't modify data under /.info/")}function $f(t,e){if(!p(e))throw Error(z(t,1,!1)+"must be a valid credential (a string).")}function ag(t,e,n){if(!p(n))throw Error(z(t,e,!1)+"must be a valid string.")}function bg(t,e){if(ag(t,1,e),!Pf.test(e))throw Error(z(t,1,!1)+"'"+e+"' is not a valid authentication provider.")}function cg(t,e,i,r){if(!(r&&!n(i)||ia(i)&&null!==i))throw Error(z(t,e,r)+"must be a valid object.")}function dg(t,e,n){if(!ia(e)||!u(e,n))throw Error(z(t,1,!1)+'must contain the key "'+n+'"');if(!p(w(e,n)))throw Error(z(t,1,!1)+'must contain the key "'+n+'" with type "string"')}function eg(){this.set={}}function fg(t,e){r(t.set,function(t,n){e(n,t)})}function qc(){this.m=this.C=null}function gg(t,e){if(e.e())return t.C=null,t.m=null,!0;if(null!==t.C){if(t.C.N())return!1;var n=t.C;return t.C=null,n.U(M,function(e,n){t.mc(new K(e),n)}),gg(t,e)}return null!==t.m?(n=O(e),e=G(e),t.m.contains(n)&&gg(t.m.get(n),e)&&t.m.remove(n),t.m.e()?(t.m=null,!0):!1):!0}function rc(t,e,n){null!==t.C?n(e,t.C):t.U(function(t,i){var r=new K(e.toString()+"/"+t);rc(i,r,n)})}function ig(t,e,n){this.ld=t||{},this.ce=e||{},this.ab=n||{},this.ld.remember||(this.ld.remember="default")}function kg(t){var e={},n={};return hb(t||{},function(t,i){0<=Na(jg,t)?e[t]=i:n[t]=i}),new ig(e,{},n)}function lg(t,e){this.Pe=["session",t.Ld,t.Cb].join(":"),this.$d=e}function mg(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ng(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mg())}function og(){return"undefined"!=typeof location&&/^file:\//.test(location.href)}function pg(t){var e=mg();if(""===e)return!1;if("Microsoft Internet Explorer"===navigator.appName){if((e=e.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/))&&1<e.length)return parseFloat(e[1])>=t}else if(-1<e.indexOf("Trident")&&(e=e.match(/rv:([0-9]{2,2}[\.0-9]{0,})/))&&1<e.length)return parseFloat(e[1])>=t;return!1}function qg(){var t,e=window.opener.frames;for(t=e.length-1;t>=0;t--)try{if(e[t].location.protocol===window.location.protocol&&e[t].location.host===window.location.host&&"__winchan_relay_frame"===e[t].name)return e[t]}catch(n){}return null}function rg(t,e,n){t.attachEvent?t.attachEvent("on"+e,n):t.addEventListener&&t.addEventListener(e,n,!1)}function sg(t,e,n){t.detachEvent?t.detachEvent("on"+e,n):t.removeEventListener&&t.removeEventListener(e,n,!1)}function tg(t){/^https?:\/\//.test(t)||(t=window.location.href);var e=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(t);return e?e[1]:t}function ug(t){var e="";try{t=t.replace("#","");var n=kb(t);n&&u(n,"__firebase_request_key")&&(e=w(n,"__firebase_request_key"))}catch(i){}return e}function vg(){var t=Rc(hg);return t.scheme+"://"+t.host+"/v2"}function wg(t){return vg()+"/"+t+"/auth/channel"}function xg(t){var e=this;if(this.zc=t,this.ae="*",pg(8)?this.Qc=this.wd=qg():(this.Qc=window.opener,this.wd=window),!e.Qc)throw"Unable to find relay frame";rg(this.wd,"message",q(this.hc,this)),rg(this.wd,"message",q(this.Af,this));try{yg(this,{a:"ready"})}catch(n){rg(this.Qc,"load",function(){yg(e,{a:"ready"})})}rg(window,"unload",q(this.yg,this))}function yg(t,e){e=B(e),pg(8)?t.Qc.doPost(e,t.ae):t.Qc.postMessage(e,t.ae)}function zg(t){this.oc=Ga()+Ga()+Ga(),this.Df=t}function Bg(t){var e=Error(w(Ag,t),t);return e.code=t,e}function Cg(t){var e;(e=!t.window_features)||(e=mg(),e=-1!==e.indexOf("Fennec/")||-1!==e.indexOf("Firefox/")&&-1!==e.indexOf("Android")),e&&(t.window_features=void 0),t.window_name||(t.window_name="_blank"),this.options=t}function Dg(t){t.method||(t.method="GET"),t.headers||(t.headers={}),t.headers.content_type||(t.headers.content_type="application/json"),t.headers.content_type=t.headers.content_type.toLowerCase(),this.options=t}function Eg(t){this.oc=Ga()+Ga()+Ga(),this.Df=t}function Fg(t){t.callback_parameter||(t.callback_parameter="callback"),this.options=t,window.__firebase_auth_jsonp=window.__firebase_auth_jsonp||{}}function Gg(t,e,n){setTimeout(function(){try{var i=document.createElement("script");i.type="text/javascript",i.id=t,i.async=!0,i.src=e,i.onerror=function(){var e=document.getElementById(t);null!==e&&e.parentNode.removeChild(e),n&&n(Bg("NETWORK_ERROR"))};var r=document.getElementsByTagName("head");(r&&0!=r.length?r[0]:document.documentElement).appendChild(i)}catch(o){n&&n(Bg("NETWORK_ERROR"))}},0)}function Hg(t,e,n,i){If.call(this,["auth_status"]),this.H=t,this.df=e,this.Sg=n,this.Ke=i,this.rc=new lg(t,[Dc,P]),this.nb=null,this.Re=!1,Ig(this)}function Ig(t){P.get("redirect_request_id")&&Jg(t);var e=t.rc.get();e&&e.token?(Kg(t,e),t.df(e.token,function(n,i){Lg(t,n,i,!1,e.token,e)},function(e,n){Mg(t,"resumeSession()",e,n)})):Kg(t,null)}function Ng(t,e,n,i,r,o){"firebaseio-demo.com"===t.H.domain&&Q("Firebase authentication is not supported on demo Firebases (*.firebaseio-demo.com). To secure your Firebase, create a production Firebase at https://www.firebase.com."),t.df(e,function(o,a){Lg(t,o,a,!0,e,n,i||{},r)},function(e,n){Mg(t,"auth()",e,n,o)})}function Og(t,e){t.rc.clear(),Kg(t,null),t.Sg(function(t,n){if("ok"===t)R(e,null);else{var i=(t||"error").toUpperCase(),r=i;n&&(r+=": "+n),r=Error(r),r.code=i,R(e,r)}})}function Lg(t,e,n,i,r,o,a,s){"ok"===e?(i&&(e=n.auth,o.auth=e,o.expires=n.expires,o.token=cd(r)?r:"",n=null,e&&u(e,"uid")?n=w(e,"uid"):u(o,"uid")&&(n=w(o,"uid")),o.uid=n,n="custom",e&&u(e,"provider")?n=w(e,"provider"):u(o,"provider")&&(n=w(o,"provider")),o.provider=n,t.rc.clear(),cd(r)&&(a=a||{},n=Dc,"sessionOnly"===a.remember&&(n=P),"none"!==a.remember&&t.rc.set(o,n)),Kg(t,o)),R(s,null,o)):(t.rc.clear(),Kg(t,null),o=t=(e||"error").toUpperCase(),n&&(o+=": "+n),o=Error(o),o.code=t,R(s,o))}function Mg(t,e,n,i,r){Q(e+" was canceled: "+i),t.rc.clear(),Kg(t,null),t=Error(i),t.code=n.toUpperCase(),R(r,t)}function Pg(t,e,n,i,r){Qg(t),n=new ig(i||{},{},n||{}),Rg(t,[Dg,Fg],"/auth/"+e,n,r)}function Sg(t,e,n,i){Qg(t);var r=[Cg,Eg];n=kg(n),"anonymous"===e||"password"===e?setTimeout(function(){R(i,Bg("TRANSPORT_UNAVAILABLE"))},0):(n.ce.window_features="menubar=yes,modal=yes,alwaysRaised=yeslocation=yes,resizable=yes,scrollbars=yes,status=yes,height=625,width=625,top="+("object"==typeof screen?.5*(screen.height-625):0)+",left="+("object"==typeof screen?.5*(screen.width-625):0),n.ce.relay_url=wg(t.H.Cb),n.ce.requestWithCredential=q(t.pc,t),Rg(t,r,"/auth/"+e,n,i))}function Jg(t){var e=P.get("redirect_request_id");if(e){var n=P.get("redirect_client_options");P.remove("redirect_request_id"),P.remove("redirect_client_options");var i=[Dg,Fg],e={requestId:e,requestKey:ug(document.location.hash)},n=new ig(n,{},e);t.Re=!0;try{document.location.hash=document.location.hash.replace(/&__firebase_request_key=([a-zA-z0-9]*)/,"")}catch(r){}Rg(t,i,"/auth/session",n,function(){this.Re=!1}.bind(t))}}function Rg(t,e,n,i,r){Tg(t,e,n,i,function(e,n){!e&&n&&n.token&&n.uid?Ng(t,n.token,n,i.ld,function(t,e){t?R(r,t):R(r,null,e)}):R(r,e||Bg("UNKNOWN_ERROR"))})}function Tg(t,e,n,i,r){e=Pa(e,function(t){return"function"==typeof t.isAvailable&&t.isAvailable()}),0===e.length?setTimeout(function(){R(r,Bg("TRANSPORT_UNAVAILABLE"))},0):(e=new(e.shift())(i.ce),i=ib(i.ab),i.v="js-2.2.7",i.transport=e.Bc(),i.suppress_status_codes=!0,t=vg()+"/"+t.H.Cb+n,e.open(t,i,function(t,e){if(t)R(r,t);else if(e&&e.error){var n=Error(e.error.message);n.code=e.error.code,n.details=e.error.details,R(r,n)}else R(r,null,e)}))}function Kg(t,e){var n=null!==t.nb||null!==e;t.nb=e,n&&t.de("auth_status",e),t.Ke(null!==e)}function Qg(t){var e=t.H;if("firebaseio.com"!==e.domain&&"firebaseio-demo.com"!==e.domain&&"auth.firebase.com"===hg)throw Error("This custom Firebase server ('"+t.H.domain+"') does not support delegated login.")}function Ug(t){this.hc=t,this.Kd=[],this.Qb=0,this.pe=-1,this.Fb=null}function Vg(t,e,n){t.pe=e,t.Fb=n,t.pe<t.Qb&&(t.Fb(),t.Fb=null)}function Wg(t,e,n){for(t.Kd[e]=n;t.Kd[t.Qb];){var i=t.Kd[t.Qb];delete t.Kd[t.Qb];for(var r=0;r<i.length;++r)if(i[r]){var o=t;Cb(function(){o.hc(i[r])})}if(t.Qb===t.pe){t.Fb&&(clearTimeout(t.Fb),t.Fb(),t.Fb=null);break}t.Qb++}}function Xg(t,e,n){this.qe=t,this.f=Oc(t),this.ob=this.pb=0,this.Va=Ob(e),this.Vd=n,this.Gc=!1,this.gd=function(t){e.host!==e.Oa&&(t.ns=e.Cb);var n,i=[];for(n in t)t.hasOwnProperty(n)&&i.push(n+"="+t[n]);return(e.lb?"https://":"http://")+e.Oa+"/.lp?"+i.join("&")}}function ah(t,e){var n=B(e).length;t.ob+=n,Lb(t.Va,"bytes_received",n)}function $g(t,e,n,i){if(this.gd=i,this.jb=n,this.Oe=new eg,this.$c=[],this.se=Math.floor(1e8*Math.random()),this.Td=!0,this.fe=Gc(),window["pLPCommand"+this.fe]=t,window["pRTLPCB"+this.fe]=e,t=document.createElement("iframe"),t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Bb("No IE domain setting required")}catch(r){t.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}t.contentDocument?t.gb=t.contentDocument:t.contentWindow?t.gb=t.contentWindow.document:t.document&&(t.gb=t.document),this.Ca=t,t="",this.Ca.src&&"javascript:"===this.Ca.src.substr(0,11)&&(t='<script>document.domain="'+document.domain+'";
;Polymer({is:"firebase-auth",properties:{location:{type:String,reflectToAttribute:!0,observer:"_locationChanged"},provider:{type:String,reflectToAttribute:!0,value:"anonymous"},user:{type:Object,readOnly:!0,notify:!0},autoLogin:{type:Boolean,value:!1,reflectToAttribute:!0},statusKnown:{type:Boolean,value:!1,notify:!0,readOnly:!0,reflectToAttribute:!0},redirect:{type:Boolean,value:!1,reflectToAttribute:!0},params:{type:Object},options:{type:Object},ref:{type:Object,readOnly:!0,notify:!0},_boundAuthHandler:{value:function(){return this._authHandler.bind(this)}},_boundOnlineHandler:{value:function(){return this._onlineHandler.bind(this)}},_queuedLogin:{type:Object}},attached:function(){window.addEventListener("online",this._boundOnlineHandler)},detached:function(){window.removeEventListener("online",this._boundOnlineHandler),this.ref.offAuth(this._boundAuthHandler)},_locationChanged:function(e){this.ref&&this.ref.offAuth(this._boundAuthHandler),e?(this._setRef(new Firebase(e)),this.ref.onAuth(this._boundAuthHandler)):this._setRef(null)},_loginHandler:function(e,t){e?this.fire("error",e):this._authHandler(t)},_authHandler:function(e){e?(this._setUser(e),this._setStatusKnown(!0),this.fire("login",{user:e})):(this._setUser(null),this.statusKnown&&(this._setStatusKnown(!1),this.fire("logout")),this._queuedLogin?(this.login(this._queuedLogin.params,this._queuedLogin.options),this._queuedLogin=null):!this.statusKnown&&this.autoLogin&&this.login(),this._setStatusKnown(!0))},login:function(e,t){if(navigator.onLine===!1)this._queuedLogin={params:e,options:t};else switch(e=e||this.params&&JSON.parse(this.params)||void 0,t=t||this.options&&JSON.parse(this.options)||void 0,this.provider){case"password":this.ref.authWithPassword(e,this._loginHandler.bind(this),t);break;case"anonymous":this.ref.authAnonymously(this._loginHandler.bind(this),e);break;case"custom":this.ref.authWithCustomToken(e.token,this._loginHandler.bind(this));break;case"facebook":case"google":case"github":case"twitter":this.redirect?this.ref.authWithOAuthRedirect(this.provider,this._loginHandler.bind(this),e):this.ref.authWithOAuthPopup(this.provider,this._loginHandler.bind(this),e);break;default:throw"Unknown provider: "+this.provider}},logout:function(){navigator.onLine===!1?this.queuedLogout=!0:this.ref.unauth()},_onlineHandler:function(){this.queuedLogout?(this.queuedLogout=!1,this.logout()):this.queuedLogin&&(this.login(this.queuedLogin.params,this.queuedLogin.options),this.queuedLogin=null)},createUser:function(e,t){this.ref.createUser({email:e,password:t},function(e){e?this.fire("error",e):this.fire("user-created")}.bind(this))},changePassword:function(e,t,i){this.ref.changePassword({email:e,oldPassword:t,newPassword:i},function(e){e?this.fire("error",e):this.fire("password-changed")}.bind(this))},sendPasswordResetEmail:function(e){this.ref.resetPassword({email:e},function(e){e?this.fire("error",e):this.fire("password-reset")}.bind(this))},changeEmail:function(e,t,i){this.ref.changeEmail({oldEmail:e,newEmail:t,password:i},function(e){e?this.fire("error",e):this.fire("email-changed")}.bind(this))},removeUser:function(e,t){this.ref.removeUser({email:e,password:t},function(e,t){e?this.fire("error",e):this.fire("user-removed")}.bind(this))}});
;function MakePromise(t){function e(t){if("object"!=typeof this||"function"!=typeof t)throw new TypeError;this._state=null,this._value=null,this._deferreds=[],u(t,i.bind(this),r.bind(this))}function n(e){var n=this;return null===this._state?void this._deferreds.push(e):void t(function(){var t=n._state?e.onFulfilled:e.onRejected;if("function"!=typeof t)return void(n._state?e.resolve:e.reject)(n._value);var i;try{i=t(n._value)}catch(r){return void e.reject(r)}e.resolve(i)})}function i(t){try{if(t===this)throw new TypeError;if(t&&("object"==typeof t||"function"==typeof t)){var e=t.then;if("function"==typeof e)return void u(e.bind(t),i.bind(this),r.bind(this))}this._state=!0,this._value=t,o.call(this)}catch(n){r.call(this,n)}}function r(t){this._state=!1,this._value=t,o.call(this)}function o(){for(var t=0,e=this._deferreds.length;e>t;t++)n.call(this,this._deferreds[t]);this._deferreds=null}function u(t,e,n){var i=!1;try{t(function(t){i||(i=!0,e(t))},function(t){i||(i=!0,n(t))})}catch(r){if(i)return;i=!0,n(r)}}return e.prototype["catch"]=function(t){return this.then(null,t)},e.prototype.then=function(t,i){var r=this;return new e(function(e,o){n.call(r,{onFulfilled:t,onRejected:i,resolve:e,reject:o})})},e.resolve=function(t){return t&&"object"==typeof t&&t.constructor===e?t:new e(function(e){e(t)})},e.reject=function(t){return new e(function(e,n){n(t)})},e}"undefined"!=typeof module&&(module.exports=MakePromise);
;window.Promise||(window.Promise=MakePromise(Polymer.Base.async));
;Polymer({is:"iron-request",properties:{xhr:{type:Object,notify:!0,readOnly:!0,value:function(){return new XMLHttpRequest}},response:{type:Object,notify:!0,readOnly:!0,value:function(){return null}},completes:{type:Object,readOnly:!0,notify:!0,value:function(){return new Promise(function(e,t){this.resolveCompletes=e,this.rejectCompletes=t}.bind(this))}},progress:{type:Object,notify:!0,readOnly:!0,value:function(){return{}}},aborted:{type:Boolean,notify:!0,readOnly:!0,value:!1}},get succeeded(){var e=this.xhr.status||0;return 0===e||e>=200&&300>e},send:function(e){var t=this.xhr;if(!(t.readyState>0))return t.addEventListener("readystatechange",function(){if(4===t.readyState&&!this.aborted){if(!this.succeeded)return void this.rejectCompletes(new Error("The request failed with status code: "+this.xhr.status));this._setResponse(this.parseResponse()),this.resolveCompletes(this)}}.bind(this)),t.addEventListener("progress",function(e){this._setProgress({lengthComputable:e.lengthComputable,loaded:e.loaded,total:e.total})}.bind(this)),t.addEventListener("error",function(e){this.rejectCompletes(e)}.bind(this)),t.addEventListener("abort",function(){this.rejectCompletes(new Error("Request aborted."))}.bind(this)),t.open(e.method||"GET",e.url,e.async!==!1),e.headers&&Object.keys(e.headers).forEach(function(s){t.setRequestHeader(s,e.headers[s])},this),t.responseType=t._responseType=e.handleAs||"text",t.withCredentials=!!e.withCredentials,t.send(e.body),this.completes},parseResponse:function(){var e=this.xhr,t=this.xhr.responseType||this.xhr._responseType,s=!this.xhr.responseType;try{switch(t){case"json":if(s||void 0===e.response){try{e.responseText}catch(r){return e.response}if(e.responseText)return JSON.parse(e.responseText)}return e.response;case"xml":return e.responseXML;case"blob":case"document":case"arraybuffer":return e.response;case"text":default:return e.responseText}}catch(r){this.rejectCompletes(new Error("Could not parse response. "+r.message))}},abort:function(){this._setAborted(!0),this.xhr.abort()}});
;Polymer({is:"iron-ajax",properties:{url:{type:String,value:""},params:{type:Object,value:function(){return{}}},method:{type:String,value:"GET"},headers:{type:Object,value:function(){return{}}},contentType:{type:String,value:"application/x-www-form-urlencoded"},body:{type:String,value:""},sync:{type:Boolean,value:!1},handleAs:{type:String,value:"json"},withCredentials:{type:Boolean,value:!1},auto:{type:Boolean,value:!1},verbose:{type:Boolean,value:!1},loading:{type:Boolean,notify:!0,readOnly:!0},lastRequest:{type:Object,notify:!0,readOnly:!0},lastResponse:{type:Object,notify:!0,readOnly:!0},lastError:{type:Object,notify:!0,readOnly:!0},activeRequests:{type:Array,notify:!0,readOnly:!0,value:function(){this._setActiveRequests([])}},debounceDuration:{type:Number,value:0,notify:!0},_boundHandleResponse:{type:Function,value:function(){return this._handleResponse.bind(this)}}},observers:["_requestOptionsChanged(url, method, params, headers,contentType, body, sync, handleAs, withCredentials, auto)"],get queryString(){var e,t,s=[];for(e in this.params)t=this.params[e],e=window.encodeURIComponent(e),null!==t&&(e+="="+window.encodeURIComponent(t)),s.push(e);return s.join("&")},get requestUrl(){var e=this.queryString;return e?this.url+"?"+e:this.url},get requestHeaders(){var e,t={"Content-Type":this.contentType};if(this.headers instanceof Object)for(e in this.headers)t[e]=this.headers[e].toString();return t},toRequestOptions:function(){return{url:this.requestUrl,method:this.method,headers:this.requestHeaders,body:this.body,async:!this.sync,handleAs:this.handleAs,withCredentials:this.withCredentials}},generateRequest:function(){var e=document.createElement("iron-request"),t=this.toRequestOptions();return this.activeRequests.push(e),e.completes.then(this._boundHandleResponse)["catch"](this._handleError.bind(this,e)).then(this._discardRequest.bind(this,e)),e.send(t),this._setLastRequest(e),this._setLoading(!0),this.fire("request",{request:e,options:t}),e},_handleResponse:function(e){this._setLastResponse(e.response),this.fire("response",e)},_handleError:function(e,t){this.verbose&&console.error(t),this._setLastError({request:e,error:t}),this.fire("error",{request:e,error:t})},_discardRequest:function(e){var t=this.activeRequests.indexOf(e);t>-1&&this.activeRequests.splice(t,1),0===this.activeRequests.length&&this._setLoading(!1)},_requestOptionsChanged:function(){this.debounce("generate-request",function(){(this.url||""===this.url)&&this.auto&&this.generateRequest()},this.debounceDuration)}});
;!function(){"use strict";function n(n){for(var t=n.length,e={0:0},r=0;t>r;r++)n[r]&&(e[n[r].charCodeAt(0)]=r);return e}function t(n){for(var t,e,r=n.length,o={},i=0;r>i;i++)t=n[i][0].charCodeAt(0),e=n[i][1].charCodeAt(0),"undefined"==typeof o[t]&&(o[t]={}),o[t][e]=n[i][2].charCodeAt(0);return o}function e(n){return a[n]}function r(n){return"undefined"!=typeof s[n]}function o(n){return"undefined"!=typeof h[n]}function i(n){return"undefined"!=typeof p[n]}function f(n){return n>=44032&&55203>=n}function u(n,t){return g[n]&&g[n][t]?g[n][t]:!1}function c(n,t){return C[n]&&C[n][t]?C[n][t]:!1}function d(n){this.string=n,this.disassembled=H(n).join("")}var a,s,h,p,C,g,y=["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],A=["ㅏ","ㅐ","ㅑ","ㅒ","ㅓ","ㅔ","ㅕ","ㅖ","ㅗ",["ㅗ","ㅏ"],["ㅗ","ㅐ"],["ㅗ","ㅣ"],"ㅛ","ㅜ",["ㅜ","ㅓ"],["ㅜ","ㅔ"],["ㅜ","ㅣ"],"ㅠ","ㅡ",["ㅡ","ㅣ"],"ㅣ"],l=["","ㄱ","ㄲ",["ㄱ","ㅅ"],"ㄴ",["ㄴ","ㅈ"],["ㄴ","ㅎ"],"ㄷ","ㄹ",["ㄹ","ㄱ"],["ㄹ","ㅁ"],["ㄹ","ㅂ"],["ㄹ","ㅅ"],["ㄹ","ㅌ"],["ㄹ","ㅍ"],["ㄹ","ㅎ"],"ㅁ","ㅂ",["ㅂ","ㅅ"],"ㅅ","ㅆ","ㅇ","ㅈ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],v=44032,m=["ㄱ","ㄲ","ㄳ","ㄴ","ㄵ","ㄶ","ㄷ","ㄸ","ㄹ","ㄺ","ㄻ","ㄼ","ㄽ","ㄾ","ㄿ","ㅀ","ㅁ","ㅂ","ㅃ","ㅄ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],j=["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],b=["ㅏ","ㅐ","ㅑ","ㅒ","ㅓ","ㅔ","ㅕ","ㅖ","ㅗ","ㅘ","ㅙ","ㅚ","ㅛ","ㅜ","ㅝ","ㅞ","ㅟ","ㅠ","ㅡ","ㅢ","ㅣ"],S=["","ㄱ","ㄲ","ㄳ","ㄴ","ㄵ","ㄶ","ㄷ","ㄹ","ㄺ","ㄻ","ㄼ","ㄽ","ㄾ","ㄿ","ㅀ","ㅁ","ㅂ","ㅄ","ㅅ","ㅆ","ㅇ","ㅈ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],w=[["ㄱ","ㅅ","ㄳ"],["ㄴ","ㅈ","ㄵ"],["ㄴ","ㅎ","ㄶ"],["ㄹ","ㄱ","ㄺ"],["ㄹ","ㅁ","ㄻ"],["ㄹ","ㅂ","ㄼ"],["ㄹ","ㅅ","ㄽ"],["ㄹ","ㅌ","ㄾ"],["ㄹ","ㅍ","ㄿ"],["ㄹ","ㅎ","ㅀ"],["ㅂ","ㅅ","ㅄ"]],x=[["ㅗ","ㅏ","ㅘ"],["ㅗ","ㅐ","ㅙ"],["ㅗ","ㅣ","ㅚ"],["ㅜ","ㅓ","ㅝ"],["ㅜ","ㅔ","ㅞ"],["ㅜ","ㅣ","ㅟ"],["ㅡ","ㅣ","ㅢ"]];a=n(m),s=n(j),h=n(b),p=n(S),C=t(w),g=t(x);var H=function(n){"object"==typeof n&&(n=n.join(""));for(var t,i,u,c,d,a=[],C=n.length,g=0;C>g;g++)c=n.charCodeAt(g),f(c)?(c-=v,u=c%28,i=(c-u)/28%21,t=parseInt((c-u)/28/21),a.push(y[t]),"object"==typeof A[i]?a=a.concat(A[i]):a.push(A[i]),u>0&&("object"==typeof l[u]?a=a.concat(l[u]):a.push(l[u]))):e(c)?(d=r(c)?y[s[c]]:l[p[c]],"string"==typeof d?a.push(d):a=a.concat(d)):o(c)?(d=A[h[c]],"string"==typeof d?a.push(d):a=a.concat(d)):a.push(n.charAt(g));return a},O=function(n){function t(t){var e,i,f,a,C=0,y="";if(!(g+1>t))for(var A=1;;A++){if(1===A){if(e=n[g+A].charCodeAt(0),o(e))return t>=g+A+1&&o(i=n[g+A+1].charCodeAt(0))?(d.push(String.fromCharCode(u(e,i))),void(g=t)):(d.push(n[g+A]),void(g=t));if(!r(e))return d.push(n[g+A]),void(g=t);y=n[g+A]}else if(2===A){if(i=n[g+A].charCodeAt(0),r(i))return e=c(e,i),y=String.fromCharCode(e),d.push(y),void(g=t);y=String.fromCharCode(28*(21*s[e]+h[i])+v)}else 3===A?(f=n[g+A].charCodeAt(0),u(i,f)?i=u(i,f):C=f,y=String.fromCharCode(28*(21*s[e]+h[i])+p[C]+v)):4===A?(a=n[g+A].charCodeAt(0),C=c(C,a)?c(C,a):a,y=String.fromCharCode(28*(21*s[e]+h[i])+p[C]+v)):5===A&&(a=n[g+A].charCodeAt(0),C=c(C,a),y=String.fromCharCode(28*(21*s[e]+h[i])+p[C]+v));if(g+A>=t)return d.push(y),void(g=t)}}"string"==typeof n&&(n=H(n));for(var e,f,d=[],a=n.length,C=0,g=-1,y=0;a>y;y++)e=n[y].charCodeAt(0),r(e)||o(e)||i(e)?(0===C?r(e)?C=1:o(e)&&(C=4):1==C?o(e)?C=2:c(f,e)?C=5:t(y-1):2==C?i(e)?C=3:o(e)?u(f,e)||(t(y-1),C=4):(t(y-1),C=1):3==C?i(e)?c(f,e)||(t(y-1),C=1):r(e)?(t(y-1),C=1):o(e)&&(t(y-2),C=2):4==C?o(e)?u(f,e)?(t(y),C=0):t(y-1):(t(y-1),C=1):5==C&&(o(e)?(t(y-2),C=2):(t(y-1),C=1)),f=e):(t(y-1),t(y),C=0);return t(y-1),d.join("")},I=function(n,t){var e=H(n).join(""),r=H(t).join("");return e.indexOf(r)};d.prototype.search=function(n){return H(n).join("").indexOf(this.disassembled)};var J=function(n){"object"==typeof n&&(n=n.join(""));var t=n.charCodeAt(n.length-1);if(f(t)){t-=v;var r=t%28;if(r>0)return!0}else if("undefined"!=typeof e(t))return!0;return!1},V={disassemble:H,assemble:O,search:I,Searcher:d,endsWithConsonant:J,isHangul:function(n){return"string"==typeof n&&(n=n.charCodeAt(0)),f(n)},isConsonant:function(n){return"string"==typeof n&&(n=n.charCodeAt(0)),"undefined"!=typeof e(n)},isVowel:function(n){return"string"==typeof n&&(n=n.charCodeAt(0)),o(n)},isCho:function(n){return"string"==typeof n&&(n=n.charCodeAt(0)),r(n)},isJong:function(n){return"string"==typeof n&&(n=n.charCodeAt(0)),i(n)}};"function"==typeof define&&define.amd?define(function(){return V}):"undefined"!=typeof module?module.exports=V:window.Hangul=V}();
;!function(){"use strict";function n(n){for(var t=n.length,e={0:0},r=0;t>r;r++)n[r]&&(e[n[r].charCodeAt(0)]=r);return e}function t(n){for(var t,e,r=n.length,o={},i=0;r>i;i++)t=n[i][0].charCodeAt(0),e=n[i][1].charCodeAt(0),"undefined"==typeof o[t]&&(o[t]={}),o[t][e]=n[i][2].charCodeAt(0);return o}function e(n){return a[n]}function r(n){return"undefined"!=typeof s[n]}function o(n){return"undefined"!=typeof h[n]}function i(n){return"undefined"!=typeof p[n]}function f(n){return n>=44032&&55203>=n}function u(n,t){return g[n]&&g[n][t]?g[n][t]:!1}function c(n,t){return C[n]&&C[n][t]?C[n][t]:!1}function d(n){this.string=n,this.disassembled=H(n).join("")}var a,s,h,p,C,g,y=["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],A=["ㅏ","ㅐ","ㅑ","ㅒ","ㅓ","ㅔ","ㅕ","ㅖ","ㅗ",["ㅗ","ㅏ"],["ㅗ","ㅐ"],["ㅗ","ㅣ"],"ㅛ","ㅜ",["ㅜ","ㅓ"],["ㅜ","ㅔ"],["ㅜ","ㅣ"],"ㅠ","ㅡ",["ㅡ","ㅣ"],"ㅣ"],l=["","ㄱ","ㄲ",["ㄱ","ㅅ"],"ㄴ",["ㄴ","ㅈ"],["ㄴ","ㅎ"],"ㄷ","ㄹ",["ㄹ","ㄱ"],["ㄹ","ㅁ"],["ㄹ","ㅂ"],["ㄹ","ㅅ"],["ㄹ","ㅌ"],["ㄹ","ㅍ"],["ㄹ","ㅎ"],"ㅁ","ㅂ",["ㅂ","ㅅ"],"ㅅ","ㅆ","ㅇ","ㅈ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],v=44032,m=["ㄱ","ㄲ","ㄳ","ㄴ","ㄵ","ㄶ","ㄷ","ㄸ","ㄹ","ㄺ","ㄻ","ㄼ","ㄽ","ㄾ","ㄿ","ㅀ","ㅁ","ㅂ","ㅃ","ㅄ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],j=["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],b=["ㅏ","ㅐ","ㅑ","ㅒ","ㅓ","ㅔ","ㅕ","ㅖ","ㅗ","ㅘ","ㅙ","ㅚ","ㅛ","ㅜ","ㅝ","ㅞ","ㅟ","ㅠ","ㅡ","ㅢ","ㅣ"],S=["","ㄱ","ㄲ","ㄳ","ㄴ","ㄵ","ㄶ","ㄷ","ㄹ","ㄺ","ㄻ","ㄼ","ㄽ","ㄾ","ㄿ","ㅀ","ㅁ","ㅂ","ㅄ","ㅅ","ㅆ","ㅇ","ㅈ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],w=[["ㄱ","ㅅ","ㄳ"],["ㄴ","ㅈ","ㄵ"],["ㄴ","ㅎ","ㄶ"],["ㄹ","ㄱ","ㄺ"],["ㄹ","ㅁ","ㄻ"],["ㄹ","ㅂ","ㄼ"],["ㄹ","ㅅ","ㄽ"],["ㄹ","ㅌ","ㄾ"],["ㄹ","ㅍ","ㄿ"],["ㄹ","ㅎ","ㅀ"],["ㅂ","ㅅ","ㅄ"]],x=[["ㅗ","ㅏ","ㅘ"],["ㅗ","ㅐ","ㅙ"],["ㅗ","ㅣ","ㅚ"],["ㅜ","ㅓ","ㅝ"],["ㅜ","ㅔ","ㅞ"],["ㅜ","ㅣ","ㅟ"],["ㅡ","ㅣ","ㅢ"]];a=n(m),s=n(j),h=n(b),p=n(S),C=t(w),g=t(x);var H=function(n){"object"==typeof n&&(n=n.join(""));for(var t,i,u,c,d,a=[],C=n.length,g=0;C>g;g++)c=n.charCodeAt(g),f(c)?(c-=v,u=c%28,i=(c-u)/28%21,t=parseInt((c-u)/28/21),a.push(y[t]),"object"==typeof A[i]?a=a.concat(A[i]):a.push(A[i]),u>0&&("object"==typeof l[u]?a=a.concat(l[u]):a.push(l[u]))):e(c)?(d=r(c)?y[s[c]]:l[p[c]],"string"==typeof d?a.push(d):a=a.concat(d)):o(c)?(d=A[h[c]],"string"==typeof d?a.push(d):a=a.concat(d)):a.push(n.charAt(g));return a},O=function(n){function t(t){var e,i,f,a,C=0,y="";if(!(g+1>t))for(var A=1;;A++){if(1===A){if(e=n[g+A].charCodeAt(0),o(e))return t>=g+A+1&&o(i=n[g+A+1].charCodeAt(0))?(d.push(String.fromCharCode(u(e,i))),void(g=t)):(d.push(n[g+A]),void(g=t));if(!r(e))return d.push(n[g+A]),void(g=t);y=n[g+A]}else if(2===A){if(i=n[g+A].charCodeAt(0),r(i))return e=c(e,i),y=String.fromCharCode(e),d.push(y),void(g=t);y=String.fromCharCode(28*(21*s[e]+h[i])+v)}else 3===A?(f=n[g+A].charCodeAt(0),u(i,f)?i=u(i,f):C=f,y=String.fromCharCode(28*(21*s[e]+h[i])+p[C]+v)):4===A?(a=n[g+A].charCodeAt(0),C=c(C,a)?c(C,a):a,y=String.fromCharCode(28*(21*s[e]+h[i])+p[C]+v)):5===A&&(a=n[g+A].charCodeAt(0),C=c(C,a),y=String.fromCharCode(28*(21*s[e]+h[i])+p[C]+v));if(g+A>=t)return d.push(y),void(g=t)}}"string"==typeof n&&(n=H(n));for(var e,f,d=[],a=n.length,C=0,g=-1,y=0;a>y;y++)e=n[y].charCodeAt(0),r(e)||o(e)||i(e)?(0===C?r(e)?C=1:o(e)&&(C=4):1==C?o(e)?C=2:c(f,e)?C=5:t(y-1):2==C?i(e)?C=3:o(e)?u(f,e)||(t(y-1),C=4):(t(y-1),C=1):3==C?i(e)?c(f,e)||(t(y-1),C=1):r(e)?(t(y-1),C=1):o(e)&&(t(y-2),C=2):4==C?o(e)?u(f,e)?(t(y),C=0):t(y-1):(t(y-1),C=1):5==C&&(o(e)?(t(y-2),C=2):(t(y-1),C=1)),f=e):(t(y-1),t(y),C=0);return t(y-1),d.join("")},I=function(n,t){var e=H(n).join(""),r=H(t).join("");return e.indexOf(r)};d.prototype.search=function(n){return H(n).join("").indexOf(this.disassembled)};var J=function(n){"object"==typeof n&&(n=n.join(""));var t=n.charCodeAt(n.length-1);if(f(t)){t-=v;var r=t%28;if(r>0)return!0}else if("undefined"!=typeof e(t))return!0;return!1},V={disassemble:H,assemble:O,search:I,Searcher:d,endsWithConsonant:J,isHangul:function(n){return"string"==typeof n&&(n=n.charCodeAt(0)),f(n)},isConsonant:function(n){return"string"==typeof n&&(n=n.charCodeAt(0)),"undefined"!=typeof e(n)},isVowel:function(n){return"string"==typeof n&&(n=n.charCodeAt(0)),o(n)},isCho:function(n){return"string"==typeof n&&(n=n.charCodeAt(0)),r(n)},isJong:function(n){return"string"==typeof n&&(n=n.charCodeAt(0)),i(n)}};"function"==typeof define&&define.amd?define(function(){return V}):"undefined"!=typeof module?module.exports=V:window.Hangul=V}();
;!function(t,e){"function"==typeof define&&define.amd?define("p5",[],function(){return t.returnExportsGlobal=e()}):"object"==typeof exports?module.exports=e():t.p5=e()}(this,function(){var amdclean={};return amdclean.shim=function(){window.requestDraw=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}()}({}),amdclean.constants=function(){var t=Math.PI;return{ARROW:"default",CROSS:"crosshair",HAND:"pointer",MOVE:"move",TEXT:"text",WAIT:"wait",HALF_PI:t/2,PI:t,QUARTER_PI:t/4,TAU:2*t,TWO_PI:2*t,DEGREES:"degrees",RADIANS:"radians",CORNER:"corner",CORNERS:"corners",RADIUS:"radius",RIGHT:"right",LEFT:"left",CENTER:"center",TOP:"top",BOTTOM:"bottom",BASELINE:"alphabetic",POINTS:"points",LINES:"lines",TRIANGLES:"triangles",TRIANGLE_FAN:"triangles_fan",TRIANGLE_STRIP:"triangles_strip",QUADS:"quads",QUAD_STRIP:"quad_strip",CLOSE:"close",OPEN:"open",CHORD:"chord",PIE:"pie",PROJECT:"square",SQUARE:"butt",ROUND:"round",BEVEL:"bevel",MITER:"miter",RGB:"rgb",HSB:"hsb",AUTO:"auto",ALT:18,BACKSPACE:8,CONTROL:17,DELETE:46,DOWN_ARROW:40,ENTER:13,ESCAPE:27,LEFT_ARROW:37,OPTION:18,RETURN:13,RIGHT_ARROW:39,SHIFT:16,TAB:9,UP_ARROW:38,BLEND:"normal",ADD:"lighter",DARKEST:"darken",LIGHTEST:"lighten",DIFFERENCE:"difference",EXCLUSION:"exclusion",MULTIPLY:"multiply",SCREEN:"screen",REPLACE:"source-over",OVERLAY:"overlay",HARD_LIGHT:"hard-light",SOFT_LIGHT:"soft-light",DODGE:"color-dodge",BURN:"color-burn",THRESHOLD:"threshold",GRAY:"gray",OPAQUE:"opaque",INVERT:"invert",POSTERIZE:"posterize",DILATE:"dilate",ERODE:"erode",BLUR:"blur",NORMAL:"normal",ITALIC:"italic",BOLD:"bold",LINEAR:"linear",QUADRATIC:"quadratic",BEZIER:"bezier",CURVE:"curve"}}({}),amdclean.core=function(t,e,r){"use strict";var r=r,o=function(t,e,n){2===arguments.length&&"boolean"==typeof e&&(n=e,e=void 0),this._setupDone=!1,this._pixelDensity=window.devicePixelRatio||1,this._startTime=(new Date).getTime(),this._userNode=e,this._curElement=null,this._elements=[],this._preloadCount=0,this._updateInterval=0,this._isGlobal=!1,this._loop=!0,this._styles=[],this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,click:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},window.DeviceOrientationEvent?this._events.deviceorientation=null:window.DeviceMotionEvent?this._events.devicemotion=null:this._events.MozOrientation=null,/Firefox/i.test(navigator.userAgent)?this._events.DOMMouseScroll=null:this._events.mousewheel=null,this._loadingScreenId="p5_loading",this._start=function(){if(this._userNode&&"string"==typeof this._userNode&&(this._userNode=document.getElementById(this._userNode)),this._loadingScreen=document.getElementById(this._loadingScreenId),!this._loadingScreen){this._loadingScreen=document.createElement("loadingDiv"),this._loadingScreen.innerHTML="loading...",this._loadingScreen.style.position="absolute";var t=this._userNode||document.body;t.appendChild(this._loadingScreen)}this.createCanvas(this._defaultCanvasSize.width,this._defaultCanvasSize.height,!0);var e=this.preload||window.preload,r=this._isGlobal?window:this;e?(this._preloadMethods.forEach(function(t){r[t]=function(){var e=Array.prototype.slice.call(arguments);return r._preload(t,e)}}),e(),0===this._preloadCount&&(this._setup(),this._runFrames(),this._draw())):(this._setup(),this._runFrames(),this._draw())}.bind(this),this._preload=function(t,e){var r=this._isGlobal?window:this;r._setProperty("_preloadCount",r._preloadCount+1);var n=function(){r._setProperty("_preloadCount",r._preloadCount-1),0===r._preloadCount&&(r._setup(),r._runFrames(),r._draw())};return e.push(n),o.prototype[t].apply(r,e)}.bind(this),this._setup=function(){var t=this._isGlobal?window:this;"function"==typeof t.preload&&this._preloadMethods.forEach(function(e){t[e]=o.prototype[e]}),"function"==typeof t.setup&&t.setup(),this.canvas.style.visibility="",this.canvas.className=this.canvas.className.replace("p5_hidden",""),this._setupDone=!0,this._loadingScreen.parentNode.removeChild(this._loadingScreen)}.bind(this),this._draw=function(){var t=(new Date).getTime();this._frameRate=1e3/(t-this._lastFrameTime),this._lastFrameTime=t,this._setProperty("frameCount",this.frameCount+1),this._loop&&(this._drawInterval&&clearInterval(this._drawInterval),this._drawInterval=setTimeout(function(){window.requestDraw(this._draw.bind(this))}.bind(this),1e3/this._targetFrameRate)),this.redraw(),this._updatePAccelerations(),this._updatePMouseCoords(),this._updatePTouchCoords()}.bind(this),this._runFrames=function(){this._updateInterval&&clearInterval(this._updateInterval)}.bind(this),this._setProperty=function(t,e){this[t]=e,this._isGlobal&&(window[t]=e)}.bind(this),this.remove=function(){if(this._curElement){this._loop=!1,this._drawInterval&&clearTimeout(this._drawInterval),this._updateInterval&&clearTimeout(this._updateInterval);for(var t in this._events)window.removeEventListener(t,this._events[t]);for(var e=0;e<this._elements.length;e++){var r=this._elements[e];r.elt.parentNode&&r.elt.parentNode.removeChild(r.elt);for(var n in r._events)r.elt.removeEventListener(n,r._events[n])}var i=this;if(this._registeredMethods.remove.forEach(function(t){"undefined"!=typeof t&&t.call(i)}),this._isGlobal){for(var s in o.prototype)try{delete window[s]}catch(a){window[s]=void 0}for(var l in this)if(this.hasOwnProperty(l))try{delete window[l]}catch(a){window[l]=void 0}}}}.bind(this);for(var i in r)o.prototype[i]=r[i];if(t)t(this);else{this._isGlobal=!0;for(var s in o.prototype)if("function"==typeof o.prototype[s]){var a=s.substring(2);this._events.hasOwnProperty(a)||(window[s]=o.prototype[s].bind(this))}else window[s]=o.prototype[s];for(var l in this)this.hasOwnProperty(l)&&(window[l]=this[l])}for(var p in this._events){var u=this["_on"+p];if(u){var h=u.bind(this);window.addEventListener(p,h),this._events[p]=h}}var c=this;window.addEventListener("focus",function(){c._setProperty("focused",!0)}),window.addEventListener("blur",function(){c._setProperty("focused",!1)}),n?this._start():"complete"===document.readyState?this._start():window.addEventListener("load",this._start.bind(this),!1)};return o.prototype._preloadMethods=["loadJSON","loadImage","loadStrings","loadXML","loadShape","loadTable"],o.prototype._registeredMethods={pre:[],post:[],remove:[]},o.prototype.registerPreloadMethod=function(t){o.prototype._preloadMethods.push(t)}.bind(this),o.prototype.registerMethod=function(t,e){o.prototype._registeredMethods.hasOwnProperty(t)||(o.prototype._registeredMethods[t]=[]),o.prototype._registeredMethods[t].push(e)}.bind(this),o}({},amdclean.shim,amdclean.constants),amdclean.utilscolor_utils=function(t,e){var r=e;return r.ColorUtils={},r.ColorUtils.hsbaToRGBA=function(t){var e=t[0],r=t[1],o=t[2];e/=255,r/=255,o/=255;var n=[];if(0===r)n=[Math.round(255*o),Math.round(255*o),Math.round(255*o),t[3]];else{var i=6*e;6===i&&(i=0);var s,a,l,p=Math.floor(i),u=o*(1-r),h=o*(1-r*(i-p)),c=o*(1-r*(1-(i-p)));0===p?(s=o,a=c,l=u):1===p?(s=h,a=o,l=u):2===p?(s=u,a=o,l=c):3===p?(s=u,a=h,l=o):4===p?(s=c,a=u,l=o):(s=o,a=u,l=h),n=[Math.round(255*s),Math.round(255*a),Math.round(255*l),t[3]]}return n},r.ColorUtils.rgbaToHSBA=function(t){var e,r,o=t[0]/255,n=t[1]/255,i=t[2]/255,s=Math.min(o,n,i),a=Math.max(o,n,i),l=a-s,p=a;if(0===l)e=0,r=0;else{r=l/a;var u=((a-o)/6+l/2)/l,h=((a-n)/6+l/2)/l,c=((a-i)/6+l/2)/l;o===a?e=c-h:n===a?e=1/3+u-c:i===a&&(e=2/3+h-u),0>e&&(e+=1),e>1&&(e-=1)}return[Math.round(255*e),Math.round(255*r),Math.round(255*p),t[3]]},r.ColorUtils}({},amdclean.core),amdclean.p5Color=function(t,e,r,o){var n=e,i=r,o=o;n.Color=function(t,e){return this.color_array=n.Color._getFormattedColor.apply(t,e),this._normalizeColorArray(t),t._colorMode===o.HSB?(this.hsba=this.color_array,this.rgba=i.hsbaToRGBA(this.hsba)):(this.rgba=this.color_array,this.hsba=i.rgbaToHSBA(this.rgba)),this},n.Color.prototype._normalizeColorArray=function(t){var e=t._colorMode===o.RGB,r=e?t._maxRGB:t._maxHSB,n=this.color_array;return n[0]*=255/r[0],n[1]*=255/r[1],n[2]*=255/r[2],n[3]*=255/r[3],n},n.Color.prototype.getHue=function(){return this.hsba[0]},n.Color.prototype.getSaturation=function(){return this.hsba[1]},n.Color.prototype.getBrightness=function(){return this.hsba[2]},n.Color.prototype.getRed=function(){return this.rgba[0]},n.Color.prototype.getGreen=function(){return this.rgba[1]},n.Color.prototype.getBlue=function(){return this.rgba[2]},n.Color.prototype.getAlpha=function(){return this.rgba[3]},n.Color.prototype.toString=function(){for(var t=this.rgba,e=0;3>e;e++)t[e]=Math.floor(t[e]);var r="undefined"!=typeof t[3]?t[3]/255:1;return"rgba("+t[0]+","+t[1]+","+t[2]+","+r+")"};var s=/\s*/,a=/(\d{1,3})/,l=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,p=new RegExp(l.source+"%"),u={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},h={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",a.source,",",a.source,",",a.source,"\\)$"].join(s.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",p.source,",",p.source,",",p.source,"\\)$"].join(s.source),"i"),RGBA:new RegExp(["^rgba\\(",a.source,",",a.source,",",a.source,",",l.source,"\\)$"].join(s.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",p.source,",",p.source,",",p.source,",",l.source,"\\)$"].join(s.source),"i")};return n.Color._getFormattedColor=function(){var t,e,r,i,s,a;if(arguments.length>=3)t=arguments[0],e=arguments[1],r=arguments[2],i="number"==typeof arguments[3]?arguments[3]:255;else{if("string"==typeof arguments[0])return s=arguments[0].trim().toLowerCase(),u[s]?n.Color._getFormattedColor.apply(this,[u[s]]):(a=h.HEX3.test(s)?h.HEX3.exec(s).slice(1).map(function(t){return parseInt(t+t,16)}):h.HEX6.test(s)?h.HEX6.exec(s).slice(1).map(function(t){return parseInt(t,16)}):h.RGB.test(s)?h.RGB.exec(s).slice(1).map(function(t){return parseInt(t,10)}):h.RGB_PERCENT.test(s)?h.RGB_PERCENT.exec(s).slice(1).map(function(t){return parseInt(parseFloat(t)/100*255,10)}):h.RGBA.test(s)?h.RGBA.exec(s).slice(1).map(function(t,e){return 3===e?parseInt(255*parseFloat(t),10):parseInt(t,10)}):h.RGBA_PERCENT.test(s)?h.RGBA_PERCENT.exec(s).slice(1).map(function(t,e){return 3===e?parseInt(255*parseFloat(t),10):parseInt(parseFloat(t)/100*255,10)}):[255],n.Color._getFormattedColor.apply(this,a));this._colorMode===o.RGB?t=e=r=arguments[0]:(t=r=arguments[0],e=0),i="number"==typeof arguments[1]?arguments[1]:255}return[t,e,r,i]},n.Color}({},amdclean.core,amdclean.utilscolor_utils,amdclean.constants),amdclean.p5Element=function(t,e){function r(t,e,r){var o=e.bind(r);r.elt.addEventListener(t,o,!1),r._events[t]=o}var o=e;return o.Element=function(t,e){this.elt=t,this._pInst=e,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight},o.Element.prototype.parent=function(t){return"string"==typeof t?t=document.getElementById(t):t instanceof o.Element&&(t=t.elt),t.appendChild(this.elt),this},o.Element.prototype.id=function(t){return this.elt.id=t,this},o.Element.prototype["class"]=function(t){return this.elt.className+=" "+t,this},o.Element.prototype.mousePressed=function(t){return r("mousedown",t,this),r("touchstart",t,this),this},o.Element.prototype.mouseWheel=function(t){return r("mousewheel",t,this),this},o.Element.prototype.mouseReleased=function(t){return r("mouseup",t,this),r("touchend",t,this),this},o.Element.prototype.mouseClicked=function(t){return r("click",t,this),this},o.Element.prototype.mouseMoved=function(t){return r("mousemove",t,this),r("touchmove",t,this),this},o.Element.prototype.mouseOver=function(t){return r("mouseover",t,this),this},o.Element.prototype.mouseOut=function(t){return r("mouseout",t,this),this},o.Element.prototype.touchStarted=function(t){return r("touchstart",t,this),r("mousedown",t,this),this},o.Element.prototype.touchMoved=function(t){return r("touchmove",t,this),r("mousemove",t,this),this},o.Element.prototype.touchEnded=function(t){return r("touchend",t,this),r("mouseup",t,this),this},o.Element.prototype.dragOver=function(t){return r("dragover",t,this),this},o.Element.prototype.dragLeave=function(t){return r("dragleave",t,this),this},o.Element.prototype.drop=function(t,e){function n(e){var r=new o.File(e);return function(e){r.data=e.target.result,t(r)}}return window.File&&window.FileReader&&window.FileList&&window.Blob?(r("dragover",function(t){t.stopPropagation(),t.preventDefault()},this),r("dragleave",function(t){t.stopPropagation(),t.preventDefault()},this),arguments.length>1&&r("drop",e,this),r("drop",function(t){t.stopPropagation(),t.preventDefault();for(var e=t.dataTransfer.files,r=0;r<e.length;r++){var o=e[r],i=new FileReader;i.onload=n(o),"text"===o.type?i.readAsText(o):i.readAsDataURL(o)}},this)):console.log("The File APIs are not fully supported in this browser."),this},o.Element.prototype._setProperty=function(t,e){this[t]=e},o.Element}({},amdclean.core),amdclean.p5Graphics=function(t,e,r){var o=e,r=r;return o.Graphics=function(t,e,r){o.Element.call(this,t,e),this.canvas=t,this.drawingContext=this.canvas.getContext("2d"),this._pInst=e,r?(this._isMainCanvas=!0,this._pInst._setProperty("_curElement",this),this._pInst._setProperty("canvas",this.canvas),this._pInst._setProperty("drawingContext",this.drawingContext),this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height)):(this.canvas.style.display="none",this._styles=[])},o.Graphics.prototype=Object.create(o.Element.prototype),o.Graphics.prototype._applyDefaults=function(){this.drawingContext.fillStyle="#FFFFFF",this.drawingContext.strokeStyle="#000000",this.drawingContext.lineCap=r.ROUND,this.drawingContext.font="normal 12px sans-serif"},o.Graphics.prototype.resize=function(t,e){this.width=t,this.height=e,this.elt.width=t*this._pInst._pixelDensity,this.elt.height=e*this._pInst._pixelDensity,this.elt.style.width=t+"px",this.elt.style.height=e+"px",this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height)),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)},o.Graphics}({},amdclean.core,amdclean.constants),amdclean.filters=function(){"use strict";function t(t){var e=3.5*t|0;if(e=1>e?1:248>e?e:248,o!==e){o=e,n=1+o<<1,i=new Int32Array(n),s=new Array(n);for(var r=0;n>r;r++)s[r]=new Int32Array(256);for(var a,l,p,u,h=1,c=e-1;e>h;h++){i[e+h]=i[c]=l=c*c,p=s[e+h],u=s[c--];for(var d=0;256>d;d++)p[d]=u[d]=l*d}a=i[e]=e*e,p=s[e];for(var f=0;256>f;f++)p[f]=a*f}}function e(e,a){for(var l=r._toPixels(e),p=e.width,u=e.height,h=p*u,c=new Int32Array(h),d=0;h>d;d++)c[d]=r._getARGB(l,d);var f,m,y,g,w,v,_,x,b,C,T=new Int32Array(h),R=new Int32Array(h),E=new Int32Array(h),S=new Int32Array(h),M=0;t(a);var P,A,I,k;for(A=0;u>A;A++){for(P=0;p>P;P++){if(g=y=m=w=f=0,v=P-o,0>v)C=-v,v=0;else{if(v>=p)break;C=0}for(I=C;n>I&&!(v>=p);I++){var D=c[v+M];k=s[I],w+=k[(-16777216&D)>>>24],m+=k[(16711680&D)>>16],y+=k[(65280&D)>>8],g+=k[255&D],f+=i[I],v++}_=M+P,T[_]=w/f,R[_]=m/f,E[_]=y/f,S[_]=g/f}M+=p}for(M=0,x=-o,b=x*p,A=0;u>A;A++){for(P=0;p>P;P++){if(g=y=m=w=f=0,0>x)C=_=-x,v=P;else{if(x>=u)break;C=0,_=x,v=P+b}for(I=C;n>I&&!(_>=u);I++)k=s[I],w+=k[T[v]],m+=k[R[v]],y+=k[E[v]],g+=k[S[v]],f+=i[I],_++,v+=p;c[P+M]=w/f<<24|m/f<<16|y/f<<8|g/f}M+=p,b+=p,x++}r._setPixels(l,c)}var r={};r._toPixels=function(t){return t instanceof ImageData?t.data:t.getContext("2d").getImageData(0,0,t.width,t.height).data},r._getARGB=function(t,e){var r=4*e;return t[r+3]<<24&4278190080|t[r]<<16&16711680|t[r+1]<<8&65280|255&t[r+2]},r._setPixels=function(t,e){for(var r=0,o=0,n=t.length;n>o;o++)r=4*o,t[r+0]=(16711680&e[o])>>>16,t[r+1]=(65280&e[o])>>>8,t[r+2]=255&e[o],t[r+3]=(4278190080&e[o])>>>24},r._toImageData=function(t){return t instanceof ImageData?t:t.getContext("2d").getImageData(0,0,t.width,t.height)},r._createImageData=function(t,e){return r._tmpCanvas=document.createElement("canvas"),r._tmpCtx=r._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(t,e)},r.apply=function(t,e,r){var o=t.getContext("2d"),n=o.getImageData(0,0,t.width,t.height),i=e(n,r);i instanceof ImageData?o.putImageData(i,0,0,0,0,t.width,t.height):o.putImageData(n,0,0,0,0,t.width,t.height)},r.threshold=function(t,e){var o=r._toPixels(t);void 0===e&&(e=.5);for(var n=Math.floor(255*e),i=0;i<o.length;i+=4){var s,a=o[i],l=o[i+1],p=o[i+2],u=.2126*a+.7152*l+.0722*p;s=u>=n?255:0,o[i]=o[i+1]=o[i+2]=s}},r.gray=function(t){for(var e=r._toPixels(t),o=0;o<e.length;o+=4){var n=e[o],i=e[o+1],s=e[o+2],a=.2126*n+.7152*i+.0722*s;e[o]=e[o+1]=e[o+2]=a}},r.opaque=function(t){for(var e=r._toPixels(t),o=0;o<e.length;o+=4)e[o+3]=255;return e},r.invert=function(t){for(var e=r._toPixels(t),o=0;o<e.length;o+=4)e[o]=255-e[o],e[o+1]=255-e[o+1],e[o+2]=255-e[o+2]},r.posterize=function(t,e){var o=r._toPixels(t);if(2>e||e>255)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var n=e-1,i=0;i<o.length;i+=4){var s=o[i],a=o[i+1],l=o[i+2];o[i]=255*(s*e>>8)/n,o[i+1]=255*(a*e>>8)/n,o[i+2]=255*(l*e>>8)/n}},r.dilate=function(t){for(var e,o,n,i,s,a,l,p,u,h,c,d,f,m,y,g,w,v=r._toPixels(t),_=0,x=v.length?v.length/4:0,b=new Int32Array(x);x>_;)for(e=_,o=_+t.width;o>_;)n=i=r._getARGB(v,_),l=_-1,a=_+1,p=_-t.width,u=_+t.width,e>l&&(l=_),a>=o&&(a=_),0>p&&(p=0),u>=x&&(u=_),d=r._getARGB(v,p),c=r._getARGB(v,l),f=r._getARGB(v,u),h=r._getARGB(v,a),s=77*(n>>16&255)+151*(n>>8&255)+28*(255&n),y=77*(c>>16&255)+151*(c>>8&255)+28*(255&c),m=77*(h>>16&255)+151*(h>>8&255)+28*(255&h),g=77*(d>>16&255)+151*(d>>8&255)+28*(255&d),w=77*(f>>16&255)+151*(f>>8&255)+28*(255&f),y>s&&(i=c,s=y),m>s&&(i=h,s=m),g>s&&(i=d,s=g),w>s&&(i=f,s=w),b[_++]=i;r._setPixels(v,b)},r.erode=function(t){for(var e,o,n,i,s,a,l,p,u,h,c,d,f,m,y,g,w,v=r._toPixels(t),_=0,x=v.length?v.length/4:0,b=new Int32Array(x);x>_;)for(e=_,o=_+t.width;o>_;)n=i=r._getARGB(v,_),l=_-1,a=_+1,p=_-t.width,u=_+t.width,e>l&&(l=_),a>=o&&(a=_),0>p&&(p=0),u>=x&&(u=_),d=r._getARGB(v,p),c=r._getARGB(v,l),f=r._getARGB(v,u),h=r._getARGB(v,a),s=77*(n>>16&255)+151*(n>>8&255)+28*(255&n),y=77*(c>>16&255)+151*(c>>8&255)+28*(255&c),m=77*(h>>16&255)+151*(h>>8&255)+28*(255&h),g=77*(d>>16&255)+151*(d>>8&255)+28*(255&d),w=77*(f>>16&255)+151*(f>>8&255)+28*(255&f),s>y&&(i=c,s=y),s>m&&(i=h,s=m),s>g&&(i=d,s=g),s>w&&(i=f,s=w),b[_++]=i;r._setPixels(v,b)};var o,n,i,s;return r.blur=function(t,r){e(t,r)},r}({}),amdclean.p5Image=function(t,e,r){"use strict";var o=e,n=r;return o.Image=function(t,e){this.width=t,this.height=e,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),this.pixels=[]},o.Image.prototype._setProperty=function(t,e){this[t]=e},o.Image.prototype.loadPixels=function(){o.prototype.loadPixels.call(this)},o.Image.prototype.updatePixels=function(t,e,r,n){o.prototype.updatePixels.call(this,t,e,r,n)},o.Image.prototype.get=function(t,e,r,n){return o.prototype.get.call(this,t,e,r,n)},o.Image.prototype.set=function(t,e,r){o.prototype.set.call(this,t,e,r)},o.Image.prototype.resize=function(t,e){t=t||this.canvas.width,e=e||this.canvas.height;var r=document.createElement("canvas");r.width=t,r.height=e,r.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,r.width,r.height),this.canvas.width=this.width=t,this.canvas.height=this.height=e,this.drawingContext.drawImage(r,0,0,t,e,0,0,t,e),this.pixels.length>0&&this.loadPixels()},o.Image.prototype.copy=function(){o.prototype.copy.apply(this,arguments)},o.Image.prototype.mask=function(t){void 0===t&&(t=this);var e=this.drawingContext.globalCompositeOperation,r=1;t instanceof o.Graphics&&(r=t._pInst._pixelDensity);var n=[t,0,0,r*t.width,r*t.height,0,0,this.width,this.height];this.drawingContext.globalCompositeOperation="destination-in",this.copy.apply(this,n),this.drawingContext.globalCompositeOperation=e},o.Image.prototype.filter=function(t,e){n.apply(this.canvas,n[t.toLowerCase()],e)},o.Image.prototype.blend=function(){o.prototype.blend.apply(this,arguments)},o.Image.prototype.save=function(t,e){var r;if(e)switch(e.toLowerCase()){case"png":r="image/png";break;case"jpeg":r="image/jpeg";break;case"jpg":r="image/jpeg";break;default:r="image/png"}else e="png",r="image/png";var n="image/octet-stream",i=this.canvas.toDataURL(r);i=i.replace(r,n),o.prototype.downloadFile(i,t,e)},o.Image}({},amdclean.core,amdclean.filters),amdclean.p5File=function(t,e){var r=e;return r.File=function(t,e){this.file=t,this._pInst=e;var r=t.type.split("/");this.type=r[0],this.subtype=r[1],this.name=t.name,this.size=t.size,this.data=void 0},r.File}({},amdclean.core),amdclean.polargeometry=function(){return{degreesToRadians:function(t){return 2*Math.PI*t/360},radiansToDegrees:function(t){return 360*t/(2*Math.PI)}}}({}),amdclean.p5Vector=function(t,e,r,o){"use strict";var n=e,i=r,o=o;return n.Vector=function(){var t,e,r;arguments[0]instanceof n?(this.p5=arguments[0],t=arguments[1][0]||0,e=arguments[1][1]||0,r=arguments[1][2]||0):(t=arguments[0]||0,e=arguments[1]||0,r=arguments[2]||0),this.x=t,this.y=e,this.z=r},n.Vector.prototype.set=function(t,e,r){return t instanceof n.Vector?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this):t instanceof Array?(this.x=t[0]||0,this.y=t[1]||0,this.z=t[2]||0,this):(this.x=t||0,this.y=e||0,this.z=r||0,this)},n.Vector.prototype.copy=function(){return this.p5?new n.Vector(this.p5,[this.x,this.y,this.z]):new n.Vector(this.x,this.y,this.z)},n.Vector.prototype.add=function(t,e,r){return t instanceof n.Vector?(this.x+=t.x||0,this.y+=t.y||0,this.z+=t.z||0,this):t instanceof Array?(this.x+=t[0]||0,this.y+=t[1]||0,this.z+=t[2]||0,this):(this.x+=t||0,this.y+=e||0,this.z+=r||0,this)},n.Vector.prototype.sub=function(t,e,r){return t instanceof n.Vector?(this.x-=t.x||0,this.y-=t.y||0,this.z-=t.z||0,this):t instanceof Array?(this.x-=t[0]||0,this.y-=t[1]||0,this.z-=t[2]||0,this):(this.x-=t||0,this.y-=e||0,this.z-=r||0,this)},n.Vector.prototype.mult=function(t){return this.x*=t||0,this.y*=t||0,this.z*=t||0,this},n.Vector.prototype.div=function(t){return this.x/=t,this.y/=t,this.z/=t,this},n.Vector.prototype.mag=function(){return Math.sqrt(this.magSq())},n.Vector.prototype.magSq=function(){var t=this.x,e=this.y,r=this.z;return t*t+e*e+r*r},n.Vector.prototype.dot=function(t,e,r){return t instanceof n.Vector?this.dot(t.x,t.y,t.z):this.x*(t||0)+this.y*(e||0)+this.z*(r||0)},n.Vector.prototype.cross=function(t){var e=this.y*t.z-this.z*t.y,r=this.z*t.x-this.x*t.z,o=this.x*t.y-this.y*t.x;return this.p5?new n.Vector(this.p5,[e,r,o]):new n.Vector(e,r,o)},n.Vector.prototype.dist=function(t){var e=t.copy().sub(this);return e.mag()},n.Vector.prototype.normalize=function(){return this.div(this.mag())},n.Vector.prototype.limit=function(t){var e=this.magSq();return e>t*t&&(this.div(Math.sqrt(e)),this.mult(t)),this},n.Vector.prototype.setMag=function(t){return this.normalize().mult(t)},n.Vector.prototype.heading=function(){var t=Math.atan2(this.y,this.x);return this.p5?this.p5._angleMode===o.RADIANS?t:i.radiansToDegrees(t):t},n.Vector.prototype.rotate=function(t){this.p5&&this.p5._angleMode===o.DEGREES&&(t=i.degreesToRadians(t));var e=this.heading()+t,r=this.mag();return this.x=Math.cos(e)*r,this.y=Math.sin(e)*r,this},n.Vector.prototype.lerp=function(t,e,r,o){return t instanceof n.Vector?this.lerp(t.x,t.y,t.z,e):(this.x+=(t-this.x)*o||0,this.y+=(e-this.y)*o||0,this.z+=(r-this.z)*o||0,this)},n.Vector.prototype.array=function(){return[this.x||0,this.y||0,this.z||0]},n.Vector.prototype.equals=function(t,e,r){return t instanceof n.Vector?(t=t.x||0,e=t.y||0,r=t.z||0):t instanceof Array?(t=t[0]||0,e=t[1]||0,r=t[2]||0):(t=t||0,e=e||0,r=r||0),this.x===t&&this.y===e&&this.z===r},n.Vector.fromAngle=function(t){return this.p5&&this.p5._angleMode===o.DEGREES&&(t=i.degreesToRadians(t)),this.p5?new n.Vector(this.p5,[Math.cos(t),Math.sin(t),0]):new n.Vector(Math.cos(t),Math.sin(t),0)},n.Vector.random2D=function(){var t;return t=this.p5?this.p5.random(this.p5._angleMode===o.DEGREES?360:o.TWO_PI):Math.random()*Math.PI*2,this.fromAngle(t)},n.Vector.random3D=function(){var t,e;this.p5?(t=this.p5.random(0,o.TWO_PI),e=this.p5.random(-1,1)):(t=Math.random()*Math.PI*2,e=2*Math.random()-1);var r=Math.sqrt(1-e*e)*Math.cos(t),i=Math.sqrt(1-e*e)*Math.sin(t);return this.p5?new n.Vector(this.p5,[r,i,e]):new n.Vector(r,i,e)},n.Vector.add=function(t,e,r){return r?r.set(t):r=t.copy(),r.add(e),r},n.Vector.sub=function(t,e,r){return r?r.set(t):r=t.copy(),r.sub(e),r},n.Vector.mult=function(t,e,r){return r?r.set(t):r=t.copy(),r.mult(e),r},n.Vector.div=function(t,e,r){return r?r.set(t):r=t.copy(),r.div(e),r},n.Vector.dot=function(t,e){return t.dot(e)},n.Vector.cross=function(t,e){return t.cross(e)},n.Vector.dist=function(t,e){return t.dist(e)},n.Vector.lerp=function(t,e,r,o){return o?o.set(t):o=t.copy(),o.lerp(e,r),o},n.Vector.angleBetween=function(t,e){var r=Math.acos(t.dot(e)/(t.mag()*e.mag()));return this.p5&&this.p5._angleMode===o.DEGREES&&(r=i.radiansToDegrees(r)),r},n.Vector}({},amdclean.core,amdclean.polargeometry,amdclean.constants),amdclean.p5TableRow=function(t,e){"use strict";var r=e;return r.TableRow=function(t,e){var r=[],o={};t&&(e=e||",",r=t.split(e));for(var n=0;n<r.length;n++){var i=n,s=r[n];o[i]=s}this.arr=r,this.obj=o,this.table=null},r.TableRow.prototype.set=function(t,e){if("string"==typeof t){var r=this.table.columns.indexOf(t);if(!(r>=0))throw'This table has no column named "'+t+'"';this.obj[t]=e,this.arr[r]=e}else{if(!(t<this.table.columns.length))throw"Column #"+t+" is out of the range of this table";this.arr[t]=e;var o=this.table.columns[t];this.obj[o]=e}},r.TableRow.prototype.setNum=function(t,e){var r=parseFloat(e,10);this.set(t,r)},r.TableRow.prototype.setString=function(t,e){var r=e.toString();this.set(t,r)},r.TableRow.prototype.get=function(t){return"string"==typeof t?this.obj[t]:this.arr[t]},r.TableRow.prototype.getNum=function(t){var e;if(e="string"==typeof t?parseFloat(this.obj[t],10):parseFloat(this.arr[t],10),"NaN"===e.toString())throw"Error: "+this.obj[t]+" is NaN (Not a Number)";return e},r.TableRow.prototype.getString=function(t){return"string"==typeof t?this.obj[t].toString():this.arr[t].toString()},r.TableRow}({},amdclean.core),amdclean.p5Table=function(t,e){"use strict";var r=e;return r.Table=function(){this.columns=[],this.rows=[]},r.Table.prototype.addRow=function(t){var e=t||new r.TableRow;if("undefined"==typeof e.arr||"undefined"==typeof e.obj)throw"invalid TableRow: "+e;return e.table=this,this.rows.push(e),e},r.Table.prototype.removeRow=function(t){this.rows[t].table=null;var e=this.rows.splice(t+1,this.rows.length);this.rows.pop(),this.rows=this.rows.concat(e)},r.Table.prototype.getRow=function(t){return this.rows[t]},r.Table.prototype.getRows=function(){return this.rows},r.Table.prototype.findRow=function(t,e){if("string"==typeof e){for(var r=0;r<this.rows.length;r++)if(this.rows[r].obj[e]===t)return this.rows[r]}else for(var o=0;o<this.rows.length;o++)if(this.rows[o].arr[e]===t)return this.rows[o];return null},r.Table.prototype.findRows=function(t,e){var r=[];if("string"==typeof e)for(var o=0;o<this.rows.length;o++)this.rows[o].obj[e]===t&&r.push(this.rows[o]);else for(var n=0;n<this.rows.length;n++)this.rows[n].arr[e]===t&&r.push(this.rows[n]);return r},r.Table.prototype.matchRow=function(t,e){if("number"==typeof e){for(var r=0;r<this.rows.length;r++)if(this.rows[r].arr[e].match(t))return this.rows[r]}else for(var o=0;o<this.rows.length;o++)if(this.rows[o].obj[e].match(t))return this.rows[o];return null},r.Table.prototype.matchRows=function(t,e){var r=[];if("number"==typeof e)for(var o=0;o<this.rows.length;o++)this.rows[o].arr[e].match(t)&&r.push(this.rows[o]);else for(var n=0;n<this.rows.length;n++)this.rows[n].obj[e].match(t)&&r.push(this.rows[n]);return r},r.Table.prototype.getColumn=function(t){var e=[];if("string"==typeof t)for(var r=0;r<this.rows.length;r++)e.push(this.rows[r].obj[t]);else for(var o=0;o<this.rows.length;o++)e.push(this.rows[o].arr[t]);return e},r.Table.prototype.clearRows=function(){delete this.rows,this.rows=[]},r.Table.prototype.addColumn=function(t){var e=t||null;this.columns.push(e)},r.Table.prototype.getColumnCount=function(){return this.columns.length},r.Table.prototype.getRowCount=function(){return this.rows.length},r.Table.prototype.removeTokens=function(t,e){for(var r=function(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},o=[],n=0;n<t.length;n++)o.push(r(t.charAt(n)));var i=new RegExp(o.join("|"),"g");if("undefined"==typeof e)for(var s=0;s<this.columns.length;s++)for(var a=0;a<this.rows.length;a++){var l=this.rows[a].arr[s];l=l.replace(i,""),this.rows[a].arr[s]=l,this.rows[a].obj[this.columns[s]]=l}else if("string"==typeof e)for(var p=0;p<this.rows.length;p++){var u=this.rows[p].obj[e];u=u.replace(i,""),this.rows[p].obj[e]=u;var h=this.columns.indexOf(e);this.rows[p].arr[h]=u}else for(var c=0;c<this.rows.length;c++){var d=this.rows[c].arr[e];d=d.replace(i,""),this.rows[c].arr[e]=d,this.rows[c].obj[this.columns[e]]=d}},r.Table.prototype.trim=function(t){var e=new RegExp(" ","g");if("undefined"==typeof t)for(var r=0;r<this.columns.length;r++)for(var o=0;o<this.rows.length;o++){
var n=this.rows[o].arr[r];n=n.replace(e,""),this.rows[o].arr[r]=n,this.rows[o].obj[this.columns[r]]=n}else if("string"==typeof t)for(var i=0;i<this.rows.length;i++){var s=this.rows[i].obj[t];s=s.replace(e,""),this.rows[i].obj[t]=s;var a=this.columns.indexOf(t);this.rows[i].arr[a]=s}else for(var l=0;l<this.rows.length;l++){var p=this.rows[l].arr[t];p=p.replace(e,""),this.rows[l].arr[t]=p,this.rows[l].obj[this.columns[t]]=p}},r.Table.prototype.removeColumn=function(t){var e,r;"string"==typeof t?(e=t,r=this.columns.indexOf(t),console.log("string")):(r=t,e=this.columns[t]);var o=this.columns.splice(r+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(o);for(var n=0;n<this.rows.length;n++){var i=this.rows[n].arr,s=i.splice(r+1,i.length);i.pop(),this.rows[n].arr=i.concat(s),delete this.rows[n].obj[e]}},r.Table.prototype.set=function(t,e,r){this.rows[t].set(e,r)},r.Table.prototype.setNum=function(t,e,r){this.rows[t].set(e,r)},r.Table.prototype.setString=function(t,e,r){this.rows[t].set(e,r)},r.Table.prototype.get=function(t,e){return this.rows[t].get(e)},r.Table.prototype.getNum=function(t,e){return this.rows[t].getNum(e)},r.Table.prototype.getString=function(t,e){return this.rows[t].getString(e)},r.Table}({},amdclean.core),amdclean.colorcreating_reading=function(t,e){"use strict";var r=e;return r.prototype.alpha=function(t){if(t instanceof r.Color||t instanceof Array)return this.color(t).getAlpha();throw new Error("Needs p5.Color or pixel array as argument.")},r.prototype.blue=function(t){if(t instanceof r.Color||t instanceof Array)return this.color(t).getBlue();throw new Error("Needs p5.Color or pixel array as argument.")},r.prototype.brightness=function(t){if(!t instanceof r.Color)throw new Error("Needs p5.Color as argument.");return t.getBrightness()},r.prototype.color=function(){if(arguments[0]instanceof r.Color)return arguments[0];if(arguments[0]instanceof Array)return new r.Color(this,arguments[0]);var t=Array.prototype.slice.call(arguments);return new r.Color(this,t)},r.prototype.green=function(t){if(t instanceof r.Color||t instanceof Array)return this.color(t).getGreen();throw new Error("Needs p5.Color or pixel array as argument.")},r.prototype.hue=function(t){if(!t instanceof r.Color)throw new Error("Needs p5.Color as argument.");return t.getHue()},r.prototype.lerpColor=function(t,e,o){if(t instanceof Array){for(var n=[],i=0;i<t.length;i++)n.push(r.prototype.lerp(t[i],e[i],o));return n}if(t instanceof r.Color){for(var s=[],a=0;4>a;a++)s.push(r.prototype.lerp(t.rgba[a],e.rgba[a],o));return new r.Color(this,s)}return r.prototype.lerp(t,e,o)},r.prototype.red=function(t){if(t instanceof r.Color||t instanceof Array)return this.color(t).getRed();throw new Error("Needs p5.Color or pixel array as argument.")},r.prototype.saturation=function(t){if(!t instanceof r.Color)throw new Error("Needs p5.Color as argument.");return t.getSaturation()},r}({},amdclean.core,amdclean.p5Color),amdclean.colorsetting=function(t,e,r){"use strict";var o=e,r=r;return o.prototype._doStroke=!0,o.prototype._doFill=!0,o.prototype._colorMode=r.RGB,o.prototype._maxRGB=[255,255,255,255],o.prototype._maxHSB=[255,255,255,255],o.prototype.background=function(){if(this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pixelDensity,this._pixelDensity),arguments[0]instanceof o.Image)this.image(arguments[0],0,0,this.width,this.height);else{var t=this.drawingContext.fillStyle,e=this.color.apply(this,arguments),r=e.toString();this.drawingContext.fillStyle=r,this.drawingContext.fillRect(0,0,this.width,this.height),this.drawingContext.fillStyle=t}this.drawingContext.restore()},o.prototype.clear=function(){this.drawingContext.clearRect(0,0,this.width,this.height)},o.prototype.colorMode=function(){if(arguments[0]===r.RGB||arguments[0]===r.HSB){this._colorMode=arguments[0];var t=this._colorMode===r.RGB,e=t?this._maxRGB:this._maxHSB;2===arguments.length?(e[0]=arguments[1],e[1]=arguments[1],e[2]=arguments[1],e[3]=arguments[1]):arguments.length>2&&(e[0]=arguments[1],e[1]=arguments[2],e[2]=arguments[3]),5===arguments.length&&(e[3]=arguments[4])}},o.prototype.fill=function(){this._setProperty("_doFill",!0);var t=this.drawingContext,e=this.color.apply(this,arguments);t.fillStyle=e.toString()},o.prototype.noFill=function(){this._setProperty("_doFill",!1)},o.prototype.noStroke=function(){this._setProperty("_doStroke",!1)},o.prototype.stroke=function(){this._setProperty("_doStroke",!0);var t=this.drawingContext,e=this.color.apply(this,arguments);t.strokeStyle=e.toString()},o}({},amdclean.core,amdclean.constants,amdclean.p5Color),amdclean.dataconversion=function(t,e){"use strict";var r=e;return r.prototype["float"]=function(t){return parseFloat(t)},r.prototype["int"]=function(t,e){return"string"==typeof t?(e=e||10,parseInt(t,e)):"number"==typeof t?0|t:"boolean"==typeof t?t?1:0:t instanceof Array?t.map(r.prototype["int"]):void 0},r}({},amdclean.core),amdclean.dataarray_functions=function(t,e){"use strict";var r=e;return r.prototype.append=function(t,e){return t.push(e),t},r.prototype.arrayCopy=function(t,e,r,o,n){var i,s;"undefined"!=typeof n?(s=Math.min(n,t.length),i=o,t=t.slice(e,s+e)):("undefined"!=typeof r?(s=r,s=Math.min(s,t.length)):s=t.length,i=0,r=e,t=t.slice(0,s)),Array.prototype.splice.apply(r,[i,s].concat(t))},r.prototype.concat=function(t,e){return t.concat(e)},r.prototype.reverse=function(t){return t.reverse()},r.prototype.shorten=function(t){return t.pop(),t},r.prototype.shuffle=function(t,e){t=e||ArrayBuffer.isView(t)?t:t.slice();for(var r,o,n=t.length;n>1;)r=Math.random()*n|0,o=t[--n],t[n]=t[r],t[r]=o;return t},r.prototype.sort=function(t,e){var r=e?t.slice(0,Math.min(e,t.length)):t,o=e?t.slice(Math.min(e,t.length)):[];return r="string"==typeof r[0]?r.sort():r.sort(function(t,e){return t-e}),r.concat(o)},r.prototype.splice=function(t,e,r){return Array.prototype.splice.apply(t,[r,0].concat(e)),t},r.prototype.subset=function(t,e,r){return"undefined"!=typeof r?t.slice(e,e+r):t.slice(e,t.length)},r}({},amdclean.core),amdclean.datastring_functions=function(t,e){"use strict";function r(){var t=arguments[0],e=0>t,r=e?t.toString().substring(1):t.toString(),o=r.indexOf("."),n=-1!==o?r.substring(0,o):r,i=-1!==o?r.substring(o+1):"",s=e?"-":"";if(3===arguments.length){for(var a=0;a<arguments[1]-n.length;a++)s+="0";s+=n,s+=".",s+=i;for(var l=0;l<arguments[2]-i.length;l++)s+="0";return s}for(var p=0;p<Math.max(arguments[1]-n.length,0);p++)s+="0";return s+=r}function o(){var t=arguments[0].toString(),e=t.indexOf("."),r=-1!==e?t.substring(e):"",o=-1!==e?t.substring(0,e):t;return o=o.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),0===arguments[1]&&(r=""),arguments.length>1&&(r=r.substring(0,arguments[1]+1)),o+r}function n(){return parseFloat(arguments[0])>0?"+"+arguments[0].toString():arguments[0].toString()}function i(){return parseFloat(arguments[0])>0?" "+arguments[0].toString():arguments[0].toString()}var s=e;return s.prototype.join=function(t,e){return t.join(e)},s.prototype.match=function(t,e){return t.match(e)},s.prototype.matchAll=function(t,e){for(var r=new RegExp(e,"g"),o=r.exec(t),n=[];null!==o;)n.push(o),o=r.exec(t);return n},s.prototype.nf=function(){if(arguments[0]instanceof Array){var t=arguments[1],e=arguments[2];return arguments[0].map(function(o){return r(o,t,e)})}return r.apply(this,arguments)},s.prototype.nfc=function(){if(arguments[0]instanceof Array){var t=arguments[1];return arguments[0].map(function(e){return o(e,t)})}return o.apply(this,arguments)},s.prototype.nfp=function(){var t=this.nf(arguments);return t instanceof Array?t.map(n):n(t)},s.prototype.nfs=function(){var t=this.nf(arguments);return t instanceof Array?t.map(i):i(t)},s.prototype.split=function(t,e){return t.split(e)},s.prototype.splitTokens=function(){var t=arguments.length>0?arguments[1]:/\s/g;return arguments[0].split(t).filter(function(t){return t})},s.prototype.trim=function(t){return t instanceof Array?t.map(this.trim):t.trim()},s}({},amdclean.core),amdclean.environment=function(t,e,r){"use strict";function o(t){var e=document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled;if(!e)throw new Error("Fullscreen not enabled in this browser.");t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()}function n(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()}var i=e,s=r,a=[s.ARROW,s.CROSS,s.HAND,s.MOVE,s.TEXT,s.WAIT];return i.prototype._frameRate=0,i.prototype._lastFrameTime=(new Date).getTime(),i.prototype._targetFrameRate=60,i.prototype.frameCount=0,i.prototype.focused=!0,i.prototype.cursor=function(t,e,r){var o="auto",n=this._curElement.elt;if(a.indexOf(t)>-1)o=t;else if("string"==typeof t){var i="";e&&r&&"number"==typeof e&&"number"==typeof r&&(i=e+" "+r),o="http://"!==t.substring(0,6)?"url("+t+") "+i+", auto":/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(t)?"url("+t+") "+i+", auto":t}n.style.cursor=o},i.prototype.frameRate=function(t){return"undefined"==typeof t?this._frameRate:(this._setProperty("_targetFrameRate",t),this._runFrames(),this)},i.prototype.getFrameRate=function(){return this.frameRate()},i.prototype.setFrameRate=function(t){return this.frameRate(t)},i.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},i.prototype.displayWidth=screen.width,i.prototype.displayHeight=screen.height,i.prototype.windowWidth=window.innerWidth,i.prototype.windowHeight=window.innerHeight,i.prototype._onresize=function(t){this._setProperty("windowWidth",window.innerWidth),this._setProperty("windowHeight",window.innerHeight);var e,r=this._isGlobal?window:this;"function"==typeof r.windowResized&&(e=r.windowResized(t),void 0===e||e||t.preventDefault())},i.prototype.width=0,i.prototype.height=0,i.prototype.fullscreen=function(t){return"undefined"==typeof t?document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement:void(t?o(document.documentElement):n())},i.prototype.devicePixelScaling=function(t){this._pixelDensity=t?"number"==typeof t?t:window.devicePixelRatio||1:1,this.resizeCanvas(this.width,this.height,!0)},i.prototype.getURL=function(){return location.href},i.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(t){return""!==t})},i.prototype.getURLParams=function(){for(var t,e=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,r={};null!=(t=e.exec(location.search));)t.index===e.lastIndex&&e.lastIndex++,r[t[1]]=t[2];return r},i}({},amdclean.core,amdclean.constants),amdclean.imageimage=function(t,e,r){"use strict";var o=e,r=r;return o.prototype._imageMode=r.CORNER,o.prototype._tint=null,o.prototype.createImage=function(t,e){return new o.Image(t,e)},o}({},amdclean.core,amdclean.constants),amdclean.canvas=function(t,e){var e=e;return{modeAdjust:function(t,r,o,n,i){return i===e.CORNER?{x:t,y:r,w:o,h:n}:i===e.CORNERS?{x:t,y:r,w:o-t,h:n-r}:i===e.RADIUS?{x:t-o,y:r-n,w:2*o,h:2*n}:i===e.CENTER?{x:t-.5*o,y:r-.5*n,w:o,h:n}:void 0},arcModeAdjust:function(t,r,o,n,i){return i===e.CORNER?{x:t+.5*o,y:r+.5*n,w:o,h:n}:i===e.CORNERS?{x:t,y:r,w:o+t,h:n+r}:i===e.RADIUS?{x:t,y:r,w:2*o,h:2*n}:i===e.CENTER?{x:t,y:r,w:o,h:n}:void 0}}}({},amdclean.constants),amdclean.imageloading_displaying=function(t,e,r,o,n){"use strict";var i=e,s=r,o=o,n=n;return i.prototype.loadImage=function(t,e,r){var o=new Image,n=new i.Image(1,1,this);return o.onload=function(){n.width=n.canvas.width=o.width,n.height=n.canvas.height=o.height,n.canvas.getContext("2d").drawImage(o,0,0),"function"==typeof e&&e(n)},o.onerror=function(t){"function"==typeof r&&r(t)},0!==t.indexOf("data:image/")&&(o.crossOrigin="Anonymous"),o.src=t,n},i.prototype.image=function(t,e,r,n,i){var s=t.canvas||t.elt;e=e||0,r=r||0,n=n||t.width,i=i||t.height;var a=o.modeAdjust(e,r,n,i,this._imageMode);try{this._tint&&t.canvas?this.drawingContext.drawImage(this._getTintedImageCanvas(t),a.x,a.y,a.w,a.h):this.drawingContext.drawImage(s,a.x,a.y,a.w,a.h)}catch(l){if("NS_ERROR_NOT_AVAILABLE"!==l.name)throw l}},i.prototype.tint=function(){var t=this.color.apply(this,arguments);this._tint=t.rgba},i.prototype.noTint=function(){this._tint=null},i.prototype._getTintedImageCanvas=function(t){if(!t.canvas)return t;var e=s._toPixels(t.canvas),r=document.createElement("canvas");r.width=t.canvas.width,r.height=t.canvas.height;for(var o=r.getContext("2d"),n=o.createImageData(t.canvas.width,t.canvas.height),i=n.data,a=0;a<e.length;a+=4){var l=e[a],p=e[a+1],u=e[a+2],h=e[a+3];i[a]=l*this._tint[0]/255,i[a+1]=p*this._tint[1]/255,i[a+2]=u*this._tint[2]/255,i[a+3]=h*this._tint[3]/255}return o.putImageData(n,0,0),r},i.prototype.imageMode=function(t){(t===n.CORNER||t===n.CORNERS||t===n.CENTER)&&(this._imageMode=t)},i}({},amdclean.core,amdclean.filters,amdclean.canvas,amdclean.constants),amdclean.imagepixels=function(t,e,r){"use strict";var o=e,n=r;return o.prototype.pixels=[],o.prototype.blend=function(){var t=this.drawingContext.globalCompositeOperation,e=arguments[arguments.length-1],r=Array.prototype.slice.call(arguments,0,arguments.length-1);this.drawingContext.globalCompositeOperation=e,this.copy.apply(this,r),this.drawingContext.globalCompositeOperation=t},o.prototype.copy=function(){var t,e,r,o,n,i,s,a,l;if(9===arguments.length)t=arguments[0],e=arguments[1],r=arguments[2],o=arguments[3],n=arguments[4],i=arguments[5],s=arguments[6],a=arguments[7],l=arguments[8];else{if(8!==arguments.length)throw new Error("Signature not supported");e=arguments[0],r=arguments[1],o=arguments[2],n=arguments[3],i=arguments[4],s=arguments[5],a=arguments[6],l=arguments[7],t=this}var p=t.canvas.width/t.width;this.drawingContext.drawImage(t.canvas,p*e,p*r,p*o,p*n,i,s,a,l)},o.prototype.filter=function(t,e){n.apply(this.canvas,n[t.toLowerCase()],e)},o.prototype.get=function(t,e,r,n){if(void 0===t&&void 0===e&&void 0===r&&void 0===n?(t=0,e=0,r=this.width,n=this.height):void 0===r&&void 0===n&&(r=1,n=1),t>this.width||e>this.height||0>t||0>e)return[0,0,0,255];var i=this.drawingContext.getImageData(t,e,r,n),s=i.data;if(1===r&&1===n){for(var a=[],l=0;l<s.length;l+=4)a.push(s[l],s[l+1],s[l+2],s[l+3]);return a}r=Math.min(r,this.width),n=Math.min(n,this.height);var p=new o.Image(r,n);return p.canvas.getContext("2d").putImageData(i,0,0,0,0,r,n),p},o.prototype.loadPixels=function(){var t=this.width,e=this.height,r=this.drawingContext.getImageData(0,0,t,e);this._setProperty("imageData",r),this._setProperty("pixels",r.data)},o.prototype.set=function(t,e,r){if(r instanceof o.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pixelDensity,this._pixelDensity),this.drawingContext.drawImage(r.canvas,t,e),this.loadPixels.call(this),this.drawingContext.restore();else{var n=4*(e*this.width+t);if(this.imageData||this.loadPixels.call(this),"number"==typeof r)n<this.pixels.length&&(this.pixels[n]=r,this.pixels[n+1]=r,this.pixels[n+2]=r,this.pixels[n+3]=255);else if(r instanceof Array){if(r.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");n<this.pixels.length&&(this.pixels[n]=r[0],this.pixels[n+1]=r[1],this.pixels[n+2]=r[2],this.pixels[n+3]=r[3])}else r instanceof o.Color&&n<this.pixels.length&&(this.pixels[n]=r.rgba[0],this.pixels[n+1]=r.rgba[1],this.pixels[n+2]=r.rgba[2],this.pixels[n+3]=r.rgba[3])}},o.prototype.updatePixels=function(t,e,r,o){void 0===t&&void 0===e&&void 0===r&&void 0===o&&(t=0,e=0,r=this.width,o=this.height),this.drawingContext.putImageData(this.imageData,t,e,0,0,r,o)},o}({},amdclean.core,amdclean.filters,amdclean.p5Color),!function(t,e,r){"undefined"!=typeof module&&module.exports?module.exports=r():"function"==typeof define&&define.amd?define("reqwest",r):e[t]=r()}("reqwest",amdclean,function(){function succeed(t){var e=protocolRe.exec(t.url);return e=e&&e[1]||window.location.protocol,httpsRe.test(e)?twoHundo.test(t.request.status):!!t.request.response}function handleReadyState(t,e,r){return function(){return t._aborted?r(t.request):t._timedOut?r(t.request,"Request is aborted: timeout"):void(t.request&&4==t.request[readyState]&&(t.request.onreadystatechange=noop,succeed(t)?e(t.request):r(t.request)))}}function setHeaders(t,e){var r,o=e.headers||{};o.Accept=o.Accept||defaultHeaders.accept[e.type]||defaultHeaders.accept["*"];var n="function"==typeof FormData&&e.data instanceof FormData;e.crossOrigin||o[requestedWith]||(o[requestedWith]=defaultHeaders.requestedWith),o[contentType]||n||(o[contentType]=e.contentType||defaultHeaders.contentType);for(r in o)o.hasOwnProperty(r)&&"setRequestHeader"in t&&t.setRequestHeader(r,o[r])}function setCredentials(t,e){"undefined"!=typeof e.withCredentials&&"undefined"!=typeof t.withCredentials&&(t.withCredentials=!!e.withCredentials)}function generalCallback(t){lastValue=t}function urlappend(t,e){return t+(/\?/.test(t)?"&":"?")+e}function handleJsonp(t,e,r,o){var n=uniqid++,i=t.jsonpCallback||"callback",s=t.jsonpCallbackName||reqwest.getcallbackPrefix(n),a=new RegExp("((^|\\?|&)"+i+")=([^&]+)"),l=o.match(a),p=doc.createElement("script"),u=0,h=-1!==navigator.userAgent.indexOf("MSIE 10.0");return l?"?"===l[3]?o=o.replace(a,"$1="+s):s=l[3]:o=urlappend(o,i+"="+s),win[s]=generalCallback,p.type="text/javascript",p.src=o,p.async=!0,"undefined"==typeof p.onreadystatechange||h||(p.htmlFor=p.id="_reqwest_"+n),p.onload=p.onreadystatechange=function(){return p[readyState]&&"complete"!==p[readyState]&&"loaded"!==p[readyState]||u?!1:(p.onload=p.onreadystatechange=null,p.onclick&&p.onclick(),e(lastValue),lastValue=void 0,head.removeChild(p),void(u=1))},head.appendChild(p),{abort:function(){p.onload=p.onreadystatechange=null,r({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(p),u=1}}}function getRequest(t,e){var r,o=this.o,n=(o.method||"GET").toUpperCase(),i="string"==typeof o?o:o.url,s=o.processData!==!1&&o.data&&"string"!=typeof o.data?reqwest.toQueryString(o.data):o.data||null,a=!1;return"jsonp"!=o.type&&"GET"!=n||!s||(i=urlappend(i,s),s=null),"jsonp"==o.type?handleJsonp(o,t,e,i):(r=o.xhr&&o.xhr(o)||xhr(o),r.open(n,i,o.async===!1?!1:!0),setHeaders(r,o),setCredentials(r,o),win[xDomainRequest]&&r instanceof win[xDomainRequest]?(r.onload=t,r.onerror=e,r.onprogress=function(){},a=!0):r.onreadystatechange=handleReadyState(this,t,e),o.before&&o.before(r),a?setTimeout(function(){r.send(s)},200):r.send(s),r)}function Reqwest(t,e){this.o=t,this.fn=e,init.apply(this,arguments)}function setType(t){return t.match("json")?"json":t.match("javascript")?"js":t.match("text")?"html":t.match("xml")?"xml":void 0}function init(o,fn){function complete(t){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(t)}function success(resp){var type=o.type||resp&&setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=win.JSON?win.JSON.parse(r):eval("("+r+")")}catch(err){return error(resp,"Could not parse JSON in response",err)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(t,e,r){for(t=self.request,self._responseArgs.resp=t,self._responseArgs.msg=e,self._responseArgs.t=r,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(t,e,r);complete(t)}this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){timedOut()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(t,e){return new Reqwest(t,e)}function normalize(t){return t?t.replace(/\r?\n/g,"\r\n"):""}function serial(t,e){var r,o,n,i,s=t.name,a=t.tagName.toLowerCase(),l=function(t){t&&!t.disabled&&e(s,normalize(t.attributes.value&&t.attributes.value.specified?t.value:t.text))};if(!t.disabled&&s)switch(a){case"input":/reset|button|image|file/i.test(t.type)||(r=/checkbox/i.test(t.type),o=/radio/i.test(t.type),n=t.value,(!(r||o)||t.checked)&&e(s,normalize(r&&""===n?"on":n)));break;case"textarea":e(s,normalize(t.value));break;case"select":if("select-one"===t.type.toLowerCase())l(t.selectedIndex>=0?t.options[t.selectedIndex]:null);else for(i=0;t.length&&i<t.length;i++)t.options[i].selected&&l(t.options[i])}}function eachFormElement(){var t,e,r=this,o=function(t,e){var o,n,i;for(o=0;o<e.length;o++)for(i=t[byTag](e[o]),n=0;n<i.length;n++)serial(i[n],r)};for(e=0;e<arguments.length;e++)t=arguments[e],/input|select|textarea/i.test(t.tagName)&&serial(t,r),o(t,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var t={};return eachFormElement.apply(function(e,r){e in t?(t[e]&&!isArray(t[e])&&(t[e]=[t[e]]),t[e].push(r)):t[e]=r},arguments),t}function buildParams(t,e,r,o){var n,i,s,a=/\[\]$/;if(isArray(e))for(i=0;e&&i<e.length;i++)s=e[i],r||a.test(t)?o(t,s):buildParams(t+"["+("object"==typeof s?i:"")+"]",s,r,o);else if(e&&"[object Object]"===e.toString())for(n in e)buildParams(t+"["+n+"]",e[n],r,o);else o(t,e)}var win=window,doc=document,httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,byTag="getElementsByTagName",readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",head=doc[byTag]("head")[0],uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(t){return t instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(t){if(t.crossOrigin===!0){var e=win[xmlHttpRequest]?new XMLHttpRequest:null;if(e&&"withCredentials"in e)return e;if(win[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return win[xmlHttpRequest]?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(t){return t}};return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(t,e){return t=t||function(){},e=e||function(){},this._fulfilled?this._responseArgs.resp=t(this._responseArgs.resp):this._erred?e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(t),this._errorHandlers.push(e)),this},always:function(t){return this._fulfilled||this._erred?t(this._responseArgs.resp):this._completeHandlers.push(t),this},fail:function(t){return this._erred?t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(t),this},"catch":function(t){return this.fail(t)}},reqwest.serializeArray=function(){var t=[];return eachFormElement.apply(function(e,r){t.push({name:e,value:r})},arguments),t},reqwest.serialize=function(){if(0===arguments.length)return"";var t,e,r=Array.prototype.slice.call(arguments,0);return t=r.pop(),t&&t.nodeType&&r.push(t)&&(t=null),t&&(t=t.type),e="map"==t?serializeHash:"array"==t?reqwest.serializeArray:serializeQueryString,e.apply(null,r)},reqwest.toQueryString=function(t,e){var r,o,n=e||!1,i=[],s=encodeURIComponent,a=function(t,e){e="function"==typeof e?e():null==e?"":e,i[i.length]=s(t)+"="+s(e)};if(isArray(t))for(o=0;t&&o<t.length;o++)a(t[o].name,t[o].value);else for(r in t)t.hasOwnProperty(r)&&buildParams(r,t[r],n,a);return i.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(t,e){return t&&(t.type&&(t.method=t.type)&&delete t.type,t.dataType&&(t.type=t.dataType),t.jsonpCallback&&(t.jsonpCallbackName=t.jsonpCallback)&&delete t.jsonpCallback,t.jsonp&&(t.jsonpCallback=t.jsonp)),new Reqwest(t,e)},reqwest.ajaxSetup=function(t){t=t||{};for(var e in t)globalSetupOptions[e]=t[e]},reqwest}),amdclean.inputfiles=function(t,e,r){"use strict";function o(t,e){var r={};if(e=e||[],"undefined"==typeof e)for(var o=0;o<t.length;o++)e[o.toString()]=o;for(var n=0;n<e.length;n++){var i=e[n],s=t[n];r[i]=s}return r}var n=e,r=r;return n.prototype.createInput=function(){throw"not yet implemented"},n.prototype.createReader=function(){throw"not yet implemented"},n.prototype.loadBytes=function(){throw"not yet implemented"},n.prototype.loadJSON=function(){var t=arguments[0],e=arguments[1],o=[],n="json";return"string"==typeof arguments[2]&&("jsonp"===arguments[2]||"json"===arguments[2])&&(n=arguments[2]),r({url:t,type:n,crossOrigin:!0}).then(function(t){for(var r in t)o[r]=t[r];"undefined"!=typeof e&&e(t)}),o},n.prototype.loadStrings=function(t,e){var r=[],o=new XMLHttpRequest;return o.open("GET",t,!0),o.onreadystatechange=function(){if(4===o.readyState&&(200===o.status||0===o.status)){var t=o.responseText.match(/[^\r\n]+/g);for(var n in t)r[n]=t[n];"undefined"!=typeof e&&e(r)}},o.send(null),r},n.prototype.loadTable=function(t){for(var e=null,i=[],s=!1,a=",",l=!1,p=1;p<arguments.length;p++)if("function"==typeof arguments[p])e=arguments[p];else if("string"==typeof arguments[p])if(i.push(arguments[p]),"header"===arguments[p]&&(s=!0),"csv"===arguments[p]){if(l)throw new Error("Cannot set multiple separator types.");a=",",l=!0}else if("tsv"===arguments[p]){if(l)throw new Error("Cannot set multiple separator types.");a="	",l=!0}var u=new n.Table;return r({url:t,crossOrigin:!0,type:"csv"}).then(function(t){t=t.responseText;for(var r,i={},l=0,h=1,c=2,d=4,f='"',m="\r",y="\n",g=[],w=0,v=null,_=function(){i.escaped=!1,v=[],b()},x=function(){i.currentState=d,g.push(v),v=null},b=function(){i.currentState=l,i.token=""},C=function(){v.push(i.token),b()};;){if(r=t[w++],null==r){if(i.escaped)throw new Error("Unclosed quote in file.");if(v){C(),x();break}}if(null===v&&_(),i.currentState===l){if(r===f){i.escaped=!0,i.currentState=h;continue}i.currentState=h}i.currentState===h&&i.escaped?r===f?t[w]===f?(i.token+=f,w++):(i.escaped=!1,i.currentState=c):i.token+=r:r===m?(t[w]===y&&w++,C(),x()):r===y?(C(),x()):r===a?C():i.currentState===h&&(i.token+=r)}if(s)u.columns=g.shift();else for(p=0;p<g.length;p++)u.columns[p]=p.toString();var T;for(p=0;p<g.length;p++)T=new n.TableRow,T.arr=g[p],T.obj=o(g[p],u.columns),u.addRow(T);null!==e&&e(u)}).fail(function(){"undefined"!=typeof e&&e(!1)}),u},n.prototype.loadXML=function(t,e){var o=[];return r({url:t,type:"xml",crossOrigin:!0}).then(function(t){e(t)}),o},n.prototype.parseXML=function(){throw"not yet implemented"},n.prototype.selectFolder=function(){throw"not yet implemented"},n.prototype.selectInput=function(){throw"not yet implemented"},n.prototype.httpGet=function(){var t=Array.prototype.slice.call(arguments);t.push("GET"),n.prototype.httpDo.apply(this,t)},n.prototype.httpPost=function(){var t=Array.prototype.slice.call(arguments);t.push("POST"),n.prototype.httpDo.apply(this,t)},n.prototype.httpDo=function(){for(var t,e="GET",o=arguments[0],n={},i="",s=1;s<arguments.length;s++){var a=arguments[s];"string"==typeof a?"GET"===a||"POST"===a||"PUT"===a?e=a:i=a:"object"==typeof a?n=a:"function"==typeof a&&(t=a)}""===i&&(i=-1!==o.indexOf("json")?"json":-1!==o.indexOf("xml")?"xml":"text"),r({url:o,method:e,data:n,type:i,crossOrigin:!0,success:function(e){"undefined"!=typeof t&&t("text"===i?e.response:e)}})},n}({},amdclean.core,amdclean.reqwest),amdclean.inputkeyboard=function(t,e){"use strict";var r=e,o={};return r.prototype.isKeyPressed=!1,r.prototype.keyIsPressed=!1,r.prototype.key="",r.prototype.keyCode=0,r.prototype._onkeydown=function(t){this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",t.which),o[t.which]=!0;var e=String.fromCharCode(t.which);e||(e=t.which),this._setProperty("key",e);var r=this.keyPressed||window.keyPressed;if("function"==typeof r&&!t.charCode){var n=r(t);n===!1&&t.preventDefault()}},r.prototype._onkeyup=function(t){var e=this.keyReleased||window.keyReleased;this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1),o[t.which]=!1;var r=String.fromCharCode(t.which);if(r||(r=t.which),this._setProperty("key",r),this._setProperty("keyCode",t.which),"function"==typeof e){var n=e(t);n===!1&&t.preventDefault()}},r.prototype._onkeypress=function(t){this._setProperty("keyCode",t.which),this._setProperty("key",String.fromCharCode(t.which));var e=this.keyTyped||window.keyTyped;if("function"==typeof e){var r=e(t);r===!1&&t.preventDefault()}},r.prototype._onblur=function(){o={}},r.prototype.keyIsDown=function(t){return o[t]},r}({},amdclean.core),amdclean.inputacceleration=function(t,e){"use strict";var r=e;r.prototype.deviceOrientation=void 0,r.prototype.accelerationX=0,r.prototype.accelerationY=0,r.prototype.accelerationZ=0,r.prototype.pAccelerationX=0,r.prototype.pAccelerationY=0,r.prototype.pAccelerationZ=0,r.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)};var o=.5;r.prototype.setMoveThreshold=function(t){"number"==typeof t&&(o=t)};var n="",i="";return r.prototype._ondeviceorientation=function(t){this._setProperty("accelerationX",t.beta),this._setProperty("accelerationY",t.gamma),this._setProperty("accelerationZ",t.alpha),this._handleMotion()},r.prototype._ondevicemotion=function(t){this._setProperty("accelerationX",2*t.acceleration.x),this._setProperty("accelerationY",2*t.acceleration.y),this._setProperty("accelerationZ",2*t.acceleration.z),this._handleMotion()},r.prototype._onMozOrientation=function(t){this._setProperty("accelerationX",t.x),this._setProperty("accelerationY",t.y),this._setProperty("accelerationZ",t.z),this._handleMotion()},r.prototype._handleMotion=function(){90===window.orientation||-90===window.orientation?this._setProperty("deviceOrientation","landscape"):0===window.orientation?this._setProperty("deviceOrientation","portrait"):void 0===window.orientation&&this._setProperty("deviceOrientation","undefined");var t=this.onDeviceMove||window.onDeviceMove;"function"==typeof t&&(Math.abs(this.accelerationX-this.pAccelerationX)>o||Math.abs(this.accelerationY-this.pAccelerationY)>o||Math.abs(this.accelerationZ-this.pAccelerationZ)>o)&&t();var e=this.onDeviceTurn||window.onDeviceTurn;if("function"==typeof e){var r=0;Math.abs(this.accelerationX)>r&&(r=this.accelerationX,i="x"),Math.abs(this.accelerationY)>r&&(r=this.accelerationY,i="y"),Math.abs(this.accelerationZ)>r&&(i="z"),""!==n&&n!==i&&e(i),n=i}},r}({},amdclean.core),amdclean.inputmouse=function(t,e,r){"use strict";function o(t,e){var r=t.getBoundingClientRect();return{x:e.clientX-r.left,y:e.clientY-r.top}}var n=e,r=r;return n.prototype.mouseX=0,n.prototype.mouseY=0,
n.prototype.pmouseX=0,n.prototype.pmouseY=0,n.prototype.winMouseX=0,n.prototype.winMouseY=0,n.prototype.pwinMouseX=0,n.prototype.pwinMouseY=0,n.prototype.mouseButton=0,n.prototype.mouseIsPressed=!1,n.prototype.isMousePressed=!1,n.prototype._updateMouseCoords=function(t){if("touchstart"===t.type||"touchmove"===t.type||"touchend"===t.type)this._setProperty("mouseX",this.touchX),this._setProperty("mouseY",this.touchY);else if(null!==this._curElement){var e=o(this._curElement.elt,t);this._setProperty("mouseX",e.x),this._setProperty("mouseY",e.y)}this._setProperty("winMouseX",t.pageX),this._setProperty("winMouseY",t.pageY)},n.prototype._updatePMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY)},n.prototype._setMouseButton=function(t){1===t.button?this._setProperty("mouseButton",r.CENTER):2===t.button?this._setProperty("mouseButton",r.RIGHT):(this._setProperty("mouseButton",r.LEFT),("touchstart"===t.type||"touchmove"===t.type)&&(this._setProperty("mouseX",this.touchX),this._setProperty("mouseY",this.touchY)))},n.prototype._onmousemove=function(t){var e,r=this._isGlobal?window:this;this._updateMouseCoords(t),this.isMousePressed?"function"==typeof r.mouseDragged?(e=r.mouseDragged(t),e===!1&&t.preventDefault()):"function"==typeof r.touchMoved&&(e=r.touchMoved(t),e===!1&&t.preventDefault(),this._updateTouchCoords(t)):"function"==typeof r.mouseMoved&&(e=r.mouseMoved(t),e===!1&&t.preventDefault())},n.prototype._onmousedown=function(t){var e,r=this._isGlobal?window:this;this._setProperty("isMousePressed",!0),this._setProperty("mouseIsPressed",!0),this._setMouseButton(t),this._updateMouseCoords(t),"function"==typeof r.mousePressed?(e=r.mousePressed(t),e===!1&&t.preventDefault()):"function"==typeof r.touchStarted&&(e=r.touchStarted(t),e===!1&&t.preventDefault(),this._updateTouchCoords(t))},n.prototype._onmouseup=function(t){var e,r=this._isGlobal?window:this;this._setProperty("isMousePressed",!1),this._setProperty("mouseIsPressed",!1),"function"==typeof r.mouseReleased?(e=r.mouseReleased(t),e===!1&&t.preventDefault()):"function"==typeof r.touchEnded&&(e=r.touchEnded(t),e===!1&&t.preventDefault(),this._updateTouchCoords(t))},n.prototype._onclick=function(t){var e=this._isGlobal?window:this;if("function"==typeof e.mouseClicked){var r=e.mouseClicked(t);r===!1&&t.preventDefault()}},n.prototype._onmousewheel=n.prototype._onDOMMouseScroll=function(t){var e=this._isGlobal?window:this;if("function"==typeof e.mouseWheel){var r=e.mouseWheel(t);r===!1&&t.preventDefault()}},n}({},amdclean.core,amdclean.constants),amdclean.inputtime_date=function(t,e){"use strict";var r=e;return r.prototype.day=function(){return(new Date).getDate()},r.prototype.hour=function(){return(new Date).getHours()},r.prototype.minute=function(){return(new Date).getMinutes()},r.prototype.millis=function(){return(new Date).getTime()-this._startTime},r.prototype.month=function(){return(new Date).getMonth()+1},r.prototype.second=function(){return(new Date).getSeconds()},r.prototype.year=function(){return(new Date).getFullYear()},r}({},amdclean.core),amdclean.inputtouch=function(t,e){"use strict";function r(t,e,r){r=r||0;var o=t.getBoundingClientRect();return{x:e.changedTouches[r].clientX-o.left,y:e.changedTouches[r].clientY-o.top}}var o=e;return o.prototype.touchX=0,o.prototype.touchY=0,o.prototype.ptouchX=0,o.prototype.ptouchY=0,o.prototype.touches=[],o.prototype.touchIsDown=!1,o.prototype._updateTouchCoords=function(t){if("mousedown"===t.type||"mousemove"===t.type||"mouseup"===t.type)this._setProperty("touchX",this.mouseX),this._setProperty("touchY",this.mouseY);else{var e=r(this._curElement.elt,t,0);this._setProperty("touchX",e.x),this._setProperty("touchY",e.y);for(var o=[],n=0;n<t.changedTouches.length;n++){var i=r(this._curElement.elt,t,n);o[n]={x:i.x,y:i.y}}this._setProperty("touches",o)}},o.prototype._updatePTouchCoords=function(){this._setProperty("ptouchX",this.touchX),this._setProperty("ptouchY",this.touchY)},o.prototype._ontouchstart=function(t){var e,r=this._isGlobal?window:this;this._updateTouchCoords(t),this._setProperty("touchIsDown",!0),"function"==typeof r.touchStarted?(e=r.touchStarted(t),e===!1&&t.preventDefault()):"function"==typeof r.mousePressed&&(e=r.mousePressed(t),e===!1&&t.preventDefault())},o.prototype._ontouchmove=function(t){var e,r=this._isGlobal?window:this;this._updateTouchCoords(t),"function"==typeof r.touchMoved?(e=r.touchMoved(t),e===!1&&t.preventDefault()):"function"==typeof r.mouseDragged&&(e=r.mouseDragged(t),e===!1&&t.preventDefault(),this._updateMouseCoords(t))},o.prototype._ontouchend=function(t){this._updateTouchCoords(t),0===this.touches.length&&this._setProperty("touchIsDown",!1);var e,r=this._isGlobal?window:this;"function"==typeof r.touchEnded?(e=r.touchEnded(t),e===!1&&t.preventDefault()):"function"==typeof r.mouseReleased&&(e=r.mouseReleased(t),e===!1&&t.preventDefault(),this._updateMouseCoords(t))},o}({},amdclean.core),amdclean.mathmath=function(t,e){"use strict";var r=e;return r.prototype.createVector=function(t,e,o){return this instanceof r?new r.Vector(this,arguments):new r.Vector(t,e,o)},r}({},amdclean.core),amdclean.mathcalculation=function(t,e){"use strict";var r=e;return r.prototype.abs=Math.abs,r.prototype.ceil=Math.ceil,r.prototype.constrain=function(t,e,r){return Math.max(Math.min(t,r),e)},r.prototype.dist=function(t,e,r,o){return Math.sqrt((r-t)*(r-t)+(o-e)*(o-e))},r.prototype.exp=Math.exp,r.prototype.floor=Math.floor,r.prototype.lerp=function(t,e,r){return r*(e-t)+t},r.prototype.log=Math.log,r.prototype.mag=function(t,e){return Math.sqrt(t*t+e*e)},r.prototype.map=function(t,e,r,o,n){return(t-e)/(r-e)*(n-o)+o},r.prototype.max=function(){return arguments[0]instanceof Array?Math.max.apply(null,arguments[0]):Math.max.apply(null,arguments)},r.prototype.min=function(){return arguments[0]instanceof Array?Math.min.apply(null,arguments[0]):Math.min.apply(null,arguments)},r.prototype.norm=function(t,e,r){return this.map(t,e,r,0,1)},r.prototype.pow=Math.pow,r.prototype.round=Math.round,r.prototype.sq=function(t){return t*t},r.prototype.sqrt=Math.sqrt,r}({},amdclean.core),amdclean.mathrandom=function(t,e){"use strict";var r=e,o=!1,n=function(){var t,e,r=4294967296,o=1664525,n=1013904223;return{setSeed:function(o){e=t=(null==o?Math.random()*r:o)>>>0},getSeed:function(){return t},rand:function(){return e=(o*e+n)%r,e/r}}}();r.prototype.randomSeed=function(t){n.setSeed(t),o=!0},r.prototype.random=function(t,e){var r;if(r=o?n.rand():Math.random(),0===arguments.length)return r;if(1===arguments.length)return r*t;if(t>e){var i=t;t=e,e=i}return r*(e-t)+t};var i,s=!1;return r.prototype.randomGaussian=function(t,e){var r,o,n,a;if(s)r=i,s=!1;else{do o=this.random(2)-1,n=this.random(2)-1,a=o*o+n*n;while(a>=1);a=Math.sqrt(-2*Math.log(a)/a),r=o*a,i=n*a,s=!0}var l=t||0,p=e||1;return r*p+l},r}({},amdclean.core),amdclean.mathnoise=function(t,e){"use strict";for(var r=e,o=4,n=1<<o,i=8,s=1<<i,a=4095,l=4,p=.5,u=.5,h=Math.floor(360/u),c=new Array(h),d=new Array(h),f=Math.PI/180,m=0;h>m;m++)c[m]=Math.sin(m*f*u),d[m]=Math.cos(m*f*u);var y=h;y>>=1;var g;return r.prototype.noise=function(t,e,r){if(e=e||0,r=r||0,null==g){g=new Array(a+1);for(var u=0;a+1>u;u++)g[u]=Math.random()}0>t&&(t=-t),0>e&&(e=-e),0>r&&(r=-r);for(var c,f,m,w,v,_=Math.floor(t),x=Math.floor(e),b=Math.floor(r),C=t-_,T=e-x,R=r-b,E=0,S=.5,M=function(t){return.5*(1-d[Math.floor(t*y)%h])},P=0;l>P;P++){var A=_+(x<<o)+(b<<i);c=M(C),f=M(T),m=g[A&a],m+=c*(g[A+1&a]-m),w=g[A+n&a],w+=c*(g[A+n+1&a]-w),m+=f*(w-m),A+=s,w=g[A&a],w+=c*(g[A+1&a]-w),v=g[A+n&a],v+=c*(g[A+n+1&a]-v),w+=f*(v-w),m+=M(R)*(w-m),E+=m*S,S*=p,_<<=1,C*=2,x<<=1,T*=2,b<<=1,R*=2,C>=1&&(_++,C--),T>=1&&(x++,T--),R>=1&&(b++,R--)}return E},r.prototype.noiseDetail=function(t,e){t>0&&(l=t),e>0&&(p=e)},r.prototype.noiseSeed=function(t){var e=function(){var t,e,r=4294967296,o=1664525,n=1013904223;return{setSeed:function(o){e=t=(null==o?Math.random()*r:o)>>>0},getSeed:function(){return t},rand:function(){return e=(o*e+n)%r,e/r}}}();e.setSeed(t),g=new Array(a+1);for(var r=0;a+1>r;r++)g[r]=e.rand()},r}({},amdclean.core),amdclean.mathtrigonometry=function(t,e,r,o){"use strict";var n=e,i=r,o=o;return n.prototype._angleMode=o.RADIANS,n.prototype.acos=function(t){return this._angleMode===o.RADIANS?Math.acos(t):i.radiansToDegrees(Math.acos(t))},n.prototype.asin=function(t){return this._angleMode===o.RADIANS?Math.asin(t):i.radiansToDegrees(Math.asin(t))},n.prototype.atan=function(t){return this._angleMode===o.RADIANS?Math.atan(t):i.radiansToDegrees(Math.atan(t))},n.prototype.atan2=function(t,e){return this._angleMode===o.RADIANS?Math.atan2(t,e):i.radiansToDegrees(Math.atan2(t,e))},n.prototype.cos=function(t){return Math.cos(this._angleMode===o.RADIANS?t:this.radians(t))},n.prototype.sin=function(t){return Math.sin(this._angleMode===o.RADIANS?t:this.radians(t))},n.prototype.tan=function(t){return Math.tan(this._angleMode===o.RADIANS?t:this.radians(t))},n.prototype.degrees=function(t){return i.radiansToDegrees(t)},n.prototype.radians=function(t){return i.degreesToRadians(t)},n.prototype.angleMode=function(t){(t===o.DEGREES||t===o.RADIANS)&&(this._angleMode=t)},n}({},amdclean.core,amdclean.polargeometry,amdclean.constants),amdclean.outputfiles=function(t,e){"use strict";function r(t,e){e&&e!==!0&&"true"!==e||(e=""),t||(t="untitled");var r="";return t&&t.indexOf(".")>-1&&(r=t.split(".").pop()),e&&r!==e&&(r=e,t=t+"."+r),[t,r]}function o(t){document.body.removeChild(t.target)}var n=e;window.URL=window.URL||window.webkitURL,n.prototype._pWriters=[],n.prototype.beginRaw=function(){throw"not yet implemented"},n.prototype.beginRecord=function(){throw"not yet implemented"},n.prototype.createOutput=function(){throw"not yet implemented"},n.prototype.createWriter=function(t,e){var r;for(var o in n.prototype._pWriters)if(n.prototype._pWriters[o].name===t)return r=new n.PrintWriter(t+window.millis(),e),n.prototype._pWriters.push(r),r;return r=new n.PrintWriter(t,e),n.prototype._pWriters.push(r),r},n.prototype.endRaw=function(){throw"not yet implemented"},n.prototype.endRecord=function(){throw"not yet implemented"},n.PrintWriter=function(t,e){var r=this;this.name=t,this.content="",this.print=function(t){this.content+=t},this.println=function(t){this.content+=t+"\n"},this.flush=function(){this.content=""},this.close=function(){var o=[];o.push(this.content),n.prototype.writeFile(o,t,e);for(var i in n.prototype._pWriters)n.prototype._pWriters[i].name===this.name&&n.prototype._pWriters.splice(i,1);r.flush(),r={}}},n.prototype.saveBytes=function(){throw"not yet implemented"},n.prototype.save=function(){var t=arguments,e=this._curElement.elt;if(0===t.length)return void n.prototype.saveCanvas(e);if(t[0]instanceof n.Graphics)return void n.prototype.saveCanvas(t[0].elt,t[1],t[2]);if(1===t.length&&"string"==typeof t[0])n.prototype.saveCanvas(e,t[0]);else{var o=r(t[1],t[2])[1];switch(o){case"json":return void n.prototype.saveJSON(t[0],t[1],t[2]);case"txt":return void n.prototype.saveStrings(t[0],t[1],t[2]);default:t[0]instanceof Array?n.prototype.saveStrings(t[0],t[1],t[2]):t[0]instanceof n.Table?n.prototype.saveTable(t[0],t[1],t[2],t[3]):t[0]instanceof n.Image?n.prototype.saveCanvas(t[0].canvas,t[1]):t[0]instanceof n.SoundFile&&n.prototype.saveSound(t[0],t[1],t[2],t[3])}}},n.prototype.saveJSON=function(t,e,r){var o;o=r?JSON.stringify(t):JSON.stringify(t,void 0,2),console.log(o),this.saveStrings(o.split("\n"),e,"json")},n.prototype.saveJSONObject=n.prototype.saveJSON,n.prototype.saveJSONArray=n.prototype.saveJSON,n.prototype.saveStream=function(){throw"not yet implemented"},n.prototype.saveStrings=function(t,e,r){var o=r||"txt",n=this.createWriter(e,o);for(var i in t)i<t.length-1?n.println(t[i]):n.print(t[i]);n.close(),n.flush()},n.prototype.saveXML=function(){throw"not yet implemented"},n.prototype.selectOutput=function(){throw"not yet implemented"},n.prototype.saveTable=function(t,e,r){var o=this.createWriter(e,r),n=t.columns,s=",";if("tsv"===r&&(s="	"),"html"!==r){if("0"!==n[0])for(var a=0;a<n.length;a++)a<n.length-1?o.print(n[a]+s):o.println(n[a]);for(var l=0;l<t.rows.length;l++){var p;for(p=0;p<t.rows[l].arr.length;p++)p<t.rows[l].arr.length-1?o.print(t.rows[l].arr[p]+s):l<t.rows.length-1?o.println(t.rows[l].arr[p]):o.print(t.rows[l].arr[p])}}else{o.println("<html>"),o.println("<head>");var u='  <meta http-equiv="content-type" content';if(u+='="text/html;charset=utf-8" />',o.println(u),o.println("</head>"),o.println("<body>"),o.println("  <table>"),"0"!==n[0]){o.println("    <tr>");for(var h=0;h<n.length;h++){var c=i(n[h]);o.println("      <td>"+c),o.println("      </td>")}o.println("    </tr>")}for(var d=0;d<t.rows.length;d++){o.println("    <tr>");for(var f=0;f<t.columns.length;f++){var m=t.rows[d].getString(f),y=i(m);o.println("      <td>"+y),o.println("      </td>")}o.println("    </tr>")}o.println("  </table>"),o.println("</body>"),o.print("</html>")}o.close(),o.flush()};var i=function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")};return n.prototype.writeFile=function(t,e,r){var o="application/octet-stream";n.prototype._isSafari()&&(o="text/plain");var i=new Blob(t,{type:o}),s=window.URL.createObjectURL(i);n.prototype.downloadFile(s,e,r)},n.prototype.downloadFile=function(t,e,i){var s=r(e,i),a=s[0],l=s[1],p=document.createElement("a");if(p.href=t,p.download=a,p.onclick=o,p.style.display="none",document.body.appendChild(p),n.prototype._isSafari()){var u="Hello, Safari user! To download this file...\n";u+="1. Go to File --> Save As.\n",u+='2. Choose "Page Source" as the Format.\n',u+='3. Name it with this extension: ."'+l+'"',alert(u)}p.click(),t=null},n.prototype._checkFileExtension=r,n.prototype._isSafari=function(){var t=Object.prototype.toString.call(window.HTMLElement);return t.indexOf("Constructor")>0},n}({},amdclean.core),amdclean.outputimage=function(t,e){"use strict";var r=e,o=[];return r.prototype.saveCanvas=function(t,e,o){o||(o=r.prototype._checkFileExtension(e,o)[1],""===o&&(o="png"));var n;if(t?n=t:this._curElement&&this._curElement.elt&&(n=this._curElement.elt),r.prototype._isSafari()){var i="Hello, Safari user!\n";i+="Now capturing a screenshot...\n",i+="To save this image,\n",i+="go to File --> Save As.\n",alert(i),window.location.href=n.toDataURL()}else{var s;if("undefined"==typeof o)o="png",s="image/png";else switch(o){case"png":s="image/png";break;case"jpeg":s="image/jpeg";break;case"jpg":s="image/jpeg";break;default:s="image/png"}var a="image/octet-stream",l=n.toDataURL(s);l=l.replace(s,a),r.prototype.downloadFile(l,e,o)}},r.prototype.saveFrames=function(t,e,n,i,s){var a=n||3;a=r.prototype.constrain(a,0,15),a=1e3*a;var l=i||15;l=r.prototype.constrain(l,0,22);var p=0,u=r.prototype._makeFrame,h=this._curElement.elt,c=setInterval(function(){u(t+p,e,h),p++},1e3/l);setTimeout(function(){if(clearInterval(c),s)s(o);else for(var t=0;t<o.length;t++){var e=o[t];r.prototype.downloadFile(e.imageData,e.filename,e.ext)}o=[]},a+.01)},r.prototype._makeFrame=function(t,e,r){var n;n=this?this._curElement.elt:r;var i;if(e)switch(e.toLowerCase()){case"png":i="image/png";break;case"jpeg":i="image/jpeg";break;case"jpg":i="image/jpeg";break;default:i="image/png"}else e="png",i="image/png";var s="image/octet-stream",a=n.toDataURL(i);a=a.replace(i,s);var l={};l.imageData=a,l.filename=t,l.ext=e,o.push(l)},r}({},amdclean.core),amdclean.outputtext_area=function(t,e){"use strict";var r=e;return r.prototype.print=window.console&&console.log?console.log.bind(console):function(){},r.prototype.println=r.prototype.print,r}({},amdclean.core),amdclean.renderingrendering=function(t,e,r){var o=e,r=r;return o.prototype.createCanvas=function(t,e,r){var n;return r?(n=document.createElement("canvas"),n.id="defaultCanvas"):n=this.canvas,this._setupDone||(n.className+=" p5_hidden",n.style.visibility="hidden"),this._userNode?this._userNode.appendChild(n):document.body.appendChild(n),this._defaultGraphics||(this._defaultGraphics=new o.Graphics(n,this,!0),this._elements.push(this._defaultGraphics)),this._defaultGraphics.resize(t,e),this._defaultGraphics._applyDefaults(),this._defaultGraphics},o.prototype.resizeCanvas=function(t,e,r){this._defaultGraphics&&(this._defaultGraphics.resize(t,e),this._defaultGraphics._applyDefaults(),r||this.redraw())},o.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},o.prototype.createGraphics=function(t,e){var r=document.createElement("canvas"),n=this._userNode||document.body;n.appendChild(r);var i=new o.Graphics(r,this,!1);this._elements.push(i);for(var s in o.prototype)i.hasOwnProperty(s)||(i[s]="function"==typeof o.prototype[s]?o.prototype[s].bind(i):o.prototype[s]);return i.resize(t,e),i._applyDefaults(),i},o.prototype.blendMode=function(t){if(t!==r.BLEND&&t!==r.DARKEST&&t!==r.LIGHTEST&&t!==r.DIFFERENCE&&t!==r.MULTIPLY&&t!==r.EXCLUSION&&t!==r.SCREEN&&t!==r.REPLACE&&t!==r.OVERLAY&&t!==r.HARD_LIGHT&&t!==r.SOFT_LIGHT&&t!==r.DODGE&&t!==r.BURN&&t!==r.ADD&&t!==r.NORMAL)throw new Error("Mode "+t+" not recognized.");this.drawingContext.globalCompositeOperation=t},o}({},amdclean.core,amdclean.constants),amdclean.shape2d_primitives=function(t,e,r,o){"use strict";function n(t,e,r){for(var o=2*Math.PI,n=[],s=Math.PI/2,l=r>e?1:-1,p=e,u=Math.min(o,Math.abs(r-e));u>a;){var h=p+l*Math.min(u,s);n.push(i(t,p,h)),u-=Math.abs(h-p),p=h}return n}function i(t,e,r){var o=(r-e)/2,n=t*Math.cos(o),i=t*Math.sin(o),s=n,a=-i,l=.5522847498,p=l*Math.tan(o),u=s+p*i,h=a+p*n,c=u,d=-h,f=o+e,m=Math.cos(f),y=Math.sin(f);return{x1:t*Math.cos(e),y1:t*Math.sin(e),x2:u*m-h*y,y2:u*y+h*m,x3:c*m-d*y,y3:c*y+d*m,x4:t*Math.cos(r),y4:t*Math.sin(r)}}var s=e,r=r,o=o,a=1e-5;return s.prototype.arc=function(t,e,i,s,a,l,p){if(this._doStroke||this._doFill){this._angleMode===o.DEGREES&&(a=this.radians(a),l=this.radians(l));var u=this.drawingContext,h=r.arcModeAdjust(t,e,i,s,this._ellipseMode),c=n(1,a,l),d=h.w/2,f=h.h/2;return u.beginPath(),c.forEach(function(t,e){0===e&&u.moveTo(h.x+t.x1*d,h.y+t.y1*f),u.bezierCurveTo(h.x+t.x2*d,h.y+t.y2*f,h.x+t.x3*d,h.y+t.y3*f,h.x+t.x4*d,h.y+t.y4*f)}),this._doFill&&((p===o.PIE||null==p)&&u.lineTo(h.x,h.y),u.closePath(),u.fill(),this._doStroke&&(p===o.CHORD||p===o.PIE))?(u.stroke(),this):(this._doStroke&&(p===o.OPEN||null==p)&&(u.beginPath(),c.forEach(function(t,e){0===e&&u.moveTo(h.x+t.x1*d,h.y+t.y1*f),u.bezierCurveTo(h.x+t.x2*d,h.y+t.y2*f,h.x+t.x3*d,h.y+t.y3*f,h.x+t.x4*d,h.y+t.y4*f)}),u.stroke()),this)}},s.prototype.ellipse=function(t,e,o,n){if(this._doStroke||this._doFill){o=Math.abs(o),n=Math.abs(n);var i=this.drawingContext,s=r.modeAdjust(t,e,o,n,this._ellipseMode);if(i.beginPath(),o===n)i.arc(s.x+s.w/2,s.y+s.w/2,s.w/2,0,2*Math.PI,!1);else{var a=.5522848,l=s.w/2*a,p=s.h/2*a,u=s.x+s.w,h=s.y+s.h,c=s.x+s.w/2,d=s.y+s.h/2;i.moveTo(s.x,d),i.bezierCurveTo(s.x,d-p,c-l,s.y,c,s.y),i.bezierCurveTo(c+l,s.y,u,d-p,u,d),i.bezierCurveTo(u,d+p,c+l,h,c,h),i.bezierCurveTo(c-l,h,s.x,d+p,s.x,d),i.closePath()}return this._doFill&&i.fill(),this._doStroke&&i.stroke(),this}},s.prototype.line=function(t,e,r,o){if(this._doStroke){var n=this.drawingContext;if("rgba(0,0,0,0)"!==n.strokeStyle)return n.beginPath(),n.moveTo(t,e),n.lineTo(r,o),n.stroke(),this}},s.prototype.point=function(t,e){if(this._doStroke){var r=this.drawingContext,n=r.strokeStyle,i=r.fillStyle;if("rgba(0,0,0,0)"!==n)return t=Math.round(t),e=Math.round(e),r.fillStyle=n,r.lineWidth>1?(r.beginPath(),r.arc(t,e,r.lineWidth/2,0,o.TWO_PI,!1),r.fill()):r.fillRect(t,e,1,1),r.fillStyle=i,this}},s.prototype.quad=function(t,e,r,o,n,i,s,a){if(this._doStroke||this._doFill){var l=this.drawingContext;return l.beginPath(),l.moveTo(t,e),l.lineTo(r,o),l.lineTo(n,i),l.lineTo(s,a),l.closePath(),this._doFill&&l.fill(),this._doStroke&&l.stroke(),this}},s.prototype.rect=function(t,e,o,n){if(this._doStroke||this._doFill){var i=r.modeAdjust(t,e,o,n,this._rectMode),s=this.drawingContext;return this._doStroke&&s.lineWidth%2===1&&s.translate(.5,.5),s.beginPath(),s.rect(i.x,i.y,i.w,i.h),this._doFill&&s.fill(),this._doStroke&&s.stroke(),this._doStroke&&s.lineWidth%2===1&&s.translate(-.5,-.5),this}},s.prototype.triangle=function(t,e,r,o,n,i){if(this._doStroke||this._doFill){var s=this.drawingContext;return s.beginPath(),s.moveTo(t,e),s.lineTo(r,o),s.lineTo(n,i),s.closePath(),this._doFill&&s.fill(),this._doStroke&&s.stroke(),this}},s}({},amdclean.core,amdclean.canvas,amdclean.constants),amdclean.shapeattributes=function(t,e,r){"use strict";var o=e,r=r;return o.prototype._rectMode=r.CORNER,o.prototype._ellipseMode=r.CENTER,o.prototype.ellipseMode=function(t){return(t===r.CORNER||t===r.CORNERS||t===r.RADIUS||t===r.CENTER)&&(this._ellipseMode=t),this},o.prototype.noSmooth=function(){return this.drawingContext.mozImageSmoothingEnabled=!1,this.drawingContext.webkitImageSmoothingEnabled=!1,this},o.prototype.rectMode=function(t){return(t===r.CORNER||t===r.CORNERS||t===r.RADIUS||t===r.CENTER)&&(this._rectMode=t),this},o.prototype.smooth=function(){return this.drawingContext.mozImageSmoothingEnabled=!0,this.drawingContext.webkitImageSmoothingEnabled=!0,this},o.prototype.strokeCap=function(t){return(t===r.ROUND||t===r.SQUARE||t===r.PROJECT)&&(this.drawingContext.lineCap=t),this},o.prototype.strokeJoin=function(t){return(t===r.ROUND||t===r.BEVEL||t===r.MITER)&&(this.drawingContext.lineJoin=t),this},o.prototype.strokeWeight=function(t){return this.drawingContext.lineWidth="undefined"==typeof t||0===t?1e-4:t,this},o}({},amdclean.core,amdclean.constants),amdclean.shapecurves=function(t,e){"use strict";var r=e,o=20,n=20;return r.prototype._curveTightness=0,r.prototype.bezier=function(t,e,r,o,n,i,s,a){return this._doStroke?(this.beginShape(),this.vertex(t,e),this.bezierVertex(r,o,n,i,s,a),this.endShape(),this.stroke(),this):void 0},r.prototype.bezierDetail=function(t){return o=t,this},r.prototype.bezierPoint=function(t,e,r,o,n){var i=1-n;return Math.pow(i,3)*t+3*Math.pow(i,2)*n*e+3*i*Math.pow(n,2)*r+Math.pow(n,3)*o},r.prototype.bezierTangent=function(t,e,r,o,n){var i=1-n;return 3*o*Math.pow(n,2)-3*r*Math.pow(n,2)+6*r*i*n-6*e*i*n+3*e*Math.pow(i,2)-3*t*Math.pow(i,2)},r.prototype.curve=function(t,e,r,o,n,i,s,a){return this._doStroke?(this.beginShape(),this.curveVertex(t,e),this.curveVertex(r,o),this.curveVertex(n,i),this.curveVertex(s,a),this.endShape(),this.stroke(),this):void 0},r.prototype.curveDetail=function(t){return n=t,this},r.prototype.curveTightness=function(t){this._setProperty("_curveTightness",t)},r.prototype.curvePoint=function(t,e,r,o,n){var i=n*n*n,s=n*n,a=-.5*i+s-.5*n,l=1.5*i-2.5*s+1,p=-1.5*i+2*s+.5*n,u=.5*i-.5*s;return t*a+e*l+r*p+o*u},r.prototype.curveTangent=function(t,e,r,o,n){var i=n*n,s=-3*i/2+2*n-.5,a=9*i/2-5*n,l=-9*i/2+4*n+.5,p=3*i/2-n;return t*s+e*a+r*l+o*p},r.prototype.curveTightness=function(){throw"not yet implemented"},r}({},amdclean.core),amdclean.shapevertex=function(t,e,r){"use strict";var o=e,r=r,n=null,i=[],s=[],a=!1,l=!1,p=!1,u=!1;return o.prototype._doFillStrokeClose=function(){this._doFill&&this.drawingContext.fill(),this._doStroke&&this.drawingContext.stroke(),this.drawingContext.closePath()},o.prototype.beginContour=function(){return s=[],u=!0,this},o.prototype.beginShape=function(t){return n=t===r.POINTS||t===r.LINES||t===r.TRIANGLES||t===r.TRIANGLE_FAN||t===r.TRIANGLE_STRIP||t===r.QUADS||t===r.QUAD_STRIP?t:null,i=[],s=[],this},o.prototype.bezierVertex=function(){if(0===i.length)throw"vertex() must be used once before calling bezierVertex()";a=!0;for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.isVert=!1,u?s.push(t):i.push(t),this},o.prototype.curveVertex=function(t,e){return l=!0,this.vertex(t,e),this},o.prototype.endContour=function(){var t=s[0].slice();t.isVert=s[0].isVert,t.moveTo=!1,s.push(t),i.push(i[0]);for(var e=0;e<s.length;e++)i.push(s[e]);return this},o.prototype.endShape=function(t){if(0===i.length)return this;if(!this._doStroke&&!this._doFill)return this;var e,o=t===r.CLOSE;o&&!u&&i.push(i[0]);var s,h,c=i.length;if(!l||n!==r.POLYGON&&null!==n)if(!a||n!==r.POLYGON&&null!==n)if(!p||n!==r.POLYGON&&null!==n)if(n===r.POINTS)for(s=0;c>s;s++)e=i[s],this._doStroke&&this.stroke(e[6]),this.point(e[0],e[1]);else if(n===r.LINES)for(s=0;c>s+1;s+=2)e=i[s],this._doStroke&&this.stroke(i[s+1][6]),this.line(e[0],e[1],i[s+1][0],i[s+1][1]);else if(n===r.TRIANGLES)for(s=0;c>s+2;s+=3)e=i[s],this.drawingContext.beginPath(),this.drawingContext.moveTo(e[0],e[1]),this.drawingContext.lineTo(i[s+1][0],i[s+1][1]),this.drawingContext.lineTo(i[s+2][0],i[s+2][1]),this.drawingContext.lineTo(e[0],e[1]),this._doFill&&(this.fill(i[s+2][5]),this.drawingContext.fill()),this._doStroke&&(this.stroke(i[s+2][6]),this.drawingContext.stroke()),this.drawingContext.closePath();else if(n===r.TRIANGLE_STRIP)for(s=0;c>s+1;s++)e=i[s],this.drawingContext.beginPath(),this.drawingContext.moveTo(i[s+1][0],i[s+1][1]),this.drawingContext.lineTo(e[0],e[1]),this._doStroke&&this.stroke(i[s+1][6]),this._doFill&&this.fill(i[s+1][5]),c>s+2&&(this.drawingContext.lineTo(i[s+2][0],i[s+2][1]),this._doStroke&&this.stroke(i[s+2][6]),this._doFill&&this.fill(i[s+2][5])),this._doFillStrokeClose();else if(n===r.TRIANGLE_FAN){if(c>2)for(this.drawingContext.beginPath(),this.drawingContext.moveTo(i[0][0],i[0][1]),this.drawingContext.lineTo(i[1][0],i[1][1]),this.drawingContext.lineTo(i[2][0],i[2][1]),this._doFill&&this.fill(i[2][5]),this._doStroke&&this.stroke(i[2][6]),this._doFillStrokeClose(),s=3;c>s;s++)e=i[s],this.drawingContext.beginPath(),this.drawingContext.moveTo(i[0][0],i[0][1]),this.drawingContext.lineTo(i[s-1][0],i[s-1][1]),this.drawingContext.lineTo(e[0],e[1]),this._doFill&&this.fill(e[5]),this._doStroke&&this.stroke(e[6]),this._doFillStrokeClose()}else if(n===r.QUADS)for(s=0;c>s+3;s+=4){for(e=i[s],this.drawingContext.beginPath(),this.drawingContext.moveTo(e[0],e[1]),h=1;4>h;h++)this.drawingContext.lineTo(i[s+h][0],i[s+h][1]);this.drawingContext.lineTo(e[0],e[1]),this._doFill&&this.fill(i[s+3][5]),this._doStroke&&this.stroke(i[s+3][6]),this._doFillStrokeClose()}else if(n===r.QUAD_STRIP){if(c>3)for(s=0;c>s+1;s+=2)e=i[s],this.drawingContext.beginPath(),c>s+3?(this.drawingContext.moveTo(i[s+2][0],i[s+2][1]),this.drawingContext.lineTo(e[0],e[1]),this.drawingContext.lineTo(i[s+1][0],i[s+1][1]),this.drawingContext.lineTo(i[s+3][0],i[s+3][1]),this._doFill&&this.fill(i[s+3][5]),this._doStroke&&this.stroke(i[s+3][6])):(this.drawingContext.moveTo(e[0],e[1]),this.drawingContext.lineTo(i[s+1][0],i[s+1][1])),this._doFillStrokeClose()}else{for(this.drawingContext.beginPath(),this.drawingContext.moveTo(i[0][0],i[0][1]),s=1;c>s;s++)e=i[s],e.isVert&&(e.moveTo?this.drawingContext.moveTo(e[0],e[1]):this.drawingContext.lineTo(e[0],e[1]));this._doFillStrokeClose()}else{for(this.drawingContext.beginPath(),s=0;c>s;s++)i[s].isVert?i[s].moveTo?this.drawingContext.moveTo([0],i[s][1]):this.drawingContext.lineTo(i[s][0],i[s][1]):this.drawingContext.quadraticCurveTo(i[s][0],i[s][1],i[s][2],i[s][3]);this._doFillStrokeClose()}else{for(this.drawingContext.beginPath(),s=0;c>s;s++)i[s].isVert?i[s].moveTo?this.drawingContext.moveTo(i[s][0],i[s][1]):this.drawingContext.lineTo(i[s][0],i[s][1]):this.drawingContext.bezierCurveTo(i[s][0],i[s][1],i[s][2],i[s][3],i[s][4],i[s][5]);this._doFillStrokeClose()}else if(c>3){var d=[],f=1-this._curveTightness;for(this.drawingContext.beginPath(),this.drawingContext.moveTo(i[1][0],i[1][1]),s=1;c>s+2;s++)e=i[s],d[0]=[e[0],e[1]],d[1]=[e[0]+(f*i[s+1][0]-f*i[s-1][0])/6,e[1]+(f*i[s+1][1]-f*i[s-1][1])/6],d[2]=[i[s+1][0]+(f*i[s][0]-f*i[s+2][0])/6,i[s+1][1]+(f*i[s][1]-f*i[s+2][1])/6],d[3]=[i[s+1][0],i[s+1][1]],this.drawingContext.bezierCurveTo(d[1][0],d[1][1],d[2][0],d[2][1],d[3][0],d[3][1]);o&&this.drawingContext.lineTo(i[s+1][0],i[s+1][1]),this._doFillStrokeClose()}return l=!1,a=!1,p=!1,u=!1,o&&i.pop(),this},o.prototype.quadraticVertex=function(t,e,o,n){if(this._contourInited){var a={};return a.x=t,a.y=e,a.x3=o,a.y3=n,a.type=r.QUADRATIC,this._contourVertices.push(a),this}if(!(i.length>0))throw"vertex() must be used once before calling quadraticVertex()";p=!0;for(var l=[],h=0;h<arguments.length;h++)l[h]=arguments[h];return l.isVert=!1,u?s.push(l):i.push(l),this},o.prototype.vertex=function(t,e,r){var o=[];return o.isVert=!0,o[0]=t,o[1]=e,o[2]=0,o[3]=0,o[4]=0,o[5]=this.drawingContext.fillStyle,o[6]=this.drawingContext.strokeStyle,r&&(o.moveTo=r),u?(0===s.length&&(o.moveTo=!0),s.push(o)):i.push(o),this},o}({},amdclean.core,amdclean.constants),amdclean.structure=function(t,e){"use strict";var r=e;return r.prototype.exit=function(){throw"exit() not implemented, see remove()"},r.prototype.noLoop=function(){this._loop=!1,this._drawInterval&&clearInterval(this._drawInterval)},r.prototype.loop=function(){this._loop=!0,this._draw()},r.prototype.push=function(){this.drawingContext.save(),this._styles.push({doStroke:this._doStroke,doFill:this._doFill,tint:this._tint,imageMode:this._imageMode,rectMode:this._rectMode,ellipseMode:this._ellipseMode,colorMode:this._colorMode,textFont:this.textFont,textLeading:this.textLeading,textSize:this.textSize,textStyle:this.textStyle})},r.prototype.pop=function(){this.drawingContext.restore();var t=this._styles.pop();this._doStroke=t.doStroke,this._doFill=t.doFill,this._tint=t.tint,this._imageMode=t.imageMode,this._rectMode=t.rectMode,this._ellipseMode=t.ellipseMode,this._colorMode=t.colorMode,this.textFont=t.textFont,this.textLeading=t.textLeading,this.textSize=t.textSize,this.textStyle=t.textStyle},r.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},r.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},r.prototype.redraw=function(){var t=this.setup||window.setup,e=this.draw||window.draw;"function"==typeof e&&(this.push(),"undefined"==typeof t&&this.scale(this._pixelDensity,this._pixelDensity),this._registeredMethods.pre.forEach(function(t){t.call(this)}),e(),this._registeredMethods.post.forEach(function(t){t.call(this)}),this.pop())},r.prototype.size=function(){throw"size() not implemented, see createCanvas()"},r}({},amdclean.core),amdclean.transform=function(t,e,r){"use strict";var o=e,r=r;return o.prototype.applyMatrix=function(t,e,r,o,n,i){return this.drawingContext.transform(t,e,r,o,n,i),this},o.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},o.prototype.printMatrix=function(){throw new Error("printMatrix() not implemented")},o.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},o.prototype.resetMatrix=function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this},o.prototype.rotate=function(t){return this._angleMode===r.DEGREES&&(t=this.radians(t)),this.drawingContext.rotate(t),this},o.prototype.rotateX=function(){throw"not yet implemented"},o.prototype.rotateY=function(){throw"not yet implemented"},o.prototype.scale=function(){var t=1,e=1;return 1===arguments.length?t=e=arguments[0]:(t=arguments[0],e=arguments[1]),this.drawingContext.scale(t,e),this},o.prototype.shearX=function(t){return this._angleMode===r.DEGREES&&(t=this.radians(t)),this.drawingContext.transform(1,0,this.tan(t),1,0,0),this},o.prototype.shearY=function(t){return this._angleMode===r.DEGREES&&(t=this.radians(t)),this.drawingContext.transform(1,this.tan(t),0,1,0,0),this},o.prototype.translate=function(t,e){return this.drawingContext.translate(t,e),this},o}({},amdclean.core,amdclean.constants,amdclean.outputtext_area),amdclean.typographyattributes=function(t,e,r){"use strict";var o=e,r=r;return o.prototype._textLeading=15,o.prototype._textFont="sans-serif",o.prototype._textSize=12,o.prototype._textStyle=r.NORMAL,o.prototype._textAscent=null,o.prototype._textDescent=null,o.prototype.textAlign=function(t,e){(t===r.LEFT||t===r.RIGHT||t===r.CENTER)&&(this.drawingContext.textAlign=t),(e===r.TOP||e===r.BOTTOM||e===r.CENTER||e===r.BASELINE)&&(this.drawingContext.textBaseline=e)},o.prototype.textLeading=function(t){this._setProperty("_textLeading",t)},o.prototype.textSize=function(t){
this._setProperty("_textSize",t),this._setProperty("_textLeading",1.25*t),this._applyTextProperties()},o.prototype.textStyle=function(t){(t===r.NORMAL||t===r.ITALIC||t===r.BOLD)&&(this._setProperty("_textStyle",t),this._applyTextProperties())},o.prototype.textWidth=function(t){return this.drawingContext.measureText(t).width},o.prototype.textAscent=function(){return null==this._textAscent&&this._updateTextMetrics(),this._textAscent},o.prototype.textDescent=function(){return null==this._textDescent&&this._updateTextMetrics(),this._textDescent},o.prototype._applyTextProperties=function(){this._setProperty("_textAscent",null),this._setProperty("_textDescent",null);var t=this._textStyle+" "+this._textSize+"px "+this._textFont;this.drawingContext.font=t},o.prototype._updateTextMetrics=function(){var t=document.createElement("span");t.style.fontFamily=this._textFont,t.style.fontSize=this._textSize+"px",t.innerHTML="ABCjgq|";var e=document.createElement("div");e.style.display="inline-block",e.style.width="1px",e.style.height="0px";var r=document.createElement("div");r.appendChild(t),r.appendChild(e),r.style.height="0px",r.style.overflow="hidden",document.body.appendChild(r),e.style.verticalAlign="baseline";var o=this._calculateOffset(e),n=this._calculateOffset(t),i=o[1]-n[1];e.style.verticalAlign="bottom",o=this._calculateOffset(e),n=this._calculateOffset(t);var s=o[1]-n[1],a=s-i;document.body.removeChild(r),this._setProperty("_textAscent",i),this._setProperty("_textDescent",a)},o.prototype._calculateOffset=function(t){var e=0,r=0;if(t.offsetParent){do e+=t.offsetLeft,r+=t.offsetTop;while(t=t.offsetParent)}else e+=t.offsetLeft,r+=t.offsetTop;return[e,r]},o}({},amdclean.core,amdclean.constants),amdclean.typographyloading_displaying=function(t,e){"use strict";var r=e;return r.prototype.text=function(t,e,r,o,n){"string"!=typeof t&&(t=t.toString()),"undefined"!=typeof o&&(r+=this._textLeading,n+=r),t=t.replace(/(\t)/g,"  ");for(var i=t.split("\n"),s=0;s<i.length;s++){for(var a="",l=i[s].split(" "),p=0;p<l.length;p++)if(r+this._textLeading<=n||"undefined"==typeof n){var u=a+l[p]+" ",h=this.drawingContext.measureText(u),c=h.width;"undefined"!=typeof o&&c>o?(this._doFill&&this.drawingContext.fillText(a,e,r),this._doStroke&&this.drawingContext.strokeText(a,e,r),a=l[p]+" ",r+=this._textLeading):a=u}this._doFill&&this.drawingContext.fillText(a,e,r),this._doStroke&&this.drawingContext.strokeText(a,e,r),r+=this._textLeading}},r.prototype.textFont=function(t){this._setProperty("_textFont",t),this._applyTextProperties()},r}({},amdclean.core),amdclean.src_app=function(t,e){"use strict";var r=e,o=function(){window.PHANTOMJS||window.mocha||(window.setup&&"function"==typeof window.setup||window.draw&&"function"==typeof window.draw)&&new r};return"complete"===document.readyState?o():window.addEventListener("load",o,!1),r}({},amdclean.core,amdclean.p5Color,amdclean.p5Element,amdclean.p5Graphics,amdclean.p5Image,amdclean.p5File,amdclean.p5Vector,amdclean.p5TableRow,amdclean.p5Table,amdclean.colorcreating_reading,amdclean.colorsetting,amdclean.constants,amdclean.dataconversion,amdclean.dataarray_functions,amdclean.datastring_functions,amdclean.environment,amdclean.imageimage,amdclean.imageloading_displaying,amdclean.imagepixels,amdclean.inputfiles,amdclean.inputkeyboard,amdclean.inputacceleration,amdclean.inputmouse,amdclean.inputtime_date,amdclean.inputtouch,amdclean.mathmath,amdclean.mathcalculation,amdclean.mathrandom,amdclean.mathnoise,amdclean.mathtrigonometry,amdclean.outputfiles,amdclean.outputimage,amdclean.outputtext_area,amdclean.renderingrendering,amdclean.shape2d_primitives,amdclean.shapeattributes,amdclean.shapecurves,amdclean.shapevertex,amdclean.structure,amdclean.transform,amdclean.typographyattributes,amdclean.typographyloading_displaying),amdclean.src_app});
;!function(t,e){"function"==typeof define&&define.amd?define("p5.sound",["p5"],function(t){e(t)}):e("object"==typeof exports?require("../p5"):t.p5)}(this,function(t){var e;e=function(){"use strict";window.AudioContext=window.AudioContext||window.webkitAudioContext;var e=new window.AudioContext;t.prototype.getAudioContext=function(){return e},"function"!=typeof e.createGain&&(window.audioContext.createGain=window.audioContext.createGainNode),"function"!=typeof e.createDelay&&(window.audioContext.createDelay=window.audioContext.createDelayNode),"function"!=typeof window.AudioBufferSourceNode.prototype.start&&(window.AudioBufferSourceNode.prototype.start=window.AudioBufferSourceNode.prototype.noteGrainOn),"function"!=typeof window.AudioBufferSourceNode.prototype.stop&&(window.AudioBufferSourceNode.prototype.stop=window.AudioBufferSourceNode.prototype.noteOff),"function"!=typeof window.OscillatorNode.prototype.start&&(window.OscillatorNode.prototype.start=window.OscillatorNode.prototype.noteOn),"function"!=typeof window.OscillatorNode.prototype.stop&&(window.OscillatorNode.prototype.stop=window.OscillatorNode.prototype.noteOff),window.AudioContext.prototype.hasOwnProperty("createScriptProcessor")||(window.AudioContext.prototype.createScriptProcessor=window.AudioContext.prototype.createJavaScriptNode),navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var i=document.createElement("audio");t.prototype.isSupported=function(){return!!i.canPlayType};var o=function(){return!!i.canPlayType&&i.canPlayType('audio/ogg; codecs="vorbis"')},n=function(){return!!i.canPlayType&&i.canPlayType("audio/mpeg;")},s=function(){return!!i.canPlayType&&i.canPlayType('audio/wav; codecs="1"')},r=function(){return!!i.canPlayType&&(i.canPlayType("audio/x-m4a;")||i.canPlayType("audio/aac;"))},a=function(){return!!i.canPlayType&&i.canPlayType("audio/x-aiff;")};t.prototype.isFileSupported=function(t){switch(t.toLowerCase()){case"mp3":return n();case"wav":return s();case"ogg":return o();case"mp4":return r();case"aiff":return a();default:return!1}};var u=navigator.userAgent.match(/(iPad|iPhone|iPod)/g)?!0:!1;u&&window.addEventListener("touchstart",function(){var t=e.createBuffer(1,1,22050),i=e.createBufferSource();i.buffer=t,i.connect(e.destination),i.start(0)},!1)}();var i;i=function(){"use strict";var e=function(){var e=t.prototype.getAudioContext();this.input=e.createGain(),this.output=e.createGain(),this.limiter=e.createDynamicsCompressor(),this.limiter.threshold.value=0,this.limiter.ratio.value=100,this.audiocontext=e,this.output.disconnect(this.audiocontext.destination),this.inputSources=[],this.input.connect(this.limiter),this.limiter.connect(this.output),this.meter=e.createGain(),this.output.connect(this.meter),this.output.connect(this.audiocontext.destination),this.soundArray=[],this.parts=[],this.extensions=[]},i=new e;return t.soundOut=i,t.soundOut._silentNode=i.audiocontext.createGain(),t.soundOut._silentNode.gain.value=0,t.soundOut._silentNode.connect(i.audiocontext.destination),i}(e);var o;o=function(){"use strict";var e=i;t.prototype.masterVolume=function(t){e.output.gain.value=t},t.prototype.sampleRate=function(){return e.audiocontext.sampleRate},t.prototype.getMasterVolume=function(){return e.output.gain.value},t.prototype.freqToMidi=function(t){var e=Math.log(t/440)/Math.log(2),i=Math.round(12*e)+57;return i},t.prototype.midiToFreq=function(t){return 440*Math.pow(2,(t-69)/12)},t.prototype.soundFormats=function(){e.extensions=[];for(var t=0;t<arguments.length;t++){if(arguments[t]=arguments[t].toLowerCase(),!(["mp3","wav","ogg","m4a","aac"].indexOf(arguments[t])>-1))throw arguments[t]+" is not a valid sound format!";e.extensions.push(arguments[t])}},t.prototype.disposeSound=function(){for(var t=0;t<e.soundArray.length;t++)e.soundArray[t].dispose()},t.prototype.registerMethod("remove",t.prototype.disposeSound),t.prototype._checkFileFormats=function(i){var o;if("string"==typeof i){o=i;var n=o.split(".").pop();if(["mp3","wav","ogg","m4a","aac"].indexOf(n)>-1){var s=t.prototype.isFileSupported(n);if(s)o=o;else for(var r=o.split("."),a=r[r.length-1],u=0;u<e.extensions.length;u++){var c=e.extensions[u],s=t.prototype.isFileSupported(c);if(s){a="",2===r.length&&(a+=r[0]);for(var u=1;u<=r.length-2;u++){var h=r[u];a+="."+h}o=a+=".",o=o+=c;break}}}else for(var u=0;u<e.extensions.length;u++){var c=e.extensions[u],s=t.prototype.isFileSupported(c);if(s){o=o+"."+c;break}}}else if("object"==typeof i)for(var u=0;u<i.length;u++){var c=i[u].split(".").pop(),s=t.prototype.isFileSupported(c);if(s){o=i[u];break}}return o},t.prototype._mathChain=function(t,e,i,o,n){for(var s in t.mathOps)t.mathOps[s]instanceof n&&(t.mathOps[s].dispose(),i=s,i<t.mathOps.length-1&&(o=t.mathOps[s+1]));return t.mathOps[i-1].disconnect(),t.mathOps[i-1].connect(e),e.connect(o),t.mathOps[i]=e,t}}(i);var n;n=function(){"use strict";var e=i,o=e.audiocontext;t.Panner=function(t,e,i){this.input=o.createGain(),t.connect(this.input),this.left=o.createGain(),this.right=o.createGain(),this.left.channelInterpretation="discrete",this.right.channelInterpretation="discrete",i>1?(this.splitter=o.createChannelSplitter(2),this.input.connect(this.splitter),this.splitter.connect(this.left,1),this.splitter.connect(this.right,0)):(this.input.connect(this.left),this.input.connect(this.right)),this.output=o.createChannelMerger(2),this.left.connect(this.output,0,1),this.right.connect(this.output,0,0),this.output.connect(e)},t.Panner.prototype.pan=function(t,e){var i=e||0,n=o.currentTime+i,s=(t+1)/2,r=Math.cos(s*Math.PI/2),a=Math.sin(s*Math.PI/2);this.left.gain.linearRampToValueAtTime(r,n),this.right.gain.linearRampToValueAtTime(a,n)},t.Panner.prototype.inputChannels=function(t){1===t?(this.input.disconnect(),this.input.connect(this.left),this.input.connect(this.right)):2===t&&(this.splitter=o.createChannelSplitter(2),this.input.disconnect(),this.input.connect(this.splitter),this.splitter.connect(this.left,1),this.splitter.connect(this.right,0))},t.Panner.prototype.connect=function(t){this.output.connect(t)},t.Panner.prototype.disconnect=function(t){this.output.disconnect()},t.Panner3D=function(t,e){var i=o.createPanner();return i.panningModel="HRTF",i.distanceModel="linear",i.setPosition(0,0,0),t.connect(i),i.connect(e),i.pan=function(t,e,o){i.setPosition(t,e,o)},i}}(i);var s;s=function(){"use strict";var e=i;t.SoundFile=function(i,o,n){var s=t.prototype._checkFileFormats(i);this.url=s,this.sources=[],this.source=null,this.buffer=null,this.playbackRate=1,this.gain=1,this.input=e.audiocontext.createGain(),this.output=e.audiocontext.createGain(),this.reversed=!1,this.startTime=0,this.endTime=null,this.playing=!1,this.paused=null,this.mode="sustain",this.startMillis=null,this.amplitude=new t.Amplitude,this.output.connect(this.amplitude.input),this.panPosition=0,this.panner=new t.Panner(this.output,e.input,2),this.url&&this.load(o),e.soundArray.push(this),"function"==typeof n?this.whileLoading=n:this.whileLoading=function(){}},t.prototype.registerPreloadMethod("loadSound"),t.prototype.loadSound=function(e,i,o){window.location.origin.indexOf("file://")>-1&&alert("This sketch may require a server to load external files. Please see http://bit.ly/1qcInwS");var n=new t.SoundFile(e,i,o);return n},t.SoundFile.prototype.load=function(e){var i=this,o=new XMLHttpRequest;o.addEventListener("progress",function(t){i._updateProgress(t)},!1),o.open("GET",this.url,!0),o.responseType="arraybuffer";var n=this;o.onload=function(){var i=t.prototype.getAudioContext();i.decodeAudioData(o.response,function(t){n.buffer=t,n.panner.inputChannels(t.numberOfChannels),e&&e(n)})},o.send()},t.SoundFile.prototype._updateProgress=function(t){if(t.lengthComputable){var e=Math.log(t.loaded/t.total*9.9);this.whileLoading(e)}else console.log("size unknown")},t.SoundFile.prototype.isLoaded=function(){return this.buffer?!0:!1},t.SoundFile.prototype.play=function(t,i,o,n,s){var r=e.audiocontext.currentTime,t=t||0;if(0>t&&(t=0),!this.buffer)throw"not ready to play file, buffer has yet to load. Try preload()";if("restart"===this.mode&&this.buffer&&this.source){var r=e.audiocontext.currentTime;this.source.stop(t)}if(n){if(!(n>=0&&n<this.buffer.duration))throw"start time out of range";this.startTime=n}if(s){if(!(s>=0&&s<=this.buffer.duration))throw"end time out of range";this.endTime=s}else this.endTime=this.buffer.duration;if(this.source=e.audiocontext.createBufferSource(),this.source.buffer=this.buffer,this.source.loop=this.looping,this.source.loop===!0&&(this.source.loopStart=this.startTime,this.source.loopEnd=this.endTime),this.source.onended=function(){},this.source.gain)this.source.gain.value=o||1,this.source.connect(this.output);else{this.source.gain=e.audiocontext.createGain(),this.source.connect(this.source.gain);var a=o||1;this.source.gain.gain.setValueAtTime(a,e.audiocontext.currentTime),this.source.gain.connect(this.output)}this.source.playbackRate.cancelScheduledValues(r),i=i||Math.abs(this.playbackRate),this.source.playbackRate.setValueAtTime(i,r),this.paused&&(this.wasUnpaused=!0),this.paused&&this.wasUnpaused?this.source.start(t,this.pauseTime,this.endTime):(this.wasUnpaused=!1,this.pauseTime=0,this.source.start(t,this.startTime,this.endTime)),this.startSeconds=t+r,this.playing=!0,this.paused=!1,this.sources.push(this.source)},t.SoundFile.prototype.playMode=function(t){var i=t.toLowerCase();if("restart"===i&&this.buffer&&this.source)for(var o=0;o<this.sources.length-1;o++){var n=e.audiocontext.currentTime;this.sources[o].stop(n)}if("restart"!==i&&"sustain"!==i)throw'Invalid play mode. Must be either "restart" or "sustain"';this.mode=i},t.SoundFile.prototype.pause=function(t){var i=e.audiocontext.currentTime,t=t||0,o=t+i;this.looping;this.isPlaying()&&this.buffer&&this.source&&(this.pauseTime=this.currentTime(),this.source.stop(o),this.paused=!0,this.wasUnpaused=!1,this.playing=!1)},t.SoundFile.prototype.loop=function(t,e,i,o){this.looping=!0,this.play(t,e,i,o)},t.SoundFile.prototype.setLoop=function(t){if(t===!0)this.looping=!0;else{if(t!==!1)throw"Error: setLoop accepts either true or false";this.looping=!1}this.source&&(this.source.loop=this.looping)},t.SoundFile.prototype.isLooping=function(){return this.source&&this.looping===!0&&this.isPlaying()===!0?!0:!1},t.SoundFile.prototype.isPlaying=function(){return null!==this.playing?this.playing:!1},t.SoundFile.prototype.isPaused=function(){return this.paused?this.paused:!1},t.SoundFile.prototype.stop=function(t){if("sustain"==this.mode)this.stopAll(),this.playing=!1,this.pauseTime=0,this.wasUnpaused=!1,this.paused=!1;else if(this.buffer&&this.source){var i=e.audiocontext.currentTime,o=t||0;this.source.stop(i+o),this.playing=!1,this.pauseTime=0,this.wasUnpaused=!1,this.paused=!1}},t.SoundFile.prototype.stopAll=function(){if(this.buffer&&this.source)for(var t=0;t<this.sources.length;t++)if(null!==this.sources[t]){var i=e.audiocontext.currentTime;this.sources[t].stop(i)}},t.SoundFile.prototype.setVolume=function(t,i,o){if("number"==typeof t){var i=i||0,o=o||0,n=e.audiocontext.currentTime,s=this.output.gain.value;this.output.gain.cancelScheduledValues(n+o),this.output.gain.linearRampToValueAtTime(s,n+o),this.output.gain.linearRampToValueAtTime(t,n+o+i)}else{if(!t)return this.output.gain;t.connect(this.output.gain)}},t.SoundFile.prototype.amp=t.SoundFile.prototype.setVolume,t.SoundFile.prototype.fade=t.SoundFile.prototype.setVolume,t.SoundFile.prototype.getVolume=function(){return this.output.gain.value},t.SoundFile.prototype.pan=function(t,e){this.panPosition=t,this.panner.pan(t,e)},t.SoundFile.prototype.getPan=function(){return this.panPosition},t.SoundFile.prototype.rate=function(t){if(this.playbackRate!==t||!this.source||this.source.playbackRate.value!==t){this.playbackRate=t;var i=t;if(0===this.playbackRate&&this.playing&&this.pause(),this.playbackRate<0&&!this.reversed){var o=this.currentTime();this.source.playbackRate.value;this.reverseBuffer(),i=Math.abs(t);var n=(o-this.duration())/i;this.pauseTime=n}else this.playbackRate>0&&this.reversed&&this.reverseBuffer();if(this.source){var s=e.audiocontext.currentTime;this.source.playbackRate.cancelScheduledValues(s),this.source.playbackRate.linearRampToValueAtTime(Math.abs(i),s)}}},t.SoundFile.prototype.getPlaybackRate=function(){return this.playbackRate},t.SoundFile.prototype.duration=function(){return this.buffer?this.buffer.duration:0},t.SoundFile.prototype.currentTime=function(){var t;if(this.isPlaying()){var i=e.audiocontext.currentTime-this.startSeconds+this.startTime+this.pauseTime;return t=i*this.playbackRate%(this.duration()*this.playbackRate),console.log("1"),t}return this.paused?this.pauseTime:this.startTime},t.SoundFile.prototype.jump=function(t,i){if(0>t||t>this.buffer.duration)throw"jump time out of range";if(t>i||i>this.buffer.duration)throw"end time out of range";if(this.startTime=t||0,i?this.endTime=i:this.endTime=this.buffer.duration,this.isPlaying()){var o=e.audiocontext.currentTime;this.stop(o),this.play(t,this.endTime)}},t.SoundFile.prototype.channels=function(){return this.buffer.numberOfChannels},t.SoundFile.prototype.sampleRate=function(){return this.buffer.sampleRate},t.SoundFile.prototype.frames=function(){return this.buffer.length},t.SoundFile.prototype.getPeaks=function(t){if(!this.buffer)throw"Cannot load peaks yet, buffer is not loaded";if(t||(t=5*window.width),this.buffer){for(var e=this.buffer,i=e.length/t,o=~~(i/10)||1,n=e.numberOfChannels,s=new Float32Array(Math.round(t)),r=0;n>r;r++)for(var a=e.getChannelData(r),u=0;t>u;u++){for(var c=~~(u*i),h=~~(c+i),p=0,l=c;h>l;l+=o){var d=a[l];d>p?p=d:-d>p&&(p=d)}(0===r||p>s[u])&&(s[u]=p)}return s}},t.SoundFile.prototype.reverseBuffer=function(){var t=this.getVolume();if(this.setVolume(0,.01,0),this.pause(),!this.buffer)throw"SoundFile is not done loading";Array.prototype.reverse.call(this.buffer.getChannelData(0)),Array.prototype.reverse.call(this.buffer.getChannelData(1)),this.reversed=!this.reversed,this.setVolume(t,.01,.0101),this.play()},t.SoundFile.prototype._onEnded=function(t){t.onended=function(t){var i=e.audiocontext.currentTime;t.stop(i)}},t.SoundFile.prototype.add=function(){},t.SoundFile.prototype.dispose=function(){if(this.buffer&&this.source)for(var t=0;t<this.sources.length-1;t++)if(null!==this.sources[t]){var i=e.audiocontext.currentTime;this.sources[t].stop(i),this.sources[t]=null}this.output&&(this.output.disconnect(),this.output=null),this.panner&&(this.panner.disconnect(),this.panner=null)},t.SoundFile.prototype.connect=function(t){t?t.hasOwnProperty("input")?this.panner.connect(t.input):this.panner.connect(t):this.panner.connect(e.input)},t.SoundFile.prototype.disconnect=function(t){this.panner.disconnect(t)},t.SoundFile.prototype.getLevel=function(t){return t&&(this.amplitude.smoothing=t),this.amplitude.getLevel()},t.SoundFile.prototype.setPath=function(e,i){var o=t.prototype._checkFileFormats(e);this.url=o,this.load(i)},t.SoundFile.prototype.setBuffer=function(t){for(var i=e.audiocontext,o=i.createBuffer(2,t[0].length,i.sampleRate),n=0,s=0;s<t.length;s++){var r=o.getChannelData(s);r.set(t[s]),n++}this.buffer=o,this.panner.inputChannels(n)}}(e,i);var r;r=function(){"use strict";var e=i;t.Amplitude=function(t){this.bufferSize=2048,this.audiocontext=e.audiocontext,this.processor=this.audiocontext.createScriptProcessor(this.bufferSize),this.input=this.processor,this.output=this.audiocontext.createGain(),this.smoothing=t||0,this.volume=0,this.average=0,this.volMax=.001,this.normalize=!1,this.processor.onaudioprocess=this.volumeAudioProcess.bind(this),this.processor.connect(this.output),this.output.gain.value=0,this.output.connect(this.audiocontext.destination),e.meter.connect(this.processor)},t.Amplitude.prototype.setInput=function(i,o){e.meter.disconnect(this.processor),o&&(this.smoothing=o),null==i?(console.log("Amplitude input source is not ready! Connecting to master output instead"),e.meter.connect(this.processor)):i instanceof t.Signal?i.output.connect(this.processor):i?(i.connect(this.processor),this.processor.disconnect(),this.processor.connect(this.output)):e.meter.connect(this.processor)},t.Amplitude.prototype.connect=function(t){t?t.hasOwnProperty("input")?this.output.connect(t.input):this.output.connect(t):this.output.connect(this.panner.connect(e.input))},t.Amplitude.prototype.disconnect=function(t){this.output.disconnect()},t.Amplitude.prototype.volumeAudioProcess=function(t){for(var e,i=t.inputBuffer.getChannelData(0),o=i.length,n=0,s=0,r=0;o>r;r++)e=i[r],this.normalize?(n+=Math.max(Math.min(e/this.volMax,1),-1),s+=Math.max(Math.min(e/this.volMax,1),-1)*Math.max(Math.min(e/this.volMax,1),-1)):(n+=e,s+=e*e);var a=Math.sqrt(s/o);this.volume=Math.max(a,this.volume*this.smoothing),this.volMax=Math.max(this.volume,this.volMax),this.volNorm=Math.max(Math.min(this.volume/this.volMax,1),0)},t.Amplitude.prototype.getLevel=function(){return this.normalize?this.volNorm:this.volume},t.Amplitude.prototype.toggleNormalize=function(t){"boolean"==typeof t?this.normalize=t:this.normalize=!this.normalize},t.Amplitude.prototype.smooth=function(t){t>=0&&1>t?this.smoothing=t:console.log("Error: smoothing must be between 0 and 1")}}(i);var a;a=function(){"use strict";var e=i;t.FFT=function(t,i){var o=t||.8;0===t&&(o=t);var n=2*i||2048;this.analyser=e.audiocontext.createAnalyser(),e.output.connect(this.analyser),this.analyser.smoothingTimeConstant=o,this.analyser.fftSize=n,this.freqDomain=new Uint8Array(this.analyser.frequencyBinCount),this.timeDomain=new Uint8Array(this.analyser.frequencyBinCount),this.bass=[20,140],this.lowMid=[140,400],this.mid=[400,2600],this.highMid=[2600,5200],this.treble=[5200,14e3]},t.FFT.prototype.setInput=function(t,e){e&&(this.analyser.fftSize=2*e),t.output?t.output.connect(this.analyser):t.connect(this.analyser)},t.FFT.prototype.waveform=function(t){t&&(this.analyser.fftSize=2*t),this.analyser.getByteTimeDomainData(this.timeDomain);var e=Array.apply([],this.timeDomain);return e.length===this.analyser.fftSize,e.constructor===Array,e},t.FFT.prototype.analyze=function(t){t&&(this.analyser.fftSize=2*t),this.analyser.getByteFrequencyData(this.freqDomain);var e=Array.apply([],this.freqDomain);return e.length===this.analyser.fftSize,e.constructor===Array,e},t.FFT.prototype.getEnergy=function(t,i){var o=e.audiocontext.sampleRate/2;if("bass"===t?(t=this.bass[0],i=this.bass[1]):"lowMid"===t?(t=this.lowMid[0],i=this.lowMid[1]):"mid"===t?(t=this.mid[0],i=this.mid[1]):"highMid"===t?(t=this.highMid[0],i=this.highMid[1]):"treble"===t&&(t=this.treble[0],i=this.treble[1]),"number"!=typeof t)throw"invalid input for getEnergy()";if(i){if(t&&i){if(t>i){var n=i;i=t,t=n}for(var s=Math.round(t/o*this.freqDomain.length),r=Math.round(i/o*this.freqDomain.length),a=0,u=0,c=s;r>=c;c++)a+=this.freqDomain[c],u+=1;var h=a/u;return h}throw"invalid input for getEnergy()"}var p=Math.round(t/o*this.freqDomain.length);return this.freqDomain[p]},t.FFT.prototype.getFreq=function(t,e){console.log("getFreq() is deprecated. Please use getEnergy() instead.");var i=this.getEnergy(t,e);return i},t.FFT.prototype.smooth=function(t){this.analyser.smoothingTimeConstant=t}}(i);var u;u=function(){"use strict";function t(t){return void 0===t}var e;if(t(window.AudioContext)&&(window.AudioContext=window.webkitAudioContext),t(window.OfflineAudioContext)&&(window.OfflineAudioContext=window.webkitOfflineAudioContext),t(AudioContext))throw new Error("Web Audio is not supported in this browser");e=new AudioContext,"function"!=typeof AudioContext.prototype.createGain&&(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),"function"!=typeof AudioContext.prototype.createDelay&&(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode),"function"!=typeof AudioContext.prototype.createPeriodicWave&&(AudioContext.prototype.createPeriodicWave=AudioContext.prototype.createWaveTable),"function"!=typeof AudioBufferSourceNode.prototype.start&&(AudioBufferSourceNode.prototype.start=AudioBufferSourceNode.prototype.noteGrainOn),"function"!=typeof AudioBufferSourceNode.prototype.stop&&(AudioBufferSourceNode.prototype.stop=AudioBufferSourceNode.prototype.noteOff),"function"!=typeof OscillatorNode.prototype.start&&(OscillatorNode.prototype.start=OscillatorNode.prototype.noteOn),"function"!=typeof OscillatorNode.prototype.stop&&(OscillatorNode.prototype.stop=OscillatorNode.prototype.noteOff),"function"!=typeof OscillatorNode.prototype.setPeriodicWave&&(OscillatorNode.prototype.setPeriodicWave=OscillatorNode.prototype.setWaveTable),AudioNode.prototype._nativeConnect=AudioNode.prototype.connect,AudioNode.prototype.connect=function(e,i,o){if(e.input)Array.isArray(e.input)?(t(o)&&(o=0),this.connect(e.input[o])):this.connect(e.input,i,o);else try{e instanceof AudioNode?this._nativeConnect(e,i,o):this._nativeConnect(e,i)}catch(n){throw new Error("error connecting to node: "+e)}};var i=function(e,i){t(e)||1===e?this.input=this.context.createGain():e>1&&(this.input=new Array(e)),t(i)||1===i?this.output=this.context.createGain():i>1&&(this.output=new Array(e))};i.context=e,i.prototype.context=i.context,i.prototype.bufferSize=2048,i.prototype.bufferTime=i.prototype.bufferSize/i.context.sampleRate,i.prototype.connect=function(t,e,i){Array.isArray(this.output)?(e=this.defaultArg(e,0),this.output[e].connect(t,0,i)):this.output.connect(t,e,i)},i.prototype.disconnect=function(t){Array.isArray(this.output)?(t=this.defaultArg(t,0),this.output[t].disconnect()):this.output.disconnect()},i.prototype.connectSeries=function(){if(arguments.length>1)for(var t=arguments[0],e=1;e<arguments.length;e++){var i=arguments[e];t.connect(i),t=i}},i.prototype.connectParallel=function(){var t=arguments[0];if(arguments.length>1)for(var e=1;e<arguments.length;e++){var i=arguments[e];t.connect(i)}},i.prototype.chain=function(){if(arguments.length>0)for(var t=this,e=0;e<arguments.length;e++){var i=arguments[e];t.connect(i),t=i}},i.prototype.fan=function(){if(arguments.length>0)for(var t=1;t<arguments.length;t++)this.connect(arguments[t])},AudioNode.prototype.chain=i.prototype.chain,AudioNode.prototype.fan=i.prototype.fan,i.prototype.defaultArg=function(e,i){if("object"==typeof e&&"object"==typeof i){var o={};for(var n in e)o[n]=this.defaultArg(e[n],e[n]);for(var s in i)o[s]=this.defaultArg(e[s],i[s]);return o}return t(e)?i:e},i.prototype.optionsObject=function(t,e,i){var o={};if(1===t.length&&"object"==typeof t[0])o=t[0];else for(var n=0;n<e.length;n++)o[e[n]]=t[n];return this.isUndef(i)?o:this.defaultArg(o,i)},i.prototype.isUndef=t,i.prototype.equalPowerScale=function(t){var e=.5*Math.PI;return Math.sin(t*e)},i.prototype.logScale=function(t){return Math.max(this.normalize(this.gainToDb(t),-100,0),0)},i.prototype.expScale=function(t){return this.dbToGain(this.interpolate(t,-100,0))},i.prototype.dbToGain=function(t){return Math.pow(2,t/6)},i.prototype.gainToDb=function(t){return 20*(Math.log(t)/Math.LN10)},i.prototype.interpolate=function(t,e,i){return t*(i-e)+e},i.prototype.normalize=function(t,e,i){if(e>i){var o=i;i=e,e=o}else if(e==i)return 0;return(t-e)/(i-e)},i.prototype.dispose=function(){this.isUndef(this.input)||(this.input instanceof AudioNode&&this.input.disconnect(),this.input=null),this.isUndef(this.output)||(this.output instanceof AudioNode&&this.output.disconnect(),this.output=null)};var o=null;i.prototype.noGC=function(){this.output.connect(o)},AudioNode.prototype.noGC=function(){this.connect(o)},i.prototype.now=function(){return this.context.currentTime},i.prototype.samplesToSeconds=function(t){return t/this.context.sampleRate},i.prototype.toSamples=function(t){var e=this.toSeconds(t);return Math.round(e*this.context.sampleRate)},i.prototype.toSeconds=function(t,e){if(e=this.defaultArg(e,this.now()),"number"==typeof t)return t;if("string"==typeof t){var i=0;return"+"===t.charAt(0)&&(t=t.slice(1),i=e),parseFloat(t)+i}return e},i.prototype.frequencyToSeconds=function(t){return 1/parseFloat(t)},i.prototype.secondsToFrequency=function(t){return 1/t};var n=[];return i._initAudioContext=function(t){t(i.context),n.push(t)},i.setContext=function(t){i.prototype.context=t,i.context=t;for(var e=0;e<n.length;e++)n[e](t)},i.extend=function(e,o){function n(){}t(o)&&(o=i),n.prototype=o.prototype,e.prototype=new n,e.prototype.constructor=e},i.startMobile=function(){var t=i.context.createOscillator(),e=i.context.createGain();e.gain.value=0,t.connect(e),e.connect(i.context.destination);var o=i.context.currentTime;t.start(o),t.stop(o+1)},i._initAudioContext(function(t){i.prototype.bufferTime=i.prototype.bufferSize/t.sampleRate,o=t.createGain(),o.gain.value=0,o.connect(t.destination)}),i}();var c;c=function(t){"use strict";return t.SignalBase=function(){},t.extend(t.SignalBase),t.SignalBase.prototype.connect=function(e,i,o){e instanceof t.Signal?e.setValue(0):e instanceof AudioParam&&(e.value=0),t.prototype.connect.call(this,e,i,o)},t.SignalBase.prototype.dispose=function(){t.prototype.dispose.call(this)},t.SignalBase}(u);var h;h=function(t){"use strict";return t.WaveShaper=function(t,e){this._shaper=this.input=this.output=this.context.createWaveShaper(),this._curve=null,Array.isArray(t)?this.setCurve(t):isFinite(t)||this.isUndef(t)?this._curve=new Float32Array(this.defaultArg(t,1024)):"function"==typeof t&&(this._curve=new Float32Array(this.defaultArg(e,1024)),this.setMap(t))},t.extend(t.WaveShaper,t.SignalBase),t.WaveShaper.prototype.setMap=function(t){for(var e=0,i=this._curve.length;i>e;e++){var o=e/i*2-1,n=e/(i-1)*2-1;this._curve[e]=t(o,e,n)}this._shaper.curve=this._curve},t.WaveShaper.prototype.setCurve=function(t){if(this._isSafari()){var e=t[0];t.unshift(e)}this._curve=new Float32Array(t),this._shaper.curve=this._curve},t.WaveShaper.prototype.setOversample=function(t){this._shaper.oversample=t},t.WaveShaper.prototype._isSafari=function(){var t=navigator.userAgent.toLowerCase();return-1!==t.indexOf("safari")&&-1===t.indexOf("chrome")},t.WaveShaper.prototype.dispose=function(){t.prototype.dispose.call(this),this._shaper.disconnect(),this._shaper=null,this._curve=null},t.WaveShaper}(u);var p;p=function(t){"use strict";return t.Signal=function(e){this._scalar=this.context.createGain(),this.input=this.output=this.context.createGain(),this._syncRatio=1,this.value=this.defaultArg(e,0),t.Signal._constant.chain(this._scalar,this.output)},t.extend(t.Signal,t.SignalBase),t.Signal.prototype.getValue=function(){return this._scalar.gain.value},t.Signal.prototype.setValue=function(t){0===this._syncRatio?t=0:t*=this._syncRatio,this._scalar.gain.value=t},t.Signal.prototype.setValueAtTime=function(t,e){t*=this._syncRatio,this._scalar.gain.setValueAtTime(t,this.toSeconds(e))},t.Signal.prototype.setCurrentValueNow=function(t){t=this.defaultArg(t,this.now());var e=this.getValue();return this.cancelScheduledValues(t),this._scalar.gain.setValueAtTime(e,t),e},t.Signal.prototype.linearRampToValueAtTime=function(t,e){t*=this._syncRatio,this._scalar.gain.linearRampToValueAtTime(t,this.toSeconds(e))},t.Signal.prototype.exponentialRampToValueAtTime=function(t,e){t*=this._syncRatio;try{this._scalar.gain.exponentialRampToValueAtTime(t,this.toSeconds(e))}catch(i){this._scalar.gain.linearRampToValueAtTime(t,this.toSeconds(e))}},t.Signal.prototype.exponentialRampToValueNow=function(t,e){var i=this.now();this.setCurrentValueNow(i),"+"===e.toString().charAt(0)&&(e=e.substr(1)),this.exponentialRampToValueAtTime(t,i+this.toSeconds(e))},t.Signal.prototype.linearRampToValueNow=function(t,e){var i=this.now();this.setCurrentValueNow(i),t*=this._syncRatio,"+"===e.toString().charAt(0)&&(e=e.substr(1)),this._scalar.gain.linearRampToValueAtTime(t,i+this.toSeconds(e))},t.Signal.prototype.setTargetAtTime=function(t,e,i){t*=this._syncRatio,this._scalar.gain.setTargetAtTime(t,this.toSeconds(e),i)},t.Signal.prototype.setValueCurveAtTime=function(t,e,i){for(var o=0;o<t.length;o++)t[o]*=this._syncRatio;this._scalar.gain.setValueCurveAtTime(t,this.toSeconds(e),this.toSeconds(i))},t.Signal.prototype.cancelScheduledValues=function(t){this._scalar.gain.cancelScheduledValues(this.toSeconds(t))},t.Signal.prototype.sync=function(t,e){e?this._syncRatio=e:0!==t.getValue()?this._syncRatio=this.getValue()/t.getValue():this._syncRatio=0,this._scalar.disconnect(),this._scalar=this.context.createGain(),this.connectSeries(t,this._scalar,this.output),this._scalar.gain.value=this._syncRatio},t.Signal.prototype.unsync=function(){var e=this.getValue();this._scalar.disconnect(),this._scalar=this.context.createGain(),this._scalar.gain.value=e/this._syncRatio,this._syncRatio=1,t.Signal._constant.chain(this._scalar,this.output)},t.Signal.prototype.dispose=function(){t.prototype.dispose.call(this),this._scalar.disconnect(),this._scalar=null},Object.defineProperty(t.Signal.prototype,"value",{get:function(){return this.getValue()},set:function(t){this.setValue(t)}}),t.Signal._generator=null,t.Signal._constant=null,t._initAudioContext(function(e){t.Signal._generator=e.createOscillator(),t.Signal._constant=new t.WaveShaper([1,1]),t.Signal._generator.connect(t.Signal._constant),t.Signal._generator.start(0),t.Signal._generator.noGC()}),t.Signal}(u);var l;l=function(t){"use strict";return t.Add=function(e){t.call(this,2,0),this._sum=this.input[0]=this.input[1]=this.output=this.context.createGain(),this._value=null,isFinite(e)&&(this._value=new t.Signal(e),this._value.connect(this._sum))},t.extend(t.Add,t.SignalBase),t.Add.prototype.setValue=function(t){if(null===this._value)throw new Error("cannot switch from signal to number");this._value.setValue(t)},t.Add.prototype.dispose=function(){t.prototype.dispose.call(this),this._sum=null,this._value&&(this._value.dispose(),this._value=null)},t.Add}(u);var d;d=function(t){"use strict";return t.Multiply=function(e){t.call(this,2,0),this._mult=this.input[0]=this.output=this.context.createGain(),this._factor=this.input[1]=this.output.gain,this._factor.value=this.defaultArg(e,0)},t.extend(t.Multiply,t.SignalBase),t.Multiply.prototype.setValue=function(t){this._factor.value=t},t.Multiply.prototype.dispose=function(){t.prototype.dispose.call(this),this._mult=null,this._factor=null},t.Multiply}(u);var f;f=function(t){"use strict";return t.Scale=function(e,i){this._outputMin=this.defaultArg(e,0),this._outputMax=this.defaultArg(i,1),this._scale=this.input=new t.Multiply(1),this._add=this.output=new t.Add(0),this._scale.connect(this._add),this._setRange()},t.extend(t.Scale,t.SignalBase),t.Scale.prototype.setMin=function(t){this._outputMin=t,this._setRange()},t.Scale.prototype.setMax=function(t){this._outputMax=t,this._setRange()},t.Scale.prototype._setRange=function(){this._add.setValue(this._outputMin),this._scale.setValue(this._outputMax-this._outputMin)},t.Scale.prototype.dispose=function(){t.prototype.dispose.call(this),this._add.dispose(),this._add=null,this._scale.dispose(),this._scale=null},t.Scale}(u,l,d);var y;y=function(){"use strict";var e=p,o=l,n=d,s=f,r=u,a=i;r.setContext(a.audiocontext),t.Signal=function(t){var i=new e(t);return i},e.prototype.fade=e.prototype.linearRampToValueAtTime,n.prototype.fade=e.prototype.fade,o.prototype.fade=e.prototype.fade,s.prototype.fade=e.prototype.fade,e.prototype.setInput=function(t){t.connect(this)},n.prototype.setInput=e.prototype.setInput,o.prototype.setInput=e.prototype.setInput,s.prototype.setInput=e.prototype.setInput,e.prototype.add=function(t){var e=new o(t);return this.connect(e),e},n.prototype.add=e.prototype.add,o.prototype.add=e.prototype.add,s.prototype.add=e.prototype.add,e.prototype.mult=function(t){var e=new n(t);return this.connect(e),e},n.prototype.mult=e.prototype.mult,o.prototype.mult=e.prototype.mult,s.prototype.mult=e.prototype.mult,e.prototype.scale=function(e,i,o,n){var r,a;4===arguments.length?(r=t.prototype.map(o,e,i,0,1)-.5,a=t.prototype.map(n,e,i,0,1)-.5):(r=arguments[0],a=arguments[1]);var u=new s(r,a);return this.connect(u),u},n.prototype.scale=e.prototype.scale,o.prototype.scale=e.prototype.scale,s.prototype.scale=e.prototype.scale}(p,l,d,f,u,i);var m;m=function(){"use strict";
var e=i,o=l,n=d,s=f;t.Oscillator=function(i,o){if("string"==typeof i){var n=o;o=i,i=n}if("number"==typeof o){var n=o;o=i,i=n}this.started=!1,this.oscillator=e.audiocontext.createOscillator(),this.f=i||440,this.oscillator.frequency.setValueAtTime(this.f,e.audiocontext.currentTime),this.oscillator.type=o||"sine";this.oscillator;this.input=e.audiocontext.createGain(),this.output=e.audiocontext.createGain(),this._freqMods=[],this.output.gain.value=.5,this.output.gain.setValueAtTime(.5,e.audiocontext.currentTime),this.oscillator.connect(this.output),this.panPosition=0,this.connection=e.input,this.panner=new t.Panner(this.output,this.connection,1),this.mathOps=[this.output],e.soundArray.push(this)},t.Oscillator.prototype.start=function(t,i){if(this.started){var o=e.audiocontext.currentTime;this.stop(o)}if(!this.started){var n=i||this.f,s=this.oscillator.type;this.oscillator=e.audiocontext.createOscillator(),this.oscillator.frequency.exponentialRampToValueAtTime(Math.abs(n),e.audiocontext.currentTime),this.oscillator.type=s,this.oscillator.connect(this.output),t=t||0,this.oscillator.start(t+e.audiocontext.currentTime),this.freqNode=this.oscillator.frequency;for(var r in this._freqMods)"undefined"!=typeof this._freqMods[r].connect&&this._freqMods[r].connect(this.oscillator.frequency);this.started=!0}},t.Oscillator.prototype.stop=function(t){if(this.started){var i=t||0,o=e.audiocontext.currentTime;this.oscillator.stop(i+o),this.started=!1}},t.Oscillator.prototype.amp=function(t,i,o){var n=this;if("number"==typeof t){var i=i||0,o=o||0,s=e.audiocontext.currentTime,r=this.output.gain.value;this.output.gain.cancelScheduledValues(s),this.output.gain.linearRampToValueAtTime(r,s+o),this.output.gain.linearRampToValueAtTime(t,s+o+i)}else{if(!t)return this.output.gain;console.log(t),t.connect(n.output.gain)}},t.Oscillator.prototype.fade=t.Oscillator.prototype.amp,t.Oscillator.prototype.getAmp=function(){return this.output.gain.value},t.Oscillator.prototype.freq=function(t,i,o){if("number"!=typeof t||isNaN(t)){if(!t)return this.oscillator.frequency;t.output&&(t=t.output),t.connect(this.oscillator.frequency),this._freqMods.push(t)}else{this.f=t;var n=e.audiocontext.currentTime,i=i||0,o=o||0,s=this.oscillator.frequency.value;this.oscillator.frequency.cancelScheduledValues(n),this.oscillator.frequency.setValueAtTime(s,n+o),t>0?this.oscillator.frequency.exponentialRampToValueAtTime(t,o+i+n):this.oscillator.frequency.linearRampToValueAtTime(t,o+i+n)}},t.Oscillator.prototype.getFreq=function(){return this.oscillator.frequency.value},t.Oscillator.prototype.setType=function(t){this.oscillator.type=t},t.Oscillator.prototype.getType=function(){return this.oscillator.type},t.Oscillator.prototype.connect=function(t){t?t.hasOwnProperty("input")?(this.panner.connect(t.input),this.connection=t.input):(this.panner.connect(t),this.connection=t):this.panner.connect(e.input)},t.Oscillator.prototype.disconnect=function(t){this.output.disconnect(),this.panner.disconnect(),this.output.connect(this.panner),this.oscMods=[]},t.Oscillator.prototype.pan=function(t,e){this.panPosition=t,this.panner.pan(t,e)},t.Oscillator.prototype.getPan=function(){return this.panPosition},t.Oscillator.prototype.dispose=function(){if(this.oscillator){var t=e.audiocontext.currentTime;this.stop(t),this.disconnect(),this.oscillator.disconnect(),this.panner=null,this.oscillator=null}this.osc2&&this.osc2.dispose()},t.Oscillator.prototype.phase=function(i){this.dNode||(this.dNode=e.audiocontext.createDelay(),this.output.disconnect(),this.output.connect(this.dNode),this.dNode.connect(this.panner));var o=e.audiocontext.currentTime;this.dNode.delayTime.linearRampToValueAtTime(t.prototype.map(i,0,1,0,1/this.oscillator.frequency.value),o)};var r=function(t,e,i,o,n){var s=t.oscillator;for(var r in t.mathOps)t.mathOps[r]instanceof n&&(s.disconnect(),t.mathOps[r].dispose(),i=r,i<t.mathOps.length-2&&(o=t.mathOps[r+1]));return i==t.mathOps.length-1&&t.mathOps.push(o),r>0&&(s=t.mathOps[r-1]),s.disconnect(),s.connect(e),e.connect(o),t.mathOps[i]=e,t};t.Oscillator.prototype.add=function(t){var e=new o(t),i=this.mathOps.length-1,n=this.output;return r(this,e,i,n,o)},t.Oscillator.prototype.mult=function(t){var e=new n(t),i=this.mathOps.length-1,o=this.output;return r(this,e,i,o,n)},t.Oscillator.prototype.scale=function(e,i,o,n){var a,u;4===arguments.length?(a=t.prototype.map(o,e,i,0,1)-.5,u=t.prototype.map(n,e,i,0,1)-.5):(a=arguments[0],u=arguments[1]);var c=new s(a,u),h=this.mathOps.length-1,p=this.output;return r(this,c,h,p,s)},t.SinOsc=function(e){t.Oscillator.call(this,e,"sine")},t.SinOsc.prototype=Object.create(t.Oscillator.prototype),t.TriOsc=function(e){t.Oscillator.call(this,e,"triangle")},t.TriOsc.prototype=Object.create(t.Oscillator.prototype),t.SawOsc=function(e){t.Oscillator.call(this,e,"sawtooth")},t.SawOsc.prototype=Object.create(t.Oscillator.prototype),t.SqrOsc=function(e){t.Oscillator.call(this,e,"square")},t.SqrOsc.prototype=Object.create(t.Oscillator.prototype)}(i,p,l,d,f);var v;v=function(){"use strict";var e=i,o=l,n=d,s=f,r=u;r.setContext(e.audiocontext);var a=null;t.Env=function(i,o,n,s,r,a,u,c){this.aTime=i,this.aLevel=o,this.dTime=n||0,this.dLevel=s||0,this.sTime=r||0,this.sLevel=a||0,this.rTime=u||0,this.rLevel=c||0,this.output=e.audiocontext.createGain(),this.control=new t.Signal,this.control.connect(this.output),this.timeoutID=null,this.connection=null,this.mathOps=[this.control],e.soundArray.push(this)},t.Env.prototype.set=function(t,e,i,o,n,s,r,a){this.aTime=t,this.aLevel=e,this.dTime=i||0,this.dLevel=o||0,this.sTime=n||0,this.sLevel=s||0,this.rTime=r||0,this.rLevel=a||0},t.Env.prototype.setInput=function(t){this.connect(t)},t.Env.prototype.ctrl=function(t){this.connect(t)},t.Env.prototype.play=function(t,i){var o=e.audiocontext.currentTime,n=i||0,s=o+n+1e-4;"number"==typeof this.timeoutID&&window.clearTimeout(this.timeoutID),t&&this.connection!==t&&this.connect(t),this.control.cancelScheduledValues(s-1e-4),this.control.linearRampToValueAtTime(0,s-5e-5),this.control.linearRampToValueAtTime(this.aLevel,s+this.aTime),this.control.linearRampToValueAtTime(this.dLevel,s+this.aTime+this.dTime),this.control.linearRampToValueAtTime(this.sLevel,s+this.aTime+this.dTime+this.sTime),this.control.linearRampToValueAtTime(this.rLevel,s+this.aTime+this.dTime+this.sTime+this.rTime);s+this.aTime+this.dTime+this.sTime+this.rTime},t.Env.prototype.triggerAttack=function(t,i){var o=e.audiocontext.currentTime,n=i||0,s=o+n+1e-4;this.lastAttack=s,"number"==typeof this.timeoutID&&window.clearTimeout(this.timeoutID);var r=this.control.getValue();this.control.cancelScheduledValues(s-1e-4),this.control.linearRampToValueAtTime(r,s-5e-5),t&&this.connection!==t&&this.connect(t),this.control.linearRampToValueAtTime(this.aLevel,s+this.aTime),this.control.linearRampToValueAtTime(this.aLevel,s+this.aTime),this.control.linearRampToValueAtTime(this.dLevel,s+this.aTime+this.dTime),this.control.linearRampToValueAtTime(this.sLevel,s+this.aTime+this.dTime+this.sTime)},t.Env.prototype.triggerRelease=function(t,i){var o,n=e.audiocontext.currentTime,s=i||0,r=n+s+1e-5;if(t&&this.connection!==t&&this.connect(t),this.control.cancelScheduledValues(r-1e-5),n-this.lastAttack<this.aTime){var u=this.aTime-(r-this.lastAttack);this.control.linearRampToValueAtTime(this.aLevel,r+u),this.control.linearRampToValueAtTime(this.dLevel,r+u+this.dTime),this.control.linearRampToValueAtTime(this.sLevel,r+u+this.dTime+this.sTime),this.control.linearRampToValueAtTime(this.rLevel,r+u+this.dTime+this.sTime+this.rTime),o=r+this.dTime+this.sTime+this.rTime}else if(n-this.lastAttack<this.aTime+this.dTime){var c=this.aTime+this.dTime-(n-this.lastAttack);this.control.linearRampToValueAtTime(this.dLevel,r+c),this.control.linearRampToValueAtTime(this.sLevel,r+c+.01),this.control.linearRampToValueAtTime(this.rLevel,r+c+.01+this.rTime),o=r+this.sTime+this.rTime}else if(n-this.lastAttack<this.aTime+this.dTime+this.sTime){var h=this.aTime+this.dTime+this.sTime-(n-this.lastAttack);this.control.linearRampToValueAtTime(this.sLevel,r+h),this.control.linearRampToValueAtTime(this.rLevel,r+h+this.rTime),o=r+this.rTime}else this.control.linearRampToValueAtTime(this.sLevel,r),this.control.linearRampToValueAtTime(this.rLevel,r+this.rTime),o=r+this.dTime+this.sTime+this.rTime;var p=r+this.aTime+this.dTime+this.sTime+this.rTime;this.connection&&this.connection.hasOwnProperty("oscillator")?(a=this.connection.oscillator,a.stop(p+.01)):this.connect&&this.connection.hasOwnProperty("source")&&(a=this.connection.source,a.stop(p+.01))},t.Env.prototype.connect=function(i){this.disconnect(),this.connection=i,(i instanceof t.Oscillator||i instanceof t.SoundFile||i instanceof t.AudioIn||i instanceof t.Reverb||i instanceof t.Noise||i instanceof t.Filter||i instanceof t.Delay)&&(i=i.output.gain),i instanceof AudioParam&&i.setValueAtTime(0,e.audiocontext.currentTime),i instanceof t.Signal&&i.setValue(0),this.output.connect(i)},t.Env.prototype.disconnect=function(t){this.output.disconnect()},t.Env.prototype.add=function(e){var i=new o(e),n=this.mathOps.length,s=this.output;return t.prototype._mathChain(this,i,n,s,o)},t.Env.prototype.mult=function(e){var i=new n(e),o=this.mathOps.length,s=this.output;return t.prototype._mathChain(this,i,o,s,n)},t.Env.prototype.scale=function(e,i,o,n){var r=new s(e,i,o,n),a=this.mathOps.length,u=this.output;return t.prototype._mathChain(this,r,a,u,s)},t.Env.prototype.dispose=function(){e.audiocontext.currentTime;this.disconnect(),this.control.dispose(),this.control=null;for(var t=1;t<this.mathOps.length;t++)mathOps[t].dispose()}}(i,l,d,f,u);var g;g=function(){"use strict";function e(){for(var t=o.audiocontext,e=t.createBuffer(1,2048,t.sampleRate),i=e.getChannelData(0),n=0;2048>n;n++)i[n]=1;var s=t.createBufferSource();return s.buffer=e,s.loop=!0,s}var o=i;t.Pulse=function(i,n){t.Oscillator.call(this,i,"sawtooth"),this.w=n||0,this.osc2=new t.SawOsc(i),this.dNode=o.audiocontext.createDelay(),this.dcOffset=e(),this.dcGain=o.audiocontext.createGain(),this.dcOffset.connect(this.dcGain),this.dcGain.connect(this.output),this.f=i||440;var s=this.w/this.oscillator.frequency.value;this.dNode.delayTime.value=s,this.dcGain.gain.value=1.7*(.5-this.w),this.osc2.disconnect(),this.osc2.output.gain.minValue=-10,this.osc2.output.gain.maxValue=10,this.osc2.panner.disconnect(),this.osc2.amp(-1),this.osc2.output.connect(this.dNode),this.dNode.connect(this.output),this.output.gain.value=1,this.output.connect(this.panner)},t.Pulse.prototype=Object.create(t.Oscillator.prototype),t.Pulse.prototype.width=function(e){if("number"==typeof e){if(1>=e&&e>=0){this.w=e;var i=this.w/this.oscillator.frequency.value;this.dNode.delayTime.value=i}this.dcGain.gain.value=1.7*(.5-this.w)}else{e.connect(this.dNode.delayTime);var o=new t.SignalAdd(-.5);o.setInput(e),o=o.mult(-1),o=o.mult(1.7),o.connect(this.dcGain.gain)}},t.Pulse.prototype.start=function(t,i){var n=o.audiocontext.currentTime,s=i||0;if(!this.started){var r=t||this.f,a=this.oscillator.type;this.oscillator=o.audiocontext.createOscillator(),this.oscillator.frequency.setValueAtTime(r,n),this.oscillator.type=a,this.oscillator.connect(this.output),this.oscillator.start(s+n),this.osc2.oscillator=o.audiocontext.createOscillator(),this.osc2.oscillator.frequency.setValueAtTime(r,s+n),this.osc2.oscillator.type=a,this.osc2.oscillator.connect(this.osc2.output),this.osc2.start(s+n),this.freqNode=[this.oscillator.frequency,this.osc2.oscillator.frequency],this.dcOffset=e(),this.dcOffset.connect(this.dcGain),this.dcOffset.start(s+n),void 0!==this.mods&&void 0!==this.mods.frequency&&(this.mods.frequency.connect(this.freqNode[0]),this.mods.frequency.connect(this.freqNode[1])),this.started=!0,this.osc2.started=!0}},t.Pulse.prototype.stop=function(t){if(this.started){var e=t||0,i=o.audiocontext.currentTime;this.oscillator.stop(e+i),this.osc2.oscillator.stop(e+i),this.dcOffset.stop(e+i),this.started=!1,this.osc2.started=!1}},t.Pulse.prototype.freq=function(t,e,i){if("number"==typeof t){this.f=t;var n=o.audiocontext.currentTime,e=e||0,i=i||0,s=this.oscillator.frequency.value;this.oscillator.frequency.cancelScheduledValues(n),this.oscillator.frequency.setValueAtTime(s,n+i),this.oscillator.frequency.exponentialRampToValueAtTime(t,i+e+n),this.osc2.oscillator.frequency.cancelScheduledValues(n),this.osc2.oscillator.frequency.setValueAtTime(s,n+i),this.osc2.oscillator.frequency.exponentialRampToValueAtTime(t,i+e+n),this.freqMod&&(this.freqMod.output.disconnect(),this.freqMod=null)}else t.output&&(t.output.disconnect(),t.output.connect(this.oscillator.frequency),t.output.connect(this.osc2.oscillator.frequency),this.freqMod=t)}}(i,m);var T;T=function(){"use strict";var e=i;t.Noise=function(e){t.Oscillator.call(this),delete this.f,delete this.freq,delete this.oscillator,this.buffer=o},t.Noise.prototype=Object.create(t.Oscillator.prototype);var o=function(){for(var t=2*e.audiocontext.sampleRate,i=e.audiocontext.createBuffer(1,t,e.audiocontext.sampleRate),o=i.getChannelData(0),n=0;t>n;n++)o[n]=2*Math.random()-1;return i.type="white",i}(),n=function(){var t,i,o,n,s,r,a,u=2*e.audiocontext.sampleRate,c=e.audiocontext.createBuffer(1,u,e.audiocontext.sampleRate),h=c.getChannelData(0);t=i=o=n=s=r=a=0;for(var p=0;u>p;p++){var l=2*Math.random()-1;t=.99886*t+.0555179*l,i=.99332*i+.0750759*l,o=.969*o+.153852*l,n=.8665*n+.3104856*l,s=.55*s+.5329522*l,r=-.7616*r-.016898*l,h[p]=t+i+o+n+s+r+a+.5362*l,h[p]*=.11,a=.115926*l}return c.type="pink",c}(),s=function(){for(var t=2*e.audiocontext.sampleRate,i=e.audiocontext.createBuffer(1,t,e.audiocontext.sampleRate),o=i.getChannelData(0),n=0,s=0;t>s;s++){var r=2*Math.random()-1;o[s]=(n+.02*r)/1.02,n=o[s],o[s]*=3.5}return i.type="brown",i}();t.Noise.prototype.setType=function(t){switch(t){case"white":this.buffer=o;break;case"pink":this.buffer=n;break;case"brown":this.buffer=s;break;default:this.buffer=o}if(this.started){var i=e.audiocontext.currentTime;this.stop(i),this.start(i+.01)}},t.Noise.prototype.getType=function(){return this.buffer.type},t.Noise.prototype.start=function(){this.started&&this.stop(),this.noise=e.audiocontext.createBufferSource(),this.noise.buffer=this.buffer,this.noise.loop=!0,this.noise.connect(this.output);var t=e.audiocontext.currentTime;this.noise.start(t),this.started=!0},t.Noise.prototype.stop=function(){var t=e.audiocontext.currentTime;this.noise&&(this.noise.stop(t),this.started=!1)},t.Noise.prototype.dispose=function(){var t=e.audiocontext.currentTime;this.noise&&(this.noise.disconnect(),this.stop(t)),this.output&&this.output.disconnect(),this.panner&&this.panner.disconnect(),this.output=null,this.panner=null,this.buffer=null,this.noise=null}}(i);var S;S=function(){"use strict";var e=i;t.AudioIn=function(){this.input=e.audiocontext.createGain(),this.output=e.audiocontext.createGain(),this.stream=null,this.mediaStream=null,this.currentSource=0,this.enabled=!1,this.amplitude=new t.Amplitude,this.output.connect(this.amplitude.input),"undefined"==typeof window.MediaStreamTrack?window.alert("This browser does not support MediaStreamTrack"):"undefined"!=typeof window.MediaStreamTrack.getSources&&window.MediaStreamTrack.getSources(this._gotSources),e.soundArray.push(this)},t.AudioIn.prototype.start=function(){var t=this;if(e.inputSources[t.currentSource]){var i=e.inputSources[t.currentSource].id,o={audio:{optional:[{sourceId:i}]}};navigator.getUserMedia(o,this._onStream=function(i){t.stream=i,t.enabled=!0,t.mediaStream=e.audiocontext.createMediaStreamSource(i),t.mediaStream.connect(t.output),t.amplitude.setInput(t.output)},this._onStreamError=function(t){console.error(t)})}else window.navigator.getUserMedia({audio:!0},this._onStream=function(i){t.stream=i,t.enabled=!0,t.mediaStream=e.audiocontext.createMediaStreamSource(i),t.mediaStream.connect(t.output),t.amplitude.setInput(t.output)},this._onStreamError=function(t){console.error(t)})},t.AudioIn.prototype.stop=function(){this.stream&&this.stream.stop()},t.AudioIn.prototype.connect=function(t){t?t.hasOwnProperty("input")?this.output.connect(t.input):t.hasOwnProperty("analyser")?this.output.connect(t.analyser):this.output.connect(t):this.output.connect(e.input)},t.AudioIn.prototype.disconnect=function(t){this.output.disconnect(t),this.output.connect(this.amplitude.input)},t.AudioIn.prototype.getLevel=function(t){return t&&(this.amplitude.smoothing=t),this.amplitude.getLevel()},t.AudioIn.prototype._gotSources=function(t){for(var i=0;i!==t.length;i++){var o=t[i];"audio"===o.kind&&e.inputSources.push(o)}},t.AudioIn.prototype.amp=function(t,i){if(i){var o=i||0,n=this.output.gain.value;this.output.gain.cancelScheduledValues(e.audiocontext.currentTime),this.output.gain.setValueAtTime(n,e.audiocontext.currentTime),this.output.gain.linearRampToValueAtTime(t,o+e.audiocontext.currentTime)}else this.output.gain.cancelScheduledValues(e.audiocontext.currentTime),this.output.gain.setValueAtTime(t,e.audiocontext.currentTime)},t.AudioIn.prototype.listSources=function(){return console.log("input sources: "),console.log(e.inputSources),e.inputSources.length>0?e.inputSources:"This browser does not support MediaStreamTrack.getSources()"},t.AudioIn.prototype.setSource=function(t){var i=this;e.inputSources.length>0&&t<e.inputSources.length?(i.currentSource=t,console.log("set source to "+e.inputSources[i.currentSource].id)):console.log("unable to set input source")},t.AudioIn.prototype.dispose=function(){this.stop(),this.output&&this.output.disconnect(),this.amplitude&&this.amplitude.disconnect(),this.amplitude=null,this.output=null}}(i);var _;_=function(){"use strict";var e=i;t.Filter=function(t){this.ac=e.audiocontext,this.input=this.ac.createGain(),this.output=this.ac.createGain(),this.biquad=this.ac.createBiquadFilter(),this.input.connect(this.biquad),this.biquad.connect(this.output),this.connect(),t&&this.setType(t)},t.Filter.prototype.process=function(t,e,i){t.connect(this.input),this.set(e,i)},t.Filter.prototype.set=function(t,e,i){t&&this.freq(t,i),e&&this.res(e,i)},t.Filter.prototype.freq=function(t,e){var i=this,o=e||0;return 0>=t&&(t=1),"number"==typeof t?(i.biquad.frequency.value=t,i.biquad.frequency.cancelScheduledValues(this.ac.currentTime+.01+o),i.biquad.frequency.exponentialRampToValueAtTime(t,this.ac.currentTime+.02+o)):t&&t.connect(this.biquad.frequency),i.biquad.frequency.value},t.Filter.prototype.res=function(t,e){var i=this,o=e||0;return"number"==typeof t?(i.biquad.Q.value=t,i.biquad.Q.cancelScheduledValues(i.ac.currentTime+.01+o),i.biquad.Q.linearRampToValueAtTime(t,i.ac.currentTime+.02+o)):t&&freq.connect(this.biquad.Q),i.biquad.Q.value},t.Filter.prototype.setType=function(t){this.biquad.type=t},t.Filter.prototype.amp=function(t,i,o){var i=i||0,o=o||0,n=e.audiocontext.currentTime,s=this.output.gain.value;this.output.gain.cancelScheduledValues(n),this.output.gain.linearRampToValueAtTime(s,n+o+.001),this.output.gain.linearRampToValueAtTime(t,n+o+i+.001)},t.Filter.prototype.connect=function(e){var i=e||t.soundOut.input;this.output.connect(i)},t.Filter.prototype.disconnect=function(){this.output.disconnect()},t.LowPass=function(){t.Filter.call(this,"lowpass")},t.LowPass.prototype=Object.create(t.Filter.prototype),t.HighPass=function(){t.Filter.call(this,"highpass")},t.HighPass.prototype=Object.create(t.Filter.prototype),t.BandPass=function(){t.Filter.call(this,"bandpass")},t.BandPass.prototype=Object.create(t.Filter.prototype)}(i);var w;w=function(){"use strict";var e=i;t.Delay=function(){this.ac=e.audiocontext,this.input=this.ac.createGain(),this.output=this.ac.createGain(),this._split=this.ac.createChannelSplitter(2),this._merge=this.ac.createChannelMerger(2),this._leftGain=this.ac.createGain(),this._rightGain=this.ac.createGain(),this.leftDelay=this.ac.createDelay(),this.rightDelay=this.ac.createDelay(),this._leftFilter=new t.Filter,this._rightFilter=new t.Filter,this._leftFilter.disconnect(),this._rightFilter.disconnect(),this.lowPass=this._leftFilter,this._leftFilter.biquad.frequency.setValueAtTime(1200,this.ac.currentTime),this._rightFilter.biquad.frequency.setValueAtTime(1200,this.ac.currentTime),this._leftFilter.biquad.Q.setValueAtTime(.3,this.ac.currentTime),this._rightFilter.biquad.Q.setValueAtTime(.3,this.ac.currentTime),this.input.connect(this._split),this.leftDelay.connect(this._leftGain),this.rightDelay.connect(this._rightGain),this._leftGain.connect(this._leftFilter.input),this._rightGain.connect(this._rightFilter.input),this._merge.connect(this.output),this.output.connect(t.soundOut.input),this._leftFilter.biquad.gain.setValueAtTime(1,this.ac.currentTime),this._rightFilter.biquad.gain.setValueAtTime(1,this.ac.currentTime),this.setType(0),this._maxDelay=this.leftDelay.delayTime.maxValue},t.Delay.prototype.process=function(t,e,i,o){var n=i||0,s=e||0;if(n>=1)throw new Error("Feedback value will force a positive feedback loop.");if(s>=this._maxDelay)throw new Error("Delay Time exceeds maximum delay time of "+this._maxDelay+" second.");t.connect(this.input),this.leftDelay.delayTime.setValueAtTime(s,this.ac.currentTime),this.rightDelay.delayTime.setValueAtTime(s,this.ac.currentTime),this._leftGain.gain.setValueAtTime(n,this.ac.currentTime),this._rightGain.gain.setValueAtTime(n,this.ac.currentTime),o&&(this._leftFilter.freq(o),this._rightFilter.freq(o))},t.Delay.prototype.delayTime=function(t){"number"!=typeof t?(t.connect(this.leftDelay.delayTime),t.connect(this.rightDelay.delayTime)):(this.leftDelay.delayTime.cancelScheduledValues(this.ac.currentTime),this.rightDelay.delayTime.cancelScheduledValues(this.ac.currentTime),this.leftDelay.delayTime.linearRampToValueAtTime(t,this.ac.currentTime),this.rightDelay.delayTime.linearRampToValueAtTime(t,this.ac.currentTime))},t.Delay.prototype.feedback=function(t){if("number"!=typeof t)t.connect(this._leftGain.gain),t.connect(this._rightGain.gain);else{if(t>=1)throw new Error("Feedback value will force a positive feedback loop.");this._leftGain.gain.exponentialRampToValueAtTime(t,this.ac.currentTime),this._rightGain.gain.exponentialRampToValueAtTime(t,this.ac.currentTime)}},t.Delay.prototype.filter=function(t,e){this._leftFilter.set(t,e),this._rightFilter.set(t,e)},t.Delay.prototype.setType=function(t){switch(1===t&&(t="pingPong"),this._split.disconnect(),this._leftFilter.disconnect(),this._rightFilter.disconnect(),this._split.connect(this.leftDelay,0),this._split.connect(this.rightDelay,1),t){case"pingPong":this._rightFilter.setType(this._leftFilter.biquad.type),this._leftFilter.output.connect(this._merge,0,0),this._rightFilter.output.connect(this._merge,0,1),this._leftFilter.output.connect(this.rightDelay),this._rightFilter.output.connect(this.leftDelay);break;default:this._leftFilter.output.connect(this._merge,0,0),this._leftFilter.output.connect(this._merge,0,1),this._leftFilter.output.connect(this.leftDelay),this._leftFilter.output.connect(this.rightDelay)}},t.Delay.prototype.amp=function(t,i,o){var i=i||0,o=o||0,n=e.audiocontext.currentTime,s=this.output.gain.value;this.output.gain.cancelScheduledValues(n),this.output.gain.linearRampToValueAtTime(s,n+o+.001),this.output.gain.linearRampToValueAtTime(t,n+o+i+.001)},t.Delay.prototype.connect=function(e){var i=e||t.soundOut.input;this.output.connect(i)},t.Delay.prototype.disconnect=function(){this.output.disconnect()}}(i,_);var A;A=function(){"use strict";var e=i;t.Reverb=function(){this.ac=e.audiocontext,this.convolverNode=this.ac.createConvolver(),this.input=this.ac.createGain(),this.output=this.ac.createGain(),this.input.gain.value=.5,this.input.connect(this.convolverNode),this.convolverNode.connect(this.output),this._seconds=3,this._decay=2,this._reverse=!1,this._buildImpulse(),this.connect(),e.soundArray.push(this)},t.Reverb.prototype.process=function(t,e,i,o){t.connect(this.input);var n=!1;e&&(this._seconds=e,n=!0),i&&(this._decay=i),o&&(this._reverse=o),n&&this._buildImpulse()},t.Reverb.prototype.set=function(t,e,i){var o=!1;t&&(this._seconds=t,o=!0),e&&(this._decay=e),i&&(this._reverse=i),o&&this._buildImpulse()},t.Reverb.prototype.amp=function(t,i,o){var i=i||0,o=o||0,n=e.audiocontext.currentTime,s=this.output.gain.value;this.output.gain.cancelScheduledValues(n),this.output.gain.linearRampToValueAtTime(s,n+o+.001),this.output.gain.linearRampToValueAtTime(t,n+o+i+.001)},t.Reverb.prototype.connect=function(e){var i=e||t.soundOut.input;this.output.connect(i.input?i.input:i)},t.Reverb.prototype.disconnect=function(){this.output.disconnect()},t.Reverb.prototype._buildImpulse=function(){var t,e,i=this.ac.sampleRate,o=i*this._seconds,n=this._decay,s=this.ac.createBuffer(2,o,i),r=s.getChannelData(0),a=s.getChannelData(1);for(e=0;o>e;e++)t=this.reverse?o-e:e,r[e]=(2*Math.random()-1)*Math.pow(1-t/o,n),a[e]=(2*Math.random()-1)*Math.pow(1-t/o,n);this.convolverNode.buffer=s},t.Reverb.prototype.dispose=function(){this.convolverNode.buffer=null,this.convolverNode=null,"undefined"!=typeof this.output&&(this.output.disconnect(),this.output=null),"undefined"!=typeof this.panner&&(this.panner.disconnect(),this.panner=null)},t.Convolver=function(t,i){this.ac=e.audiocontext,this.convolverNode=this.ac.createConvolver(),this.input=this.ac.createGain(),this.output=this.ac.createGain(),this.input.gain.value=.5,this.input.connect(this.convolverNode),this.convolverNode.connect(this.output),t?(this.impulses=[],this._loadBuffer(t,i)):(this._seconds=3,this._decay=2,this._reverse=!1,this._buildImpulse()),this.connect(),e.soundArray.push(this)},t.Convolver.prototype=Object.create(t.Reverb.prototype),t.prototype.registerPreloadMethod("createConvolver"),t.prototype.createConvolver=function(e,i){window.location.origin.indexOf("file://")>-1&&alert("This sketch may require a server to load external files. Please see http://bit.ly/1qcInwS");var o=new t.Convolver(e,i);return o.impulses=[],o},t.Convolver.prototype._loadBuffer=function(e,i){e=t.prototype._checkFileFormats(e);var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="arraybuffer";var n=this;o.onload=function(){var s=t.prototype.getAudioContext();s.decodeAudioData(o.response,function(t){var o={},s=e.split("/");o.name=s[s.length-1],o.audioBuffer=t,n.impulses.push(o),n.convolverNode.buffer=o.audioBuffer,i&&i(o)})},o.send()},t.Convolver.prototype.set=null,t.Convolver.prototype.process=function(t){t.connect(this.input)},t.Convolver.prototype.impulses=[],t.Convolver.prototype.addImpulse=function(t,e){window.location.origin.indexOf("file://")>-1&&alert("This sketch may require a server to load external files. Please see http://bit.ly/1qcInwS"),this._loadBuffer(t,e)},t.Convolver.prototype.resetImpulse=function(t,e){window.location.origin.indexOf("file://")>-1&&alert("This sketch may require a server to load external files. Please see http://bit.ly/1qcInwS"),this.impulses=[],this._loadBuffer(t,e)},t.Convolver.prototype.toggleImpulse=function(t){if("number"==typeof t&&t<this.impulses.length&&(this.convolverNode.buffer=this.impulses[t].audioBuffer),"string"==typeof t)for(var e=0;e<this.impulses.length;e++)if(this.impulses[e].name===t){this.convolverNode.buffer=this.impulses[e].audioBuffer;break}},t.Convolver.prototype.dispose=function(){for(var t in this.impulses)this.impulses[t]=null;this.convolverNode.disconnect(),this.concolverNode=null,"undefined"!=typeof this.output&&(this.output.disconnect(),this.output=null),"undefined"!=typeof this.panner&&(this.panner.disconnect(),this.panner=null)}}(i,e);var b;b=function(t){"use strict";return t.Clock=function(e,i){this._oscillator=null,this._jsNode=this.context.createScriptProcessor(this.bufferSize,1,1),this._jsNode.onaudioprocess=this._processBuffer.bind(this),this._controlSignal=new t.Signal(1),this._upTick=!1,this.tick=this.defaultArg(i,function(){}),this._jsNode.noGC(),this.setRate(e)},t.extend(t.Clock),t.Clock.prototype.setRate=function(t,e){var i=this.secondsToFrequency(this.toSeconds(t));e?this._controlSignal.exponentialRampToValueNow(i,e):(this._controlSignal.cancelScheduledValues(0),this._controlSignal.setValue(i))},t.Clock.prototype.getRate=function(){return this._controlSignal.getValue()},t.Clock.prototype.start=function(t){this._oscillator=this.context.createOscillator(),this._oscillator.type="square",this._oscillator.connect(this._jsNode),this._controlSignal.connect(this._oscillator.frequency),this._upTick=!1;var e=this.toSeconds(t);this._oscillator.start(e),this._oscillator.onended=function(){}},t.Clock.prototype.stop=function(t,e){var i=this.toSeconds(t);this._oscillator.onended=e,this._oscillator.stop(i)},t.Clock.prototype._processBuffer=function(t){for(var e=this.defaultArg(t.playbackTime,this.now()),i=this._jsNode.bufferSize,o=t.inputBuffer.getChannelData(0),n=this._upTick,s=this,r=0;i>r;r++){var a=o[r];a>0&&!n?(n=!0,setTimeout(function(){var t=e+s.samplesToSeconds(r+2*i);return function(){s.tick(t)}}(),0)):0>a&&n&&(n=!1)}this._upTick=n},t.Clock.prototype.dispose=function(){this._jsNode.disconnect(),this._controlSignal.dispose(),this._oscillator&&(this._oscillator.onended(),this._oscillator.disconnect()),this._jsNode.onaudioprocess=function(){},this._jsNode=null,this._controlSignal=null,this._oscillator=null},t.Clock}(u);var x;x=function(){"use strict";var e=i,o=b,n=e.audiocontext;t.Metro=function(){this.clock=new o(n.sampleRate,this.ontick.bind(this)),this.syncedParts=[],this.bpm=120,this._init(),this.tickCallback=function(){}};var s=0,r=0;t.Metro.prototype.ontick=function(t){var i=t-s,o=t-e.audiocontext.currentTime;if(!(-.02>=i-r)){s=t;for(var n in this.syncedParts){var a=this.syncedParts[n];a.incrementStep(o);for(var u in a.phrases){var c=a.phrases[u],h=c.sequence,p=this.metroTicks%h.length;0!==h[p]&&(this.metroTicks<h.length||!c.looping)&&c.callback(h[p],o)}}this.metroTicks+=1,this.tickCallback(o)}},t.Metro.prototype.setBPM=function(t,i){var o=60/(t*this.tatums);r=o;this.clock.setRate(o,i+e.audiocontext.currentTime),this.bpm=t},t.Metro.prototype.getBPM=function(t){return this.clock.getRate()/this.tatums*60},t.Metro.prototype._init=function(){this.metroTicks=0},t.Metro.prototype.resetSync=function(t){this.syncedParts=[t]},t.Metro.prototype.pushSync=function(t){this.syncedParts.push(t)},t.Metro.prototype.start=function(t){var e=t||0;this.clock.start(e),this.setBPM(this.bpm)},t.Metro.prototype.stop=function(t){var e=t||0;this.clock._oscillator&&this.clock.stop(e)},t.Metro.prototype.beatLength=function(t){this.tatums=1/t/4}}(i,b);var P;P=function(){"use strict";function e(t){t.currentPart++,t.currentPart>=t.parts.length?(t.scoreStep=0,t.onended()):(t.scoreStep=0,t.parts[t.currentPart-1].stop(),t.parts[t.currentPart].start())}var o=i,n=120;t.prototype.setBPM=function(t,e){n=t;for(var i in o.parts)o.parts[i].setBPM(n,e)},t.Phrase=function(t,e,i){this.phraseStep=0,this.name=t,this.callback=e,this.sequence=i},t.Part=function(e,i){this.length=e||0,this.partStep=0,this.phrases=[],this.looping=!1,this.isPlaying=!1,this.onended=function(){this.stop()},this.tatums=i||.0625,this.metro=new t.Metro,this.metro._init(),this.metro.beatLength(this.tatums),this.metro.setBPM(n),o.parts.push(this),this.callback=function(){}},t.Part.prototype.setBPM=function(t,e){this.metro.setBPM(t,e)},t.Part.prototype.getBPM=function(){return this.metro.getBPM()},t.Part.prototype.start=function(t){if(!this.isPlaying){this.isPlaying=!0,this.metro.resetSync(this);var e=t||0;this.metro.start(e)}},t.Part.prototype.loop=function(t){this.looping=!0,this.onended=function(){this.partStep=0};var e=t||0;this.start(e)},t.Part.prototype.noLoop=function(){this.looping=!1,this.onended=function(){this.stop()}},t.Part.prototype.stop=function(t){this.partStep=0,this.pause(t)},t.Part.prototype.pause=function(t){this.isPlaying=!1;var e=t||0;this.metro.stop(e)},t.Part.prototype.addPhrase=function(e,i,o){var n;if(3===arguments.length)n=new t.Phrase(e,i,o);else{if(!(arguments[0]instanceof t.Phrase))throw"invalid input. addPhrase accepts name, callback, array or a p5.Phrase";n=arguments[0]}this.phrases.push(n),n.sequence.length>this.length&&(this.length=n.sequence.length)},t.Part.prototype.removePhrase=function(t){for(var e in this.phrases)this.phrases[e].name===t&&this.phrases.split(e,1)},t.Part.prototype.getPhrase=function(t){
for(var e in this.phrases)if(this.phrases[e].name===t)return this.phrases[e]},t.Part.prototype.replaceSequence=function(t,e){for(var i in this.phrases)this.phrases[i].name===t&&(this.phrases[i].sequence=e)},t.Part.prototype.incrementStep=function(t){this.partStep<this.length-1?(this.callback(t),this.partStep+=1):(this.looping&&this.callback(t),this.onended(),this.partStep=0)},t.Part.prototype.onStep=function(t){this.callback=t},t.Score=function(){this.parts=[],this.currentPart=0;var t=this;for(var i in arguments)this.parts[i]=arguments[i],this.parts[i].nextPart=this.parts[i+1],this.parts[i].onended=function(){t.resetPart(i),e(t)};this.looping=!1},t.Score.prototype.onended=function(){this.looping?this.parts[0].start():this.parts[this.parts.length-1].onended=function(){this.stop(),this.resetParts()},this.currentPart=0},t.Score.prototype.start=function(){this.parts[this.currentPart].start(),this.scoreStep=0},t.Score.prototype.stop=function(){this.parts[this.currentPart].stop(),this.currentPart=0,this.scoreStep=0},t.Score.prototype.pause=function(){this.parts[this.currentPart].stop()},t.Score.prototype.loop=function(){this.looping=!0,this.start()},t.Score.prototype.noLoop=function(){this.looping=!1},t.Score.prototype.resetParts=function(){for(var t in this.parts)this.resetPart(t)},t.Score.prototype.resetPart=function(t){this.parts[t].stop(),this.parts[t].partStep=0;for(var e in this.parts[t].phrases)this.parts[t].phrases[e].phraseStep=0},t.Score.prototype.setBPM=function(t,e){for(var i in this.parts)this.parts[i].setBPM(t,e)}}(i);var O;O=function(){"use strict";function e(t,e){for(var i=t.length+e.length,o=new Float32Array(i),n=0,s=0;i>s;)o[s++]=t[n],o[s++]=e[n],n++;return o}function o(t,e,i){for(var o=i.length,n=0;o>n;n++)t.setUint8(e+n,i.charCodeAt(n))}var n=i,s=n.audiocontext;t.SoundRecorder=function(){this.input=s.createGain(),this.output=s.createGain(),this.recording=!1,this.bufferSize=4096,this._channels=2,this._clear(),this._jsNode=s.createScriptProcessor(this.bufferSize,this._channels,2),this._jsNode.onaudioprocess=this._audioprocess.bind(this),this._callback=function(){},this._jsNode.connect(t.soundOut._silentNode),this.setInput(),n.soundArray.push(this)},t.SoundRecorder.prototype.setInput=function(e){this.input.disconnect(),this.input=null,this.input=s.createGain(),this.input.connect(this._jsNode),this.input.connect(this.output),e?e.connect(this.input):t.soundOut.output.connect(this.input)},t.SoundRecorder.prototype.record=function(t,e,i){this.recording=!0,e&&(this.sampleLimit=Math.round(e*s.sampleRate)),t&&i?this._callback=function(){this.buffer=this._getBuffer(),t.setBuffer(this.buffer),i()}:t&&(this._callback=function(){this.buffer=this._getBuffer(),t.setBuffer(this.buffer)})},t.SoundRecorder.prototype.stop=function(){this.recording=!1,this._callback(),this._clear()},t.SoundRecorder.prototype._clear=function(){this._leftBuffers=[],this._rightBuffers=[],this.recordedSamples=0,this.sampleLimit=null},t.SoundRecorder.prototype._audioprocess=function(t){if(this.recording!==!1&&this.recording===!0)if(this.sampleLimit&&this.recordedSamples>=this.sampleLimit)this.stop();else{var e=t.inputBuffer.getChannelData(0),i=t.inputBuffer.getChannelData(1);this._leftBuffers.push(new Float32Array(e)),this._rightBuffers.push(new Float32Array(i)),this.recordedSamples+=this.bufferSize}},t.SoundRecorder.prototype._getBuffer=function(){var t=[];return t.push(this._mergeBuffers(this._leftBuffers)),t.push(this._mergeBuffers(this._rightBuffers)),t},t.SoundRecorder.prototype._mergeBuffers=function(t){for(var e=new Float32Array(this.recordedSamples),i=0,o=t.length,n=0;o>n;n++){var s=t[n];e.set(s,i),i+=s.length}return e},t.SoundRecorder.prototype.dispose=function(){this._clear(),this._callback=function(){},this.input&&this.input.disconnect(),this.input=null,this._jsNode=null},t.prototype.saveSound=function(i,n){var s=i.buffer.getChannelData(0),r=i.buffer.getChannelData(1),a=e(s,r),u=new ArrayBuffer(44+2*a.length),c=new DataView(u);o(c,0,"RIFF"),c.setUint32(4,44+2*a.length,!0),o(c,8,"WAVE"),o(c,12,"fmt "),c.setUint32(16,16,!0),c.setUint16(20,1,!0),c.setUint16(22,2,!0),c.setUint32(24,44100,!0),c.setUint32(28,176400,!0),c.setUint16(32,4,!0),c.setUint16(34,16,!0),o(c,36,"data"),c.setUint32(40,2*a.length,!0);for(var h=a.length,p=44,l=1,d=0;h>d;d++)c.setInt16(p,32767*a[d]*l,!0),p+=2;t.prototype.writeFile([c],n,"wav")}}(e,i);var F;F=function(){"use strict";var t=e;return t}(e,i,o,n,s,r,a,y,m,v,g,T,S,_,w,A,x,P,O)});
;!function(){"use strict";function n(n){for(var t=n.length,e={0:0},r=0;t>r;r++)n[r]&&(e[n[r].charCodeAt(0)]=r);return e}function t(n){for(var t,e,r=n.length,o={},i=0;r>i;i++)t=n[i][0].charCodeAt(0),e=n[i][1].charCodeAt(0),"undefined"==typeof o[t]&&(o[t]={}),o[t][e]=n[i][2].charCodeAt(0);return o}function e(n){return a[n]}function r(n){return"undefined"!=typeof s[n]}function o(n){return"undefined"!=typeof h[n]}function i(n){return"undefined"!=typeof p[n]}function f(n){return n>=44032&&55203>=n}function u(n,t){return g[n]&&g[n][t]?g[n][t]:!1}function c(n,t){return C[n]&&C[n][t]?C[n][t]:!1}function d(n){this.string=n,this.disassembled=H(n).join("")}var a,s,h,p,C,g,y=["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],A=["ㅏ","ㅐ","ㅑ","ㅒ","ㅓ","ㅔ","ㅕ","ㅖ","ㅗ",["ㅗ","ㅏ"],["ㅗ","ㅐ"],["ㅗ","ㅣ"],"ㅛ","ㅜ",["ㅜ","ㅓ"],["ㅜ","ㅔ"],["ㅜ","ㅣ"],"ㅠ","ㅡ",["ㅡ","ㅣ"],"ㅣ"],l=["","ㄱ","ㄲ",["ㄱ","ㅅ"],"ㄴ",["ㄴ","ㅈ"],["ㄴ","ㅎ"],"ㄷ","ㄹ",["ㄹ","ㄱ"],["ㄹ","ㅁ"],["ㄹ","ㅂ"],["ㄹ","ㅅ"],["ㄹ","ㅌ"],["ㄹ","ㅍ"],["ㄹ","ㅎ"],"ㅁ","ㅂ",["ㅂ","ㅅ"],"ㅅ","ㅆ","ㅇ","ㅈ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],v=44032,m=["ㄱ","ㄲ","ㄳ","ㄴ","ㄵ","ㄶ","ㄷ","ㄸ","ㄹ","ㄺ","ㄻ","ㄼ","ㄽ","ㄾ","ㄿ","ㅀ","ㅁ","ㅂ","ㅃ","ㅄ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],j=["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],b=["ㅏ","ㅐ","ㅑ","ㅒ","ㅓ","ㅔ","ㅕ","ㅖ","ㅗ","ㅘ","ㅙ","ㅚ","ㅛ","ㅜ","ㅝ","ㅞ","ㅟ","ㅠ","ㅡ","ㅢ","ㅣ"],S=["","ㄱ","ㄲ","ㄳ","ㄴ","ㄵ","ㄶ","ㄷ","ㄹ","ㄺ","ㄻ","ㄼ","ㄽ","ㄾ","ㄿ","ㅀ","ㅁ","ㅂ","ㅄ","ㅅ","ㅆ","ㅇ","ㅈ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],w=[["ㄱ","ㅅ","ㄳ"],["ㄴ","ㅈ","ㄵ"],["ㄴ","ㅎ","ㄶ"],["ㄹ","ㄱ","ㄺ"],["ㄹ","ㅁ","ㄻ"],["ㄹ","ㅂ","ㄼ"],["ㄹ","ㅅ","ㄽ"],["ㄹ","ㅌ","ㄾ"],["ㄹ","ㅍ","ㄿ"],["ㄹ","ㅎ","ㅀ"],["ㅂ","ㅅ","ㅄ"]],x=[["ㅗ","ㅏ","ㅘ"],["ㅗ","ㅐ","ㅙ"],["ㅗ","ㅣ","ㅚ"],["ㅜ","ㅓ","ㅝ"],["ㅜ","ㅔ","ㅞ"],["ㅜ","ㅣ","ㅟ"],["ㅡ","ㅣ","ㅢ"]];a=n(m),s=n(j),h=n(b),p=n(S),C=t(w),g=t(x);var H=function(n){"object"==typeof n&&(n=n.join(""));for(var t,i,u,c,d,a=[],C=n.length,g=0;C>g;g++)c=n.charCodeAt(g),f(c)?(c-=v,u=c%28,i=(c-u)/28%21,t=parseInt((c-u)/28/21),a.push(y[t]),"object"==typeof A[i]?a=a.concat(A[i]):a.push(A[i]),u>0&&("object"==typeof l[u]?a=a.concat(l[u]):a.push(l[u]))):e(c)?(d=r(c)?y[s[c]]:l[p[c]],"string"==typeof d?a.push(d):a=a.concat(d)):o(c)?(d=A[h[c]],"string"==typeof d?a.push(d):a=a.concat(d)):a.push(n.charAt(g));return a},O=function(n){function t(t){var e,i,f,a,C=0,y="";if(!(g+1>t))for(var A=1;;A++){if(1===A){if(e=n[g+A].charCodeAt(0),o(e))return t>=g+A+1&&o(i=n[g+A+1].charCodeAt(0))?(d.push(String.fromCharCode(u(e,i))),void(g=t)):(d.push(n[g+A]),void(g=t));if(!r(e))return d.push(n[g+A]),void(g=t);y=n[g+A]}else if(2===A){if(i=n[g+A].charCodeAt(0),r(i))return e=c(e,i),y=String.fromCharCode(e),d.push(y),void(g=t);y=String.fromCharCode(28*(21*s[e]+h[i])+v)}else 3===A?(f=n[g+A].charCodeAt(0),u(i,f)?i=u(i,f):C=f,y=String.fromCharCode(28*(21*s[e]+h[i])+p[C]+v)):4===A?(a=n[g+A].charCodeAt(0),C=c(C,a)?c(C,a):a,y=String.fromCharCode(28*(21*s[e]+h[i])+p[C]+v)):5===A&&(a=n[g+A].charCodeAt(0),C=c(C,a),y=String.fromCharCode(28*(21*s[e]+h[i])+p[C]+v));if(g+A>=t)return d.push(y),void(g=t)}}"string"==typeof n&&(n=H(n));for(var e,f,d=[],a=n.length,C=0,g=-1,y=0;a>y;y++)e=n[y].charCodeAt(0),r(e)||o(e)||i(e)?(0===C?r(e)?C=1:o(e)&&(C=4):1==C?o(e)?C=2:c(f,e)?C=5:t(y-1):2==C?i(e)?C=3:o(e)?u(f,e)||(t(y-1),C=4):(t(y-1),C=1):3==C?i(e)?c(f,e)||(t(y-1),C=1):r(e)?(t(y-1),C=1):o(e)&&(t(y-2),C=2):4==C?o(e)?u(f,e)?(t(y),C=0):t(y-1):(t(y-1),C=1):5==C&&(o(e)?(t(y-2),C=2):(t(y-1),C=1)),f=e):(t(y-1),t(y),C=0);return t(y-1),d.join("")},I=function(n,t){var e=H(n).join(""),r=H(t).join("");return e.indexOf(r)};d.prototype.search=function(n){return H(n).join("").indexOf(this.disassembled)};var J=function(n){"object"==typeof n&&(n=n.join(""));var t=n.charCodeAt(n.length-1);if(f(t)){t-=v;var r=t%28;if(r>0)return!0}else if("undefined"!=typeof e(t))return!0;return!1},V={disassemble:H,assemble:O,search:I,Searcher:d,endsWithConsonant:J,isHangul:function(n){return"string"==typeof n&&(n=n.charCodeAt(0)),f(n)},isConsonant:function(n){return"string"==typeof n&&(n=n.charCodeAt(0)),"undefined"!=typeof e(n)},isVowel:function(n){return"string"==typeof n&&(n=n.charCodeAt(0)),o(n)},isCho:function(n){return"string"==typeof n&&(n=n.charCodeAt(0)),r(n)},isJong:function(n){return"string"==typeof n&&(n=n.charCodeAt(0)),i(n)}};"function"==typeof define&&define.amd?define(function(){return V}):"undefined"!=typeof module?module.exports=V:window.Hangul=V}();
;Polymer.IronFitBehavior={properties:{sizingTarget:{type:Object,value:function(){return this}},fitInto:{type:Object,value:window},autoFitOnAttach:{type:Boolean,value:!1},_fitInfo:{type:Object}},get _fitWidth(){var t;return t=this.fitInto===window?this.fitInto.innerWidth:this.fitInto.getBoundingClientRect().width},get _fitHeight(){var t;return t=this.fitInto===window?this.fitInto.innerHeight:this.fitInto.getBoundingClientRect().height},attached:function(){this.autoFitOnAttach&&("none"===window.getComputedStyle(this).display?setTimeout(function(){this.fit()}.bind(this)):this.fit())},fit:function(){this._discoverInfo(),this.constrain(),this.center()},_discoverInfo:function(){if(!this._fitInfo){var t=window.getComputedStyle(this),i=window.getComputedStyle(this.sizingTarget);this._fitInfo={positionedBy:{vertically:"auto"!==t.top?"top":"auto"!==t.bottom?"bottom":null,horizontally:"auto"!==t.left?"left":"auto"!==t.right?"right":null,css:t.position},sizedBy:{height:"none"!==i.maxHeight,width:"none"!==i.maxWidth},margin:{top:parseInt(t.marginTop,10)||0,right:parseInt(t.marginRight,10)||0,bottom:parseInt(t.marginBottom,10)||0,left:parseInt(t.marginLeft,10)||0}}}},resetFit:function(){this._fitInfo&&this._fitInfo.sizedBy.height||(this.sizingTarget.style.maxHeight="",this.style.top=""),this._fitInfo&&this._fitInfo.sizedBy.width||(this.sizingTarget.style.maxWidth="",this.style.left=""),this._fitInfo&&(this.style.position=this._fitInfo.positionedBy.css),this._fitInfo=null},refit:function(){this.resetFit(),this.fit()},constrain:function(){var t=this._fitInfo;this._fitInfo.positionedBy.vertically||(this.style.top="0px"),this._fitInfo.positionedBy.horizontally||(this.style.left="0px"),this.sizingTarget.style.boxSizing="border-box";var i=this.getBoundingClientRect();t.sizedBy.height||this._sizeDimension(i,t.positionedBy.vertically,"top","bottom","Height"),t.sizedBy.width||this._sizeDimension(i,t.positionedBy.horizontally,"left","right","Width")},_sizeDimension:function(t,i,n,o,e){var s=this._fitInfo,h="Width"===e?this._fitWidth:this._fitHeight,f=i===o,r=f?h-t[o]:t[n],a=s.margin[f?n:o],l="offset"+e,g=this[l]-this.sizingTarget[l];this.sizingTarget.style["max"+e]=h-a-r-g+"px"},center:function(){if(this._fitInfo.positionedBy.vertically&&this._fitInfo.positionedBy.horizontally||(this.style.position="fixed"),!this._fitInfo.positionedBy.vertically){var t=(this._fitHeight-this.offsetHeight)/2;t-=this._fitInfo.margin.top,this.style.top=t+"px"}if(!this._fitInfo.positionedBy.horizontally){var i=(this._fitWidth-this.offsetWidth)/2;i-=this._fitInfo.margin.left,this.style.left=i+"px"}}};
;Polymer.IronOverlayManager=function(){function n(n){var r=u();f.push(n);var t=u();r>=t&&e(n,r)}function r(n){var r=f.indexOf(n);r>=0&&(f.splice(r,1),t(n,""))}function e(n,r){t(n,r+2)}function t(n,r){n.style.zIndex=r}function a(){return f[f.length-1]}function u(){var n,r=a();if(r){var e=window.getComputedStyle(r).zIndex;isNaN(e)||(n=Number(e))}return n||v}function i(){var n=a();n&&!n.transitioning&&n._applyFocus()}function o(n){if(n.opened)l.push(n);else{var r=l.indexOf(n);r>=0&&l.splice(r,1)}}function c(){return l}var f=[],v=10,l=[];return{addOverlay:n,removeOverlay:r,currentOverlay:a,currentOverlayZ:u,focusOverlay:i,trackBackdrop:o,getBackdrops:c}}();
;Polymer.IronOverlayBehaviorImpl={properties:{opened:{observer:"_openedChanged",type:Boolean,value:!1},canceled:{observer:"_canceledChanged",readOnly:!0,type:Boolean,value:!1},withBackdrop:{type:Boolean,value:!1},noAutoFocus:{type:Boolean,value:!1},noCancelOnEscKey:{type:Boolean,value:!1},noCancelOnOutsideClick:{type:Boolean,value:!1},closingReason:{type:Object},_manager:{type:Object,value:Polymer.IronOverlayManager},_boundOnCaptureClick:{type:Function,value:function(){return this._onCaptureClick.bind(this)}},_boundOnCaptureKeydown:{type:Function,value:function(){return this._onCaptureKeydown.bind(this)}}},listeners:{click:"_onClick","iron-resize":"_onIronResize"},get backdropElement(){return this._backdrop},get _focusNode(){return Polymer.dom(this).querySelector("[autofocus]")||this},registered:function(){this._backdrop=document.createElement("iron-overlay-backdrop")},ready:function(){this._ensureSetup(),this._callOpenedWhenReady&&this._openedChanged()},detached:function(){this.opened=!1,this._completeBackdrop(),this._manager.removeOverlay(this)},toggle:function(){this.opened=!this.opened},open:function(){this.opened=!0,this.closingReason={canceled:!1}},close:function(){this.opened=!1,this._setCanceled(!1)},cancel:function(){this.opened=!1,this._setCanceled(!0)},_ensureSetup:function(){this._overlaySetup||(this._overlaySetup=!0,this.style.outline="none",this.style.display="none")},_openedChanged:function(){return this.opened?this.removeAttribute("aria-hidden"):this.setAttribute("aria-hidden","true"),this._overlaySetup?(this._openChangedAsync&&this.cancelAsync(this._openChangedAsync),this._toggleListeners(),this.opened&&this._prepareRenderOpened(),void(this._openChangedAsync=this.async(function(){this.style.display="",this.offsetWidth,this.opened?this._renderOpened():this._renderClosed(),this._openChangedAsync=null}))):void(this._callOpenedWhenReady=this.opened)},_canceledChanged:function(){this.closingReason=this.closingReason||{},this.closingReason.canceled=this.canceled},_toggleListener:function(e,t,n,i,s){e?t.addEventListener(n,i,s):t.removeEventListener(n,i,s)},_toggleListeners:function(){this._toggleListenersAsync&&this.cancelAsync(this._toggleListenersAsync),this._toggleListenersAsync=this.async(function(){this._toggleListener(this.opened,document,"click",this._boundOnCaptureClick,!0),this._toggleListener(this.opened,document,"keydown",this._boundOnCaptureKeydown,!0),this._toggleListenersAsync=null})},_prepareRenderOpened:function(){this._manager.addOverlay(this),this.withBackdrop&&(this.backdropElement.prepare(),this._manager.trackBackdrop(this)),this._preparePositioning(),this.fit(),this._finishPositioning()},_renderOpened:function(){this.withBackdrop&&this.backdropElement.open(),this._finishRenderOpened()},_renderClosed:function(){this.withBackdrop&&this.backdropElement.close(),this._finishRenderClosed()},_onTransitionend:function(e){e&&e.target!==this||(this.opened?this._finishRenderOpened():this._finishRenderClosed())},_finishRenderOpened:function(){this.noAutoFocus||this._focusNode.focus(),this.withBackdrop&&this.parentNode.insertBefore(this._backdrop,this),this.fire("iron-overlay-opened"),this._squelchNextResize=!0,this.async(this.notifyResize)},_finishRenderClosed:function(){this.resetFit(),this.style.display="none",this._completeBackdrop(),this._manager.removeOverlay(this),this._focusNode.blur(),this._manager.focusOverlay(),this.fire("iron-overlay-closed",this.closingReason),this._squelchNextResize=!0,this.async(this.notifyResize)},_completeBackdrop:function(){this.withBackdrop&&(this._manager.trackBackdrop(this),this.backdropElement.complete())},_preparePositioning:function(){this.style.transition=this.style.webkitTransition="none",this.style.transform=this.style.webkitTransform="none",this.style.display=""},_finishPositioning:function(e){this.style.display="none",this.style.transform=this.style.webkitTransform="",this.offsetWidth,this.style.transition=this.style.webkitTransition=""},_applyFocus:function(){this.opened?this.noAutoFocus||this._focusNode.focus():(this._focusNode.blur(),this._manager.focusOverlay())},_onCaptureClick:function(e){this.noCancelOnOutsideClick||this._manager.currentOverlay()!=this||(this._cancelJob=this.async(function(){this.cancel()},10))},_onClick:function(e){this._cancelJob&&(this.cancelAsync(this._cancelJob),this._cancelJob=null)},_onCaptureKeydown:function(e){var t=27;this.noCancelOnEscKey||e.keyCode!==t||(this.cancel(),e.stopPropagation())},_onIronResize:function(){return this._squelchNextResize?void(this._squelchNextResize=!1):void(this.opened&&this.refit())}},Polymer.IronOverlayBehavior=[Polymer.IronFitBehavior,Polymer.IronResizableBehavior,Polymer.IronOverlayBehaviorImpl];
;!function(e,t,n){function r(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function a(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return p[e.which]?p[e.which]:f[e.which]?f[e.which]:String.fromCharCode(e.which).toLowerCase()}function i(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}function o(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function c(e,t){var n,r,a,i=[];for(n=e,"+"===n?n=["+"]:(n=n.replace(/\+{2}/g,"+plus"),n=n.split("+")),a=0;a<n.length;++a)r=n[a],d[r]&&(r=d[r]),t&&"keypress"!=t&&h[r]&&(r=h[r],i.push("shift")),o(r)&&i.push(r);if(n=r,a=t,!a){if(!u){u={};for(var c in p)c>95&&112>c||p.hasOwnProperty(c)&&(u[p[c]]=c)}a=u[n]?"keydown":"keypress"}return"keypress"==a&&i.length&&(a="keydown"),{key:r,modifiers:i,action:a}}function s(e,n){return e===t?!1:e===n?!0:s(e.parentNode,n)}function l(e){function n(e){e=e||{};var t,n=!1;for(t in m)e[t]?n=!0:m[t]=0;n||(g=!1)}function s(e,t,n,r,a,i){var c,s,l=[],u=n.type;if(!d._callbacks[e])return[];for("keyup"==u&&o(e)&&(t=[e]),c=0;c<d._callbacks[e].length;++c)if(s=d._callbacks[e][c],(r||!s.seq||m[s.seq]==s.level)&&u==s.action){var p;(p="keypress"==u&&!n.metaKey&&!n.ctrlKey)||(p=s.modifiers,p=t.sort().join(",")===p.sort().join(",")),p&&(p=r&&s.seq==r&&s.level==i,(!r&&s.combo==a||p)&&d._callbacks[e].splice(c,1),l.push(s))}return l}function u(e,t,n,r){d.stopCallback(t,t.target||t.srcElement,n,r)||!1!==e(t,n)||(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation?t.stopPropagation():t.cancelBubble=!0)}function p(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t=a(e);t&&("keyup"==e.type&&k===t?k=!1:d.handleKey(t,i(e),e))}function f(e,t,r,i){function o(t){return function(){g=t,++m[e],clearTimeout(y),y=setTimeout(n,1e3)}}function s(t){u(r,t,e),"keyup"!==i&&(k=a(t)),setTimeout(n,10)}for(var l=m[e]=0;l<t.length;++l){var p=l+1===t.length?s:o(i||c(t[l+1]).action);h(t[l],p,i,e,l)}}function h(e,t,n,r,a){d._directMap[e+":"+n]=t,e=e.replace(/\s+/g," ");var i=e.split(" ");1<i.length?f(e,i,t,n):(n=c(e,n),d._callbacks[n.key]=d._callbacks[n.key]||[],s(n.key,n.modifiers,{type:n.action},r,e,a),d._callbacks[n.key][r?"unshift":"push"]({callback:t,modifiers:n.modifiers,action:n.action,seq:r,level:a,combo:e}))}var d=this;if(e=e||t,!(d instanceof l))return new l(e);d.target=e,d._callbacks={},d._directMap={};var y,m={},k=!1,b=!1,g=!1;d._handleKey=function(e,t,r){var a,i=s(e,t,r);t={};var c=0,l=!1;for(a=0;a<i.length;++a)i[a].seq&&(c=Math.max(c,i[a].level));for(a=0;a<i.length;++a)i[a].seq?i[a].level==c&&(l=!0,t[i[a].seq]=1,u(i[a].callback,r,i[a].combo,i[a].seq)):l||u(i[a].callback,r,i[a].combo);i="keypress"==r.type&&b,r.type!=g||o(e)||i||n(t),b=l&&"keydown"==r.type},d._bindMultiple=function(e,t,n){for(var r=0;r<e.length;++r)h(e[r],t,n)},r(e,"keypress",p),r(e,"keydown",p),r(e,"keyup",p)}var u,p={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},f={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},h={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},d={option:"alt",command:"meta","return":"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"};for(n=1;20>n;++n)p[111+n]="f"+n;for(n=0;9>=n;++n)p[n+96]=n;l.prototype.bind=function(e,t,n){return e=e instanceof Array?e:[e],this._bindMultiple.call(this,e,t,n),this},l.prototype.unbind=function(e,t){return this.bind.call(this,e,function(){},t)},l.prototype.trigger=function(e,t){return this._directMap[e+":"+t]&&this._directMap[e+":"+t]({},e),this},l.prototype.reset=function(){return this._callbacks={},this._directMap={},this},l.prototype.stopCallback=function(e,t){return-1<(" "+t.className+" ").indexOf(" mousetrap ")||s(t,this.target)?!1:"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},l.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},l.init=function(){var e,n=l(t);for(e in n)"_"!==e.charAt(0)&&(l[e]=function(e){return function(){return n[e].apply(n,arguments)}}(e))},l.init(),e.Mousetrap=l,"undefined"!=typeof module&&module.exports&&(module.exports=l),"function"==typeof define&&define.amd&&define(function(){return l})}(window,document);
;Polymer({is:"iron-icon",properties:{icon:{type:String,observer:"_iconChanged"},theme:{type:String,observer:"_updateIcon"},src:{type:String,observer:"_srcChanged"}},_DEFAULT_ICONSET:"icons",_iconChanged:function(t){var i=(t||"").split(":");this._iconName=i.pop(),this._iconsetName=i.pop()||this._DEFAULT_ICONSET,this._updateIcon()},_srcChanged:function(t){this._updateIcon()},_usesIconset:function(){return this.icon||!this.src},_updateIcon:function(){this._usesIconset()?this._iconsetName&&(this._iconset=this.$.meta.byKey(this._iconsetName),this._iconset?this._iconset.applyIcon(this,this._iconName,this.theme):this._warn(this._logf("_updateIcon","could not find iconset `"+this._iconsetName+"`, did you import the iconset?"))):(this._img||(this._img=document.createElement("img"),this._img.style.width="100%",this._img.style.height="100%"),this._img.src=this.src,Polymer.dom(this.root).appendChild(this._img))}});
;!function(){"use strict";var t=1,e=2,s={outerScroll:{scroll:!0},shadowMode:{standard:e,waterfall:t,"waterfall-tall":t},tallMode:{"waterfall-tall":!0}};Polymer({is:"paper-header-panel",properties:{mode:{type:String,value:"standard",observer:"_modeChanged",reflectToAttribute:!0},shadow:{type:Boolean,value:!1},tallClass:{type:String,value:"tall"},atTop:{type:Boolean,value:!0,readOnly:!0}},observers:["_computeDropShadowHidden(atTop, mode, shadow)"],ready:function(){this.scrollHandler=this._scroll.bind(this),this._addListener(),this._keepScrollingState()},detached:function(){this._removeListener()},get header(){return Polymer.dom(this.$.headerContent).getDistributedNodes()[0]},get scroller(){return this._getScrollerForMode(this.mode)},get visibleShadow(){return this.header.classList.contains("has-shadow")},_computeDropShadowHidden:function(l,o,a){var r=s.shadowMode[o];this.shadow?this.toggleClass("has-shadow",!0,this.header):r===e?this.toggleClass("has-shadow",!0,this.header):r!==t||l?this.toggleClass("has-shadow",!1,this.header):this.toggleClass("has-shadow",!0,this.header)},_computeMainContainerClass:function(t){var e={};return e.flex="cover"!==t,Object.keys(e).filter(function(t){return e[t]}).join(" ")},_addListener:function(){this.scroller.addEventListener("scroll",this.scrollHandler,!1)},_removeListener:function(){this.scroller.removeEventListener("scroll",this.scrollHandler)},_modeChanged:function(t,e){var l=s,o=this.header,a=200;o&&(l.tallMode[e]&&!l.tallMode[t]?(o.classList.remove(this.tallClass),this.async(function(){o.classList.remove("animate")},null,a)):o.classList.toggle("animate",l.tallMode[t])),this._keepScrollingState()},_keepScrollingState:function(){var t=this.scroller,e=this.header;this._setAtTop(0===t.scrollTop),e&&s.tallMode[this.mode]&&this.toggleClass(this.tallClass,this.atTop||e.classList.contains(this.tallClass)&&t.scrollHeight<this.offsetHeight,e)},_scroll:function(t){this._keepScrollingState(),this.fire("content-scroll",{target:this.scroller},this,!1)},_getScrollerForMode:function(t){return s.outerScroll[t]?this:this.$.mainContainer}})}();
;!function(){"use strict";function e(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&e[i]&&t.push(i);return t.join(" ")}var t=null;Polymer({is:"paper-drawer-panel",properties:{defaultSelected:{type:String,value:"main"},disableEdgeSwipe:{type:Boolean,value:!1},disableSwipe:{type:Boolean,value:!1},dragging:{type:Boolean,value:!1},drawerWidth:{type:String,value:"256px"},edgeSwipeSensitivity:{type:Number,value:30},forceNarrow:{type:Boolean,value:!1},hasTransform:{type:Boolean,value:function(){return"transform"in this.style}},hasWillChange:{type:Boolean,value:function(){return"willChange"in this.style}},narrow:{reflectToAttribute:!0,type:Boolean,value:!1,notify:!0},peeking:{type:Boolean,value:!1},responsiveWidth:{type:String,value:"640px"},rightDrawer:{type:Boolean,value:!1},selected:{reflectToAttribute:!0,type:String,value:null},drawerToggleAttribute:{type:String,value:"paper-drawer-toggle"},transition:{type:Boolean,value:!1}},listeners:{tap:"_onTap",track:"_onTrack",down:"_downHandler",up:"_upHandler"},observers:["_forceNarrowChanged(forceNarrow, defaultSelected)"],togglePanel:function(){this._isMainSelected()?this.openDrawer():this.closeDrawer()},openDrawer:function(){this.selected="drawer"},closeDrawer:function(){this.selected="main"},ready:function(){this.transition=!0},_computeIronSelectorClass:function(t,i,r,n){return e({dragging:r,"narrow-layout":t,"right-drawer":n,"left-drawer":!n,transition:i})},_computeDrawerStyle:function(e){return"width:"+e+";"},_computeMainStyle:function(e,t,i){var r="";return r+="left:"+(e||t?"0":i)+";",r+=t?"right:"+(e?"":i)+";":"right:;"},_computeMediaQuery:function(e,t){return e?"":"(max-width: "+t+")"},_computeSwipeOverlayHidden:function(e,t){return!e||t},_onTrack:function(e){if(!t||this===t)switch(e.detail.state){case"start":this._trackStart(e);break;case"track":this._trackX(e);break;case"end":this._trackEnd(e)}},_responsiveChange:function(e){this.narrow=e,this.narrow&&(this.selected=this.defaultSelected),this.setScrollDirection(this._swipeAllowed()?"y":"all"),this.fire("paper-responsive-change",{narrow:this.narrow})},_onQueryMatchesChanged:function(e){this._responsiveChange(e.detail.value)},_forceNarrowChanged:function(){this._responsiveChange(this.forceNarrow||this.$.mq.queryMatches)},_swipeAllowed:function(){return this.narrow&&!this.disableSwipe},_isMainSelected:function(){return"main"===this.selected},_startEdgePeek:function(){this.width=this.$.drawer.offsetWidth,this._moveDrawer(this._translateXForDeltaX(this.rightDrawer?-this.edgeSwipeSensitivity:this.edgeSwipeSensitivity)),this.peeking=!0},_stopEdgePeek:function(){this.peeking&&(this.peeking=!1,this._moveDrawer(null))},_downHandler:function(e){!this.dragging&&this._isMainSelected()&&this._isEdgeTouch(e)&&!t&&(this._startEdgePeek(),t=this)},_upHandler:function(){this._stopEdgePeek(),t=null},_onTap:function(e){var t=Polymer.dom(e).localTarget,i=t&&this.drawerToggleAttribute&&t.hasAttribute(this.drawerToggleAttribute);i&&this.togglePanel()},_isEdgeTouch:function(e){var t=e.detail.x;return!this.disableEdgeSwipe&&this._swipeAllowed()&&(this.rightDrawer?t>=this.offsetWidth-this.edgeSwipeSensitivity:t<=this.edgeSwipeSensitivity)},_trackStart:function(){this._swipeAllowed()&&(t=this,this.dragging=!0,this._isMainSelected()&&(this.dragging=this.peeking||this._isEdgeTouch(event)),this.dragging&&(this.width=this.$.drawer.offsetWidth,this.transition=!1))},_translateXForDeltaX:function(e){var t=this._isMainSelected();return this.rightDrawer?Math.max(0,t?this.width+e:e):Math.min(0,t?e-this.width:e)},_trackX:function(e){if(this.dragging){var t=e.detail.dx;if(this.peeking){if(Math.abs(t)<=this.edgeSwipeSensitivity)return;this.peeking=!1}this._moveDrawer(this._translateXForDeltaX(t))}},_trackEnd:function(e){if(this.dragging){var i=e.detail.dx>0;this.dragging=!1,this.transition=!0,t=null,this._moveDrawer(null),this.rightDrawer?this[i?"closeDrawer":"openDrawer"]():this[i?"openDrawer":"closeDrawer"]()}},_transformForTranslateX:function(e){return null===e?"":this.hasWillChange?"translateX("+e+"px)":"translate3d("+e+"px, 0, 0)"},_moveDrawer:function(e){var t=this.$.drawer.style;this.hasTransform?t.transform=this._transformForTranslateX(e):t.webkitTransform=this._transformForTranslateX(e)}})}();
;Polymer({is:"iron-pages",behaviors:[Polymer.IronResizableBehavior,Polymer.IronSelectableBehavior],observers:["_selectedPageChanged(selected)"],_selectedPageChanged:function(e,s){this.async(this.notifyResize)}});
;!function(){function t(t){this.element=t,this.width=this.boundingRect.width,this.height=this.boundingRect.height,this.size=Math.max(this.width,this.height)}function i(t){this.element=t,this.color=window.getComputedStyle(t).color,this.wave=document.createElement("div"),this.waveContainer=document.createElement("div"),this.wave.style.backgroundColor=this.color,this.wave.classList.add("wave"),this.waveContainer.classList.add("wave-container"),Polymer.dom(this.waveContainer).appendChild(this.wave),this.resetInteractionState()}var e={cssColorWithAlpha:function(t,i){var e=t.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);return"undefined"==typeof i&&(i=1),e?"rgba("+e[1]+", "+e[2]+", "+e[3]+", "+i+")":"rgba(255, 255, 255, "+i+")"},distance:function(t,i,e,n){var s=t-e,o=i-n;return Math.sqrt(s*s+o*o)},now:function(){return window.performance&&window.performance.now?window.performance.now.bind(window.performance):Date.now}()};t.prototype={get boundingRect(){return this.element.getBoundingClientRect()},furthestCornerDistanceFrom:function(t,i){var n=e.distance(t,i,0,0),s=e.distance(t,i,this.width,0),o=e.distance(t,i,0,this.height),a=e.distance(t,i,this.width,this.height);return Math.max(n,s,o,a)}},i.MAX_RADIUS=300,i.prototype={get recenters(){return this.element.recenters},get center(){return this.element.center},get mouseDownElapsed(){var t;return this.mouseDownStart?(t=e.now()-this.mouseDownStart,this.mouseUpStart&&(t-=this.mouseUpElapsed),t):0},get mouseUpElapsed(){return this.mouseUpStart?e.now()-this.mouseUpStart:0},get mouseDownElapsedSeconds(){return this.mouseDownElapsed/1e3},get mouseUpElapsedSeconds(){return this.mouseUpElapsed/1e3},get mouseInteractionSeconds(){return this.mouseDownElapsedSeconds+this.mouseUpElapsedSeconds},get initialOpacity(){return this.element.initialOpacity},get opacityDecayVelocity(){return this.element.opacityDecayVelocity},get radius(){var t=this.containerMetrics.width*this.containerMetrics.width,e=this.containerMetrics.height*this.containerMetrics.height,n=1.1*Math.min(Math.sqrt(t+e),i.MAX_RADIUS)+5,s=1.1-.2*(n/i.MAX_RADIUS),o=this.mouseInteractionSeconds/s,a=n*(1-Math.pow(80,-o));return Math.abs(a)},get opacity(){return this.mouseUpStart?Math.max(0,this.initialOpacity-this.mouseUpElapsedSeconds*this.opacityDecayVelocity):this.initialOpacity},get outerOpacity(){var t=.3*this.mouseUpElapsedSeconds,i=this.opacity;return Math.max(0,Math.min(t,i))},get isOpacityFullyDecayed(){return this.opacity<.01&&this.radius>=Math.min(this.maxRadius,i.MAX_RADIUS)},get isRestingAtMaxRadius(){return this.opacity>=this.initialOpacity&&this.radius>=Math.min(this.maxRadius,i.MAX_RADIUS)},get isAnimationComplete(){return this.mouseUpStart?this.isOpacityFullyDecayed:this.isRestingAtMaxRadius},get translationFraction(){return Math.min(1,this.radius/this.containerMetrics.size*2/Math.sqrt(2))},get xNow(){return this.xEnd?this.xStart+this.translationFraction*(this.xEnd-this.xStart):this.xStart},get yNow(){return this.yEnd?this.yStart+this.translationFraction*(this.yEnd-this.yStart):this.yStart},get isMouseDown(){return this.mouseDownStart&&!this.mouseUpStart},resetInteractionState:function(){this.maxRadius=0,this.mouseDownStart=0,this.mouseUpStart=0,this.xStart=0,this.yStart=0,this.xEnd=0,this.yEnd=0,this.slideDistance=0,this.containerMetrics=new t(this.element)},draw:function(){var t,i,e;this.wave.style.opacity=this.opacity,t=this.radius/(this.containerMetrics.size/2),i=this.xNow-this.containerMetrics.width/2,e=this.yNow-this.containerMetrics.height/2,this.waveContainer.style.webkitTransform="translate("+i+"px, "+e+"px)",this.waveContainer.style.transform="translate3d("+i+"px, "+e+"px, 0)",this.wave.style.webkitTransform="scale("+t+","+t+")",this.wave.style.transform="scale3d("+t+","+t+",1)"},downAction:function(t){var i=this.containerMetrics.width/2,n=this.containerMetrics.height/2;this.resetInteractionState(),this.mouseDownStart=e.now(),this.center?(this.xStart=i,this.yStart=n,this.slideDistance=e.distance(this.xStart,this.yStart,this.xEnd,this.yEnd)):(this.xStart=t?t.detail.x-this.containerMetrics.boundingRect.left:this.containerMetrics.width/2,this.yStart=t?t.detail.y-this.containerMetrics.boundingRect.top:this.containerMetrics.height/2),this.recenters&&(this.xEnd=i,this.yEnd=n,this.slideDistance=e.distance(this.xStart,this.yStart,this.xEnd,this.yEnd)),this.maxRadius=this.containerMetrics.furthestCornerDistanceFrom(this.xStart,this.yStart),this.waveContainer.style.top=(this.containerMetrics.height-this.containerMetrics.size)/2+"px",this.waveContainer.style.left=(this.containerMetrics.width-this.containerMetrics.size)/2+"px",this.waveContainer.style.width=this.containerMetrics.size+"px",this.waveContainer.style.height=this.containerMetrics.size+"px"},upAction:function(t){this.isMouseDown&&(this.mouseUpStart=e.now())},remove:function(){Polymer.dom(this.waveContainer.parentNode).removeChild(this.waveContainer)}},Polymer({is:"paper-ripple",behaviors:[Polymer.IronA11yKeysBehavior],properties:{initialOpacity:{type:Number,value:.25},opacityDecayVelocity:{type:Number,value:.8},recenters:{type:Boolean,value:!1},center:{type:Boolean,value:!1},ripples:{type:Array,value:function(){return[]}},animating:{type:Boolean,readOnly:!0,reflectToAttribute:!0,value:!1},holdDown:{type:Boolean,value:!1,observer:"_holdDownChanged"},_animating:{type:Boolean},_boundAnimate:{type:Function,value:function(){return this.animate.bind(this)}}},get target(){var t,i=Polymer.dom(this).getOwnerRoot();return t=11==this.parentNode.nodeType?i.host:this.parentNode},keyBindings:{"enter:keydown":"_onEnterKeydown","space:keydown":"_onSpaceKeydown","space:keyup":"_onSpaceKeyup"},attached:function(){this.listen(this.target,"up","upAction"),this.listen(this.target,"down","downAction"),this.target.hasAttribute("noink")||(this.keyEventTarget=this.target)},get shouldKeepAnimating(){for(var t=0;t<this.ripples.length;++t)if(!this.ripples[t].isAnimationComplete)return!0;return!1},simulatedRipple:function(){this.downAction(null),this.async(function(){this.upAction()},1)},downAction:function(t){if(!(this.holdDown&&this.ripples.length>0)){var i=this.addRipple();i.downAction(t),this._animating||this.animate()}},upAction:function(t){this.holdDown||(this.ripples.forEach(function(i){i.upAction(t)}),this.animate())},onAnimationComplete:function(){this._animating=!1,this.$.background.style.backgroundColor=null,this.fire("transitionend")},addRipple:function(){var t=new i(this);return Polymer.dom(this.$.waves).appendChild(t.waveContainer),this.$.background.style.backgroundColor=t.color,this.ripples.push(t),this._setAnimating(!0),t},removeRipple:function(t){var i=this.ripples.indexOf(t);0>i||(this.ripples.splice(i,1),t.remove(),this.ripples.length||this._setAnimating(!1))},animate:function(){var t,i;for(this._animating=!0,t=0;t<this.ripples.length;++t)i=this.ripples[t],i.draw(),this.$.background.style.opacity=i.outerOpacity,i.isOpacityFullyDecayed&&!i.isRestingAtMaxRadius&&this.removeRipple(i);this.shouldKeepAnimating||0!==this.ripples.length?window.requestAnimationFrame(this._boundAnimate):this.onAnimationComplete()},_onEnterKeydown:function(){this.downAction(),this.async(this.upAction,1)},_onSpaceKeydown:function(){this.downAction()},_onSpaceKeyup:function(){this.upAction()},_holdDownChanged:function(t){t?this.downAction():this.upAction()}})}();
;Polymer({is:"paper-icon-button",behaviors:[Polymer.PaperButtonBehavior,Polymer.PaperInkyFocusBehavior],properties:{src:{type:String},icon:{type:String}}});
;Polymer({is:"paper-tab",behaviors:[Polymer.IronControlState],properties:{noink:{type:Boolean,value:!1}},hostAttributes:{role:"tab"},listeners:{down:"_onDown"},get _parentNoink(){var o=Polymer.dom(this).parentNode;return!!o&&!!o.noink},_onDown:function(o){this.noink=!!this.noink||!!this._parentNoink}});
;Polymer({is:"paper-tabs",behaviors:[Polymer.IronResizableBehavior,Polymer.IronMenubarBehavior],properties:{noink:{type:Boolean,value:!1},noBar:{type:Boolean,value:!1},noSlide:{type:Boolean,value:!1},scrollable:{type:Boolean,value:!1},disableDrag:{type:Boolean,value:!1},hideScrollButtons:{type:Boolean,value:!1},alignBottom:{type:Boolean,value:!1},selected:{type:String,notify:!0},selectable:{type:String,value:"paper-tab"},_step:{type:Number,value:10},_holdDelay:{type:Number,value:1},_leftHidden:{type:Boolean,value:!1},_rightHidden:{type:Boolean,value:!1},_previousTab:{type:Object}},hostAttributes:{role:"tablist"},listeners:{"iron-resize":"_onResize","iron-select":"_onIronSelect","iron-deselect":"_onIronDeselect"},_computeScrollButtonClass:function(t,e,i){return!e||i?"hidden":t?"not-visible":""},_computeTabsContentClass:function(t){return t?"scrollable":"horizontal layout"},_computeSelectionBarClass:function(t,e){return t?"hidden":e?"align-bottom":void 0},_onResize:function(){this.debounce("_onResize",function(){this._scroll(),this._tabChanged(this.selectedItem)},10)},_onIronSelect:function(t){this._tabChanged(t.detail.item,this._previousTab),this._previousTab=t.detail.item,this.cancelDebouncer("tab-changed")},_onIronDeselect:function(t){this.debounce("tab-changed",function(){this._tabChanged(null,this._previousTab)},1)},get _tabContainerScrollSize(){return Math.max(0,this.$.tabsContainer.scrollWidth-this.$.tabsContainer.offsetWidth)},_scroll:function(){var t;this.scrollable&&(t=this.$.tabsContainer.scrollLeft,this._leftHidden=0===t,this._rightHidden=t===this._tabContainerScrollSize)},_onLeftScrollButtonDown:function(){this._holdJob=setInterval(this._scrollToLeft.bind(this),this._holdDelay)},_onRightScrollButtonDown:function(){this._holdJob=setInterval(this._scrollToRight.bind(this),this._holdDelay)},_onScrollButtonUp:function(){clearInterval(this._holdJob),this._holdJob=null},_scrollToLeft:function(){this.$.tabsContainer.scrollLeft-=this._step},_scrollToRight:function(){this.$.tabsContainer.scrollLeft+=this._step},_tabChanged:function(t,e){if(!t)return void this._positionBar(0,0);var i=this.$.tabsContent.getBoundingClientRect(),o=i.width,n=t.getBoundingClientRect(),s=n.left-i.left;if(this._pos={width:this._calcPercent(n.width,o),left:this._calcPercent(s,o)},this.noSlide||null==e)return void this._positionBar(this._pos.width,this._pos.left);var l=e.getBoundingClientRect(),a=this.items.indexOf(e),r=this.items.indexOf(t),c=5;this.$.selectionBar.classList.add("expand"),r>a?this._positionBar(this._calcPercent(n.left+n.width-l.left,o)-c,this._left):this._positionBar(this._calcPercent(l.left+l.width-n.left,o)-c,this._calcPercent(s,o)+c),this.scrollable&&this._scrollToSelectedIfNeeded(n.width,s)},_scrollToSelectedIfNeeded:function(t,e){var i=e-this.$.tabsContainer.scrollLeft;0>i?this.$.tabsContainer.scrollLeft+=i:(i+=t-this.$.tabsContainer.offsetWidth,i>0&&(this.$.tabsContainer.scrollLeft+=i))},_calcPercent:function(t,e){return 100*t/e},_positionBar:function(t,e){this._width=t,this._left=e,this.transform("translate3d("+e+"%, 0, 0) scaleX("+t/100+")",this.$.selectionBar)},_onBarTransitionEnd:function(t){var e=this.$.selectionBar.classList;e.contains("expand")?(e.remove("expand"),e.add("contract"),this._positionBar(this._pos.width,this._pos.left)):e.contains("contract")&&e.remove("contract")}});
;Polymer({is:"paper-toggle-button",behaviors:[Polymer.PaperInkyFocusBehavior],hostAttributes:{role:"button","aria-pressed":"false",tabindex:0},properties:{checked:{type:Boolean,value:!1,reflectToAttribute:!0,notify:!0,observer:"_checkedChanged"},toggles:{type:Boolean,value:!0,reflectToAttribute:!0}},listeners:{track:"_ontrack"},ready:function(){this._isReady=!0},_buttonStateChanged:function(){this.disabled||this._isReady&&(this.checked=this.active)},_checkedChanged:function(t){this.active=this.checked,this.fire("iron-change")},_ontrack:function(t){var e=t.detail;"start"===e.state?this._trackStart(e):"track"===e.state?this._trackMove(e):"end"===e.state&&this._trackEnd(e)},_trackStart:function(t){this._width=this.$.toggleBar.offsetWidth/2,this._trackChecked=this.checked,this.$.toggleButton.classList.add("dragging")},_trackMove:function(t){var e=t.dx;this._x=Math.min(this._width,Math.max(0,this._trackChecked?this._width+e:e)),this.translate3d(this._x+"px",0,0,this.$.toggleButton),this._userActivate(this._x>this._width/2)},_trackEnd:function(t){this.$.toggleButton.classList.remove("dragging"),this.transform("",this.$.toggleButton)}});
;!function(){"use strict";Polymer.IronA11yAnnouncer=Polymer({is:"iron-a11y-announcer",properties:{mode:{type:String,value:"polite"},_text:{type:String,value:""}},created:function(){Polymer.IronA11yAnnouncer.instance||(Polymer.IronA11yAnnouncer.instance=this),document.body.addEventListener("iron-announce",this._onIronAnnounce.bind(this))},announce:function(n){this._text="",this.async(function(){this._text=n},100)},_onIronAnnounce:function(n){n.detail&&n.detail.text&&this.announce(n.detail.text)}}),Polymer.IronA11yAnnouncer.instance=null,Polymer.IronA11yAnnouncer.requestAvailability=function(){Polymer.IronA11yAnnouncer.instance||document.createElement("iron-a11y-announcer"),document.body.appendChild(Polymer.IronA11yAnnouncer.instance)}}();
;!function(){var t=Polymer({is:"paper-toast",properties:{duration:{type:Number,value:3e3},text:{type:String,value:""},visible:{type:Boolean,readOnly:!0,value:!1,observer:"_visibleChanged"}},created:function(){Polymer.IronA11yAnnouncer.requestAvailability()},ready:function(){this.async(function(){this.hide()})},show:function(){t.currentToast&&t.currentToast.hide(),t.currentToast=this,this.removeAttribute("aria-hidden"),this._setVisible(!0),this.fire("iron-announce",{text:this.text}),this.debounce("hide",this.hide,this.duration)},hide:function(){this.setAttribute("aria-hidden","true"),this._setVisible(!1)},toggle:function(){this.visible?this.hide():this.show()},_visibleChanged:function(t){this.toggleClass("paper-toast-open",t)}});t.currentToast=null}();
;Polymer({is:"iron-localstorage",properties:{name:{type:String,value:""},value:{type:Object,notify:!0},useRaw:{type:Boolean,value:!1},autoSaveDisabled:{type:Boolean,value:!1},errorMessage:{type:String,notify:!0},_loaded:{type:Boolean,value:!1}},observers:["reload(name,useRaw)","_trySaveValue(value, _loaded, autoSaveDisabled)"],ready:function(){this._boundHandleStorage=this._handleStorage.bind(this)},attached:function(){window.addEventListener("storage",this._boundHandleStorage)},detached:function(){window.removeEventListener("storage",this._boundHandleStorage)},_handleStorage:function(e){e.key==this.name&&this._load(!0)},_trySaveValue:function(e,a,t){return this._justLoaded?void(this._justLoaded=!1):void(a&&!t&&this.save())},reload:function(){this._load()},_load:function(e){var a=localStorage.getItem(this.name);if(null===a)this.fire("iron-localstorage-load-empty");else if(!this.useRaw)try{a=JSON.parse(a)}catch(t){this.errorMessage="Could not parse local storage value",console.error("could not parse local storage value",a)}this._justLoaded=!0,this._loaded=!0,this.value=a,this.fire("iron-localstorage-load",{externalChange:e})},save:function(){var e=this.useRaw?this.value:JSON.stringify(this.value);try{null===this.value?localStorage.removeItem(this.name):localStorage.setItem(this.name,e)}catch(a){this.errorMessage=a.message,console.error("localStorage could not be saved. Safari incoginito mode?",a)}}});
;!function(){Polymer({is:"word-service",properties:{currlang:{type:String,notify:!0},warray:{type:Array,value:function(){return[]}},jsonUrl:{type:String,value:""}},listeners:{"currlang-changed":"changeJsonUrl"},attached:function(){this.jsonUrl=this.createJsonUrl(this.currlang)},ready:function(){this.wordBoard=document.getElementById("wboard"),this.letterList=document.getElementById("lettergrid")},changeJsonUrl:function(t){this.jsonUrl=this.createJsonUrl(this.currlang),this.wordBoard&&this.wordBoard.wordArray[this.currlang]?(this.letterList.setWord=!1,this.async(function(){this.spoofLoad()},100)):this.jsonUrl.length>0&&this.$.wajax.generateRequest()},createJsonUrl:function(t){return void 0==t?"":"/api/"+t+"/words-stpacc.json"},requestSent:function(t){this.letterList||(this.letterList=document.getElementById("lettergrid")),this.wordBoard||(this.wordBoard=document.getElementById("wboard")),this.letterList.setWord=!1},wordsLoaded:function(){var t=null!=this.$.wajax.lastResponse?!0:!1;if(console.log("loading words from url: "+this.jsonUrl+" \nSuccess: "+t),t){this.letterList&&(this.letterList.setWord=!0);var r=this.$.wajax.lastResponse;this.warray=r,this.fire("new-words")}},spoofLoad:function(){this.letterList.setWord=!0,this.fire("new-words")}})}();
;!function(){Polymer({is:"word-board",properties:{langCode:{type:String,notify:!0},wordAudio:{type:String},myWord:{type:String,value:"",notify:!0},wordArray:{type:Object,notify:!0,value:function(){return{}}},ranWordIndex:{type:Number},phraseArray:{type:Array,value:function(){return[]}},phraseIndex:{type:Number,value:0},useSynth:{type:Boolean,value:!1},earmodus:{type:Boolean,notify:!0}},listeners:{"new-words":"setWords","lang-code-changed":"changeLanguage","earmodus-changed":"hideWord",tap:"tapWord"},created:function(){"speechSynthesis"in window&&window.speechSynthesis.getVoices()},attached:function(){this.hideWord()},init:function(){this.jumbotronBox=document.querySelector("jumbotron-text"),this.scoreBox=document.getElementById("score-board-player-1"),this.letterListBox=document.querySelector("letter-list"),this.wordBoardWord=document.getElementById("word-board-word"),this.myWordSpan=document.getElementById("my_word");var r=this.wordBoardWord;this.$.word_aud_elem.onended=function(){r.classList.remove("flip-text")}},enableSynth:function(r){"speechSynthesis"in window&&(this.useSynth=!0,this.voices=window.speechSynthesis.getVoices())},changeLanguage:function(r){this.$.wservice.currlang=this.langCode,this.phraseArray=[],this.phraseIndex=0},wordFilter:function(){this.letterListBox||this.init();var r=this.wordArray[this.langCode]?Math.floor(Math.random()*this.wordArray[this.langCode].length):0;if(this.phraseIndex++,Object.keys(this.wordArray).length>0&&this.wordArray[this.langCode]){if(void 0===this.phraseArray[this.phraseIndex]){if(void 0!==this.ranWordIndex)for(var e=0;this.ranWordIndex===r&&(r=Math.floor(Math.random()*this.wordArray[this.langCode].length),!(e>20));e++);this.ranWordIndex=r,console.log("wordArray.length: "+this.wordArray[this.langCode].length+"\nthis.ranWordIndex: "+this.ranWordIndex),this.phraseIndex=0}void 0!==this.wordArray&&void 0!==this.langCode&&void 0!==this.ranWordIndex&&null!==this.wordArray[this.langCode][this.ranWordIndex].grammar&&"object"==typeof this.wordArray[this.langCode][this.ranWordIndex].grammar?(this.wordBoardWord.className="",this.myWordSpan.className="",void 0===this.wordArray[this.langCode][this.ranWordIndex].grammar.segments?this.setGrammarStyles(this.wordArray[this.langCode][this.ranWordIndex].grammar):this.setGrammarStyles(this.wordArray[this.langCode][this.ranWordIndex].grammar.segments[this.phraseIndex])):(this.wordBoardWord.className="",this.myWordSpan.className="",this.wordBoardWord.classList.add("word-board")),this.setDisplayWord(),this.letterListBox.setWord=!0,this.letterListBox.runLetters(),(this.myWordSpan.classList.contains("invisible-text")||"(^_^)"===this.jumbotronBox.usertext)&&this.$.word_aud_elem.play()}},getCheckWord:function(){if(void 0!==this.wordArray&&void 0!==this.langCode&&void 0!==this.ranWordIndex&&0!==this.wordArray[this.langCode].length){var r=this.letterListBox.stripDiacritics?"ohne":"word",e=this.wordArray[this.langCode][this.ranWordIndex][r].split(" ");return e[this.phraseIndex]}return void console.log("words not set yet")},getWordObj:function(){return this.wordArray[this.langCode][this.ranWordIndex]},setDisplayWord:function(){var r=this.letterListBox.stripDiacritics?"ohne":"word";this.phraseArray=this.wordArray[this.langCode][this.ranWordIndex][r].split(" "),this.myWord=this.phraseArray[this.phraseIndex],this.wordAudio=this.produceWordAudioUrl(this.phraseArray[this.phraseIndex].toLowerCase(),this.langCode),this.jumbotronBox.zielWort=this.phraseArray[this.phraseIndex]},setWords:function(){if(this.wordBoardWord||this.init(),this.wordArray[this.langCode])console.log(this.wordArray);else{var r=this.$.wservice.warray;0!==r.length&&(this.wordArray[this.langCode]=r)}this.wordFilter()},revealWord:function(){var r,e=1500,t=this.letterListBox.stripDiacritics?"ohne":"word";r="ko"===this.langCode?window.Hangul.disassemble(this.wordArray[this.langCode][this.ranWordIndex][t].toLowerCase()).join(""):this.wordArray[this.langCode][this.ranWordIndex][t].toLowerCase(),r.split("").forEach(function(r,t){setTimeout(function(){var e=document.querySelector('letter-card[letter="'+r+'"]');e.firePaperRipple(!0)},e*(t+.5))}),setTimeout(function(){this.playAudio()}.bind(this),e*(r.length+.5))},hideWord:function(){void 0!==this.$.my_word&&(this.earmodus?this.$.my_word.style.color="rgba(0,0,0,0.0)":this.$.my_word.style.color="")},produceWordAudioUrl:function(r,e){return this.useSynth=!1,"/assets/audio/"+e+"/words/"+r+".m4a"},tapWord:function(r){this.wordBoardWord.classList.add("flip-text"),this.$.word_aud_elem.paused&&r&&this.scoreBox.audioPlayPts(),this.playAudio(!0)},playAudio:function(r){this.useSynth?this.playSynVoice(this.langCode,this.myWord,.75,r):(this.$.word_aud_elem.paused||(this.$.word_aud_elem.pause(),this.$.word_aud_elem.currentTime=this.$.word_aud_elem.currentTime/3),this.$.word_aud_elem.play())},playSynVoice:function(r,e,t,o){if("speechSynthesis"in window){var s=new SpeechSynthesisUtterance;this.checkSynthVoices(r)?(s.onend=function(r){document.getElementById("word-board-word").classList.remove("flip-text")},s.lang=r,s.text=e,s.rate=t,window.speechSynthesis.speak(s)):o&&(s.onend=function(r){document.getElementById("word-board-word").classList.remove("flip-text")},s.lang="en",s.text="Oops, no audio for this word.",window.speechSynthesis.speak(s))}},checkSynthVoices:function(r){for(var e=0;e<this.voices.length;e++)if(this.voices[e].lang.match("^"+r))return!0;return!1},setGrammarStyles:function(r){var e=[],t=this.wordBoardWord;if(e.push("word-board"),void 0!==r.partofs)switch(r.partofs){case"adjective":case"adverb":e.push("word-board-adj-adv");break;case"verb":e.push("word-board-verb");break;case"noun":}if(r.number)switch(r.number){case"plural":e.push("word-board-plural");break;case"singular":}if(r.gender)switch(r.gender){case"male":e.push("word-board-male");break;case"female":e.push("word-board-female");break;case"neuter":e.push("word-board-neuter")}e.forEach(function(r){t.classList.add(r)})}})}();
;!function(){Polymer({is:"score-board",properties:{score:{type:Number,value:0},streak:{type:Number,value:0},lastBucket:{type:String,notify:!0},player:{type:Number,value:1},correctPts:{type:Number,value:100},audioPts:{type:Number,value:5},incorrectPts:{type:Number,value:30},selfRecMult:{type:Number,value:2.5},learnmodus:{type:Boolean,value:!1},recordmodus:{type:Boolean,value:!1}},listeners:{"last-bucket-changed":"updateScoreBoard"},created:function(){},init:function(){this.starIcon=Polymer.dom(this.root).querySelector("iron-icon"),this.clueShow=document.getElementById("clueshow"),this.wordBoardBox=document.querySelector("word-board")},updateStreak:function(t){t?this.streak>=0?this.streak++:this.streak=1:this.streak<=0?this.streak--:this.streak=-1,this.streak<=-3&&this.helpPlayer()},updateScoreBoard:function(){this.wordBoardBox||this.init(),-1===["","_____"].indexOf(this.lastBucket)&&(console.log("Does "+this.lastBucket.toLowerCase()+" = "+this.wordBoardBox.getCheckWord().toLowerCase()),this.learnmodus&&"(^_^)"===this.lastBucket?(this.recordmodus&&this.givePts(),this.resetStar(),this.wordBoardBox.wordFilter(),document.getElementById("clueshow").classList.contains("glow-yellow")&&document.getElementById("clueshow").classList.remove("glow-yellow")):this.lastBucket.toLowerCase()===this.wordBoardBox.getCheckWord().toLowerCase()?(this.givePts(),this.updateStreak(!0),this.resetStar(),this.wordBoardBox.wordFilter(),document.getElementById("clueshow").classList.contains("glow-yellow")&&document.getElementById("clueshow").classList.remove("glow-yellow")):(this.updateStreak(!1),this.learnmodus||(this.score-=this.incorrectPts)))},givePts:function(){"green"===this.starIcon.style.color?this.score+=this.correctPts*this.selfRecMult:this.score+=this.correctPts},resetStar:function(){"white"!==this.starIcon.style.color&&(this.starIcon.style.color="white")},helpPlayer:function(){this.clueShow.classList.add("glow-yellow")},audioPlayPts:function(){this.score=this.score+this.audioPts}})}();
;Polymer({is:"paper-material",properties:{elevation:{type:Number,reflectToAttribute:!0,value:1},animated:{type:Boolean,reflectToAttribute:!0,value:!1}}});
;Polymer({is:"paper-button",behaviors:[Polymer.PaperButtonBehavior],properties:{raised:{type:Boolean,reflectToAttribute:!0,value:!1,observer:"_calculateElevation"}},_calculateElevation:function(){this.raised?Polymer.PaperButtonBehaviorImpl._calculateElevation.apply(this):this._elevation=0},_computeContentClass:function(e){var t="content ";return e&&(t+=" keyboard-focus"),t}});
;!function(){var t;Polymer({is:"jumbotron-text",properties:{scoreArray:{type:Array,value:function(){return[]}},usertext:{type:String},lastBucket:{type:String,notify:!0},zielWort:{type:String,value:"_____"},tabindex:{type:Number,reflectToAttribute:!0},learnmodus:{type:Boolean,reflectToAttribute:!0}},listeners:{tap:"handleClick","last-bucket-changed":"updateJumbotron"},init:function(){this.scoreBox=document.getElementById("score-board-player-1"),this.wordBoard=document.querySelector("word-board"),this.first=!0},handleClick:function(){this.lastBucket="!!!",this.fire("checking-word",{letter:"!!!"})},updateJumbotron:function(){this.wordBoard||this.init(),this.wordBoard.myWord.charAt(0)===this.wordBoard.myWord.charAt(0).toUpperCase()?this.$.jtext.classList.add("capitalize"):this.$.jtext.classList.contains("capitalize")&&this.$.jtext.classList.remove("capitalize"),this.learnmodus&&"!!!"===this.lastBucket?(this.scoreBox.lastBucket=this.usertext,this.resetBox()):"!!!"==this.lastBucket||this.lastBucket.length>2?(console.log("checking word..."),this.scoreBox.lastBucket=this.usertext,this.resetBox()):""!==this.lastBucket&&(this.$.jtext.hasAttribute("raised")||this.$.jtext.setAttribute("raised",!0),"ko"===this.wordBoard.langCode?this.scoreArray.length>=window.Hangul.disassemble(this.zielWort).join("").length+2&&this.scoreArray.shift():this.scoreArray.length>=this.zielWort.length+2&&this.scoreArray.shift(),window.clearTimeout(t),this.scoreArray.push(this.lastBucket),"ko"===this.wordBoard.langCode?this.usertext=window.Hangul.assemble(this.scoreArray.join("")):this.usertext=this.scoreArray.join(""),this.usertext.toLowerCase()===this.wordBoard.getCheckWord().toLowerCase()?t=setTimeout(function(){this.first?this.wordBoard.tapWord(!1):this.wordBoard.playAudio(!1),this.first=!1,this.$.jtext.querySelector("paper-material").setAttribute("elevation",4)}.bind(this),700):this.$.jtext.querySelector("paper-material").setAttribute("elevation",1),this.lastBucket="")},forceLearnmodus:function(t){this.learnmodus=t,this.usertext=this.learnmodus?"(^_^)":"_____"},resetBox:function(){this.scoreArray=[],this.usertext=this.learnmodus?"(^_^)":"_____",this.lastBucket="",this.scoreBox.lastBucket="",this.$.jtext.removeAttribute("raised"),this.$.jtext.classList.remove("to-foreground")}})}();
;!function(){function e(){return c&&n||(c=document.getElementById("score-board-player-1").querySelector("iron-icon"),n=document.getElementById("recorderInit")),void 0===d?(d=new p5.AudioIn,d.start(),i=new p5.SoundRecorder,i.setInput(d),o(),c.style.color="yellow",n.classList.add("recording-on"),!0):l.isLoaded()?(console.log(l.isLoaded()),o(),"green"!=c.style.color&&(c.style.color="yellow"),n.classList.add("recording-on"),!0):(clearTimeout(s),r(),!1)}function o(){l=new p5.SoundFile,i.record(l),s=setTimeout(function(){r(),console.log("recording timed out after "+a/1e3+" seconds.")},a)}function r(){i?i.stop():console.log("hmm, recorder isn't recording"),n.classList.remove("recording-on")}function t(){return void 0!==d?("yellow"==c.style.color&&(c.style.color="green"),l.isLoaded()?(l.play(),!1):(r(),l.play(),!0)):void 0}Polymer({is:"word-recorder",properties:{},init:function(){},makeRecording:function(){e()},playRecording:function(){t(),"rotateY(360deg)"===this.$.recorderPlay.style.transform?this.$.recorderPlay.style.transform="rotateY(0deg)":this.$.recorderPlay.style.transform="rotateY(360deg)"}});var n,c,d,i,l,s,a=15e3}();
;!function(){Polymer({is:"letter-card",properties:{letter:{type:String,reflectToAttribute:!0},currlang:{type:String,reflectToAttribute:!0},uid:{type:String,reflectToAttribute:!0},canOpus:{type:Boolean,value:!1},regular:{type:Boolean,value:!0},aacAudio:{type:String},hidden:{type:Boolean,notify:!0},tabindex:{type:Number,reflectToAttribute:!0,value:0},useSynth:{type:Boolean,value:!1}},listeners:{tap:"handleClick"},ready:function(){this.$.letteraudio.addEventListener("error",function(e){this.src="/assets/audio/sfx/druck1.ogg"})},enableSynth:function(e){"speechSynthesis"in window&&(this.useSynth=!0)},handleClick:function(e){if(this.fire("letter-card-tapped",{letter:this.letter}),this.$.letteraudio.paused||(this.$.letteraudio.pause(),this.$.letteraudio.currentTime=this.$.letteraudio.currentTime/3),this.$.letteraudio.play(),this.useSynth);else;},handlePulse:function(e){console.log("Hold Pulse"),console.log(e)},handleRelease:function(e){console.log("Release"),console.log(e)},firePaperRipple:function(e){this.$.letterpr.downAction(),this.$.letterpr.upAction(),e&&this.$.letteraudio.play()},computeAacAudio:function(e,t){return this.useSynth=!1," "===e||void 0===t?"":"/assets/audio/"+t+"/"+e+".m4a"}})}();
;!function(){Polymer({is:"letter-service",properties:{currlang:{type:String,notify:!0},lobj:{type:Object,notify:!0,value:function(){return{}}},jsonUrl:{type:String,value:""}},listeners:{"currlang-changed":"changeJsonUrl"},attached:function(){this.jsonUrl=this.createJsonUrl(this.currlang)},changeJsonUrl:function(t){this.jsonUrl=this.createJsonUrl(this.currlang),this.letterListBox&&this.letterListBox.allLettersList[this.currlang]?(this.letterListBox.setLetters=!1,this.async(function(){this.spoofLoad()},150)):this.jsonUrl.length>0&&this.$.ajax.generateRequest()},createJsonUrl:function(t){return void 0==t?"":"/api/"+t+"/letters.json"},lettersRequest:function(){this.letterListBox||(this.letterListBox=document.querySelector("letter-list")),this.letterListBox.setLetters=!1},lettersLoaded:function(){var t=null!=this.$.ajax.lastResponse?!0:!1;if(console.log("loading letters from url: "+this.jsonUrl+" \nSuccess: "+t),t){var e=this.$.ajax.lastResponse.slice()[0];this.lobj=e,this.fire("new-letters"),this.letterListBox.setLetters=!0}},spoofLoad:function(){this.fire("new-letters"),this.letterListBox.setLetters=!0}})}();
;!function(){function t(t){if(s=1,t instanceof Array){for(var e,i,o=t.length;0!==o;)i=Math.floor(Math.random()*o),o-=1,e=t[o],t[o]=t[i],t[i]=e;return t}return console.log("You're trying to shuffle something that is not an array."),t}function e(t,e){return"!!!"===t.letter||void 0===e?"":"/assets/audio/"+e+"/"+t.letter+".m4a"}function i(t){return t.index=s,s++,t}Polymer({is:"letter-list",properties:{limit:{type:Number,value:12},langCode:{type:String,notify:!0},letterList:{type:Array,notify:!0,value:function(){return[]}},allLettersList:{type:Object,notify:!0,value:function(){return{}}},setWord:{type:Boolean,value:!1,notify:!0},setLetters:{type:Boolean,value:!1,notify:!0},stripDiacritics:{type:Boolean,value:!0},pageRevealed:{type:Boolean,value:!1},itemIndex:{type:Number}},listeners:{"new-letters":"onNewLetters","lang-code-changed":"changeLanguage","set-letters-changed":"runLetters","set-word-changed":"runLetters"},created:function(){},ready:function(){},addIndex:function(t){return i(t)},init:function(){this.wordBoardBox=document.querySelector("word-board")},changeLanguage:function(t){this.$.lservice.currlang=this.langCode},runLetters:function(){this.wordBoardWord||this.init(),this.setWord&&this.setLetters?(this.runNewLetters(),this.setWord=!1):this.setWord&&this.onNewWord()},filterResults:function(t){if(0===Object.keys(t).length)console.log("hmm, you've got an empty dataset");else{var i=t.lang.code;this.langCode=i,t.alphabet.forEach(function(t,s,o){o[s].audio=e(t,i),o[s].hidden=!1})}return t},onNewLetters:function(){this.allLettersList[this.langCode]||(this.allLettersList[this.langCode]=this.filterResults(this.$.lservice.lobj)),this.stripDiacritics=this.allLettersList[this.langCode].lang.stripDiacritics,this.fire("stripdia-set",{stripdia:this.stripDiacritics}),this.setLetters=!0},runNewLetters:function(){void 0!==this.wordBoardBox.getCheckWord()?(console.log("switching up letters: "+this.wordBoardBox.getCheckWord()),this.fire("ready-set-go",!0),this.shuffleLetters(this.wordBoardBox.getCheckWord().toLowerCase(),this.limit)):console.log("check word still not set")},onNewWord:function(){var t=this.wordBoardBox.getCheckWord();void 0!==t&&0!==t.length&&(t=t.toLowerCase(),console.log("fired filter-word-changed: "+t+" | ohneAccent: "+this.stripDiacritics),this.setWord=!0,Object.keys(this.allLettersList).length>0&&this.allLettersList[this.langCode]&&this.setLetters?this.shuffleLetters(t,this.limit):console.log("this.letterList is not yet set :-/"))},shuffleLetters:function(e,i){"ko"===this.langCode&&(e=window.Hangul.disassemble(e).join(""),console.log(e)),this.pageRevealed||(document.querySelector("[unresolved]")&&(this.pageRevealed=!0),this.init()),this.itemIndex=1;var s=[],o=i;o-=e.split("").filter(function(t,e,i){return i.indexOf(t)===e}).length,t(this.allLettersList[this.langCode].alphabet),this.allLettersList[this.langCode].alphabet.forEach(function(t,i){"!!!"===t.letter||void 0===t.letter||(e.indexOf(t.letter)>-1?(t.hidden=!1,s.push(t)):o>0&&t.regular!==!1?(t.hidden=!1,s.push(t),o--):t.hidden=!0)}),s.length<i&&(console.log("Not enough tiles"),console.log(this.dummyArray)),this.letterList=t(s)}});var s}();
;!function(){Polymer({is:"lang-flag",properties:{mylang:{type:String,notify:!0,observer:"switchLanguage"},langs:{type:Array,value:function(){return[]}}},listeners:{},handleClick:function(n){},ready:function(){this.isReady=!0},switchLanguage:function(){if(this.isReady){var n=0;this.$.flag_icon.style.background="url(/assets/images/"+this.mylang+".png) center center no-repeat",this.$.flag_icon.style.backgroundSize="contain",this.fire("reset-jumbotron",!0),n=360*(this.langs.indexOf(this.mylang)+1),this.async(function(){this.$.flag_icon.style.transform="rotateY("+n+"deg)"})}}})}();
;!function(){Polymer({is:"iron-overlay-backdrop",properties:{opened:{readOnly:!0,reflectToAttribute:!0,type:Boolean,value:!1},_manager:{type:Object,value:Polymer.IronOverlayManager}},prepare:function(){this.parentNode||(Polymer.dom(document.body).appendChild(this),this.style.zIndex=this._manager.currentOverlayZ()-1)},open:function(){this._manager.getBackdrops().length<2&&this._setOpened(!0)},close:function(){this._manager.getBackdrops().length<2&&this._setOpened(!1)},complete:function(){0===this._manager.getBackdrops().length&&this.parentNode&&Polymer.dom(this.parentNode).removeChild(this)}})}();
;!function(){Polymer({is:"simple-overlay",behaviors:[Polymer.IronOverlayBehavior]})}();
;function _getFirebaseName(e){switch(e.provider){case"password":return e.password.email.replace(/@.*/,"");case"twitter":return e.twitter.displayName;case"facebook":return e.facebook.displayName}}Polymer({is:"tinavg-webapp",properties:{currLang:{type:String,notify:!0},letterLimit:{type:Number,value:12},jumbotronIndex:{type:Number,value:13},learnmodus:{type:Boolean},recordmodus:{type:Boolean},nerdmodus:{type:Boolean},earmodus:{type:Boolean},nerdSprache:{type:String},langHelp:{type:String,value:""},flagIcon:{type:String,computed:"flagIconString(currLang)"},languageList:{type:Array,value:function(){return["de","en","en-US-south","ar","ko","ru","he"]}},user:{type:Object,notify:!0}},listeners:{"letter-card-tapped":"letterTapped","stripdia-set":"setWBoardDisplay","lang-help":"setLangHelp","ready-set-go":"lettersSet","checking-word":"fbLetterSeq"},observers:["_addUsersToFirebase(user.*)"],created:function(){void 0===localStorage.getItem("tinavg-earmodus")&&(this.earmodus=JSON.parse(localStorage.getItem("tinavg-earmodus"))),void 0===localStorage.getItem("tinavg-learnmodus")&&(this.learnmodus=JSON.parse(localStorage.getItem("tinavg-learnmodus"))),void 0===localStorage.getItem("tinavg-recordmodus")&&(this.recordmodus=JSON.parse(localStorage.getItem("tinavg-recordmodus"))),void 0===JSON.parse(localStorage.getItem("tinavg-nerdmodus"))&&(this.nerdmodus=JSON.parse(localStorage.getItem("tinavg-nerdmodus"))),void 0===JSON.parse(localStorage.getItem("tinavg-nerdsprache"))&&(this.nerdSprache=JSON.parse(localStorage.getItem("tinavg-nerdsprache")))},ready:function(){window.localStorage["tinavg-lastvisit"]=new Date,-1===this.languageList.indexOf(JSON.parse(localStorage.getItem("tinavg-lastlang")))?this.currLang="de":this.currLang=JSON.parse(localStorage.getItem("tinavg-lastlang")),void 0===this.earmodus&&(this.earmodus=!1),void 0===this.learnmodus&&(this.learnmodus=!1),void 0===this.recordmodus&&(this.recordmodus=!1),void 0===this.nerdmodus&&(this.nerdmodus=!1),void 0===this.nerdSprache&&(this.nerdSprache="de"),this.$.jt.forceLearnmodus(this.learnmodus),this.selected||(this.selected=0);var e=new Firebase("https://intense-heat-8981.firebaseio.com"),t=window.localStorage["tinavg-lastvisit"];this.letterSeq=[],e.onAuth(function(i){i?(e.child("users").child(i.uid).update({provider:i.provider,name:_getFirebaseName(i),lastlogin:t,stimestamp:Firebase.ServerValue.TIMESTAMP,options:this.getOptions()}),e.child("users").child(i.uid).child("logins").push({lastlogin:t,stimestamp:Firebase.ServerValue.TIMESTAMP})):e.child("users").child("anonymous").child("logins").push({lastlogin:t,stimestamp:Firebase.ServerValue.TIMESTAMP})}.bind(this)),this.firebaseRef=e,Mousetrap.bind("shift+enter",function(){this.$.jt.click()}.bind(this)),Mousetrap.bind("enter",function(){document.activeElement.click(),"function"==typeof document.activeElement.firePaperRipple&&document.activeElement.firePaperRipple(!1)}),Mousetrap.bind("shift+p",function(){this.$.wboard.tapWord(!1)}.bind(this)),Mousetrap.bind("shift+l",function(){this.$.switchModusIcon.click()}.bind(this)),Mousetrap.bind("left",function(){this.lastTabIndex;this.lastTabIndex=document.activeElement.tabIndex;var e=-1===document.activeElement.tabIndex?this.letterLimit:document.activeElement.tabIndex-1>0?document.activeElement.tabIndex-1:this.letterLimit;document.querySelector('[tabindex="'+e+'"]').focus()}.bind(this)),Mousetrap.bind("right",function(){this.lastTabIndex;this.lastTabIndex=document.activeElement.tabIndex;var e=-1===document.activeElement.tabIndex||document.activeElement.tabIndex+1>this.letterLimit?1:document.activeElement.tabIndex+1;document.querySelector('[tabindex="'+e+'"]').focus()}.bind(this)),Mousetrap.bind("up",function(){this.lastTabIndex;this.lastTabIndex=document.activeElement.tabIndex;var e=window.innerHeight>window.innerWidth?3:4,t=-1===document.activeElement.tabIndex?1:document.activeElement.tabIndex-e>0?document.activeElement.tabIndex-e:this.jumbotronIndex;document.querySelector('[tabindex="'+t+'"]').focus()}.bind(this)),Mousetrap.bind("down",function(){var e=this.lastTabIndex;this.lastTabIndex=document.activeElement.tabIndex;var t=window.innerHeight>window.innerWidth?3:4,i=document.activeElement.tabIndex+t<this.jumbotronIndex?document.activeElement.tabIndex+t:document.activeElement.tabIndex===this.jumbotronIndex?e:document.activeElement.tabIndex,s=-1===document.activeElement.tabIndex?1:i;document.querySelector('[tabindex="'+s+'"]').focus()}.bind(this)),Mousetrap.bind("backspace",function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,console.log("backspace...")}),document.getElementById("friendly_message").setAttribute("hidden",!0),document.querySelector("[unresolved]").removeAttribute("unresolved");for(var i=0;i<this.languageList.length;i++)(new Image).src="/assets/images/"+this.languageList[i]+".png"},setLangHelp:function(e){var t=e.detail.langHtml;t?document.getElementById("help-lang-specific").innerHTML=t:document.getElementById("help-lang-specific").innerHTML=""},letterTapped:function(e){this.$.jt.lastBucket=e.detail.letter,this.fbLetterSeq(e)},fbLetterSeq:function(e){0===this.letterSeq.length&&"!!!"===e.detail.letter||this.letterSeq.push(e.detail.letter);var t=this.firebaseRef.getAuth();t&&this.firebaseWordRef.child("letters").set(this.letterSeq)},showHelp:function(e){this.$.so.toggle()},showClue:function(e){this.$.wboard.revealWord(),this.$.clueshow.classList.contains("glow-yellow")&&this.$.clueshow.classList.remove("glow-yellow"),"rotateX(360deg)"===this.$.clueshow.style.transform?this.$.clueshow.style.transform="rotateX(0deg)":this.$.clueshow.style.transform="rotateX(360deg)"},toggleEarModus:function(){this.earmodus=!this.earmodus},toggleLearnModus:function(){this.learnmodus=!this.learnmodus,this.$.jt.resetBox()},toggleRecordModus:function(){this.recordmodus=!this.recordmodus,this.learnmodus=this.recordmodus,this.$.select_learnmodus.toggleAttribute("disabled"),this.$.jt.resetBox()},refreshBuggyFill:function(){window.viewportUnitsBuggyfill.init({force:!0}),window.viewportUnitsBuggyfill.refresh(),window.viewportUnitsBuggyfill.findProperties(),console.log(window.viewportUnitsBuggyfill.getCss())},setLang:function(e){console.log("toggling language: "+e.target.value+" | chars: "+this.letterLimit),this.currLang=e.target.value,this.$.jt.resetBox()},setLangManual:function(e){console.log("toggling language: "+e+" | chars: "+this.letterLimit),this.currLang=e,this.$.jt.resetBox()},setLang2:function(e){console.log(e),console.log("toggling language: "+e.target.value+" | chars: "+this.letterLimit),this.currLang=e.detail.item.lang,this.$.jt.resetBox()},setWBoardDisplay:function(e){this.$.wboard.setDisplayWord()},switchModus:function(e){if(-1!==this.languageList.indexOf(e))this.currLang=e;else{var t=-1===this.languageList.indexOf(this.currLang)||this.languageList.indexOf(this.currLang)+1>=this.languageList.length?0:this.languageList.indexOf(this.currLang)+1;this.currLang=this.languageList[t]}this.$.jt.resetBox()},flagIconString:function(e){return"country-flags:"+e},toggleNerdModus:function(){this.nerdmodus=!this.nerdmodus,this.showÜbersetzung()},"showÜbersetzung":function(){this.nerdmodus&&(void 0!==this.$.wboard.getWordObj().übersetzung&&this.$.wboard.getWordObj().übersetzung[this.nerdSprache]?this.$.übersetzung.text=this.$.wboard.getWordObj().übersetzung[this.nerdSprache]:void 0!==this.$.wboard.getWordObj().uebersetzungen[this.nerdSprache]?this.$.übersetzung.text=this.$.wboard.getWordObj().uebersetzungen[this.nerdSprache]:this.$.übersetzung.text="Es tut mir Leid.  Keine Übersetzung :-(",this.$.übersetzung.show())},lettersSet:function(){this.showÜbersetzung(),this.letterSeq=[];var e=this.firebaseRef.getAuth();if(e){var t=this.$.wboard.getWordObj(),i={word:t.word,ohne:t.ohne};this.firebaseWordRef=this.firebaseRef.child("users").child(e.uid).child("words").push(i),this.firebaseWordRef.child("timestamp").set(Firebase.ServerValue.TIMESTAMP)}},setNerdSprache:function(e){this.nerdSprache=e.target.value,this.showÜbersetzung()},login:function(){var e;try{e=JSON.parse(this.params)}catch(t){e=null}"password"==this.provider&&(e=e||{},e.email=this.email,e.password=this.password),this.$.firebaseLogin.login(e)},logout:function(){this.$.firebaseLogin.logout()},_addUsersToFirebase:function(e){},computeLoginHidden:function(e,t){return!e||!!t},getOptions:function(){var e={};return e.language=this.currLang,e.learnmodus=this.learnmodus,e.recordmodus=this.recordmodus,e.nerdmodus=this.nerdmodus,e.nerdsprache=this.nerdSprache,e.earmodus=this.earmodus,e}});