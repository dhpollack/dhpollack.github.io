!function(){function e(){document.body.removeAttribute("unresolved")}window.WebComponents?addEventListener("WebComponentsReady",e):"interactive"===document.readyState||"complete"===document.readyState?e():addEventListener("DOMContentLoaded",e)}(),Polymer={Settings:function(){var e=window.Polymer||{};location.search.slice(1).split("&").forEach(function(t){t=t.split("="),t[0]&&(e[t[0]]=t[1]||!0)});var t="shadow"===e.dom,r=Boolean(Element.prototype.createShadowRoot),o=r&&!window.ShadowDOMPolyfill,i=t&&r,n=Boolean("import"in document.createElement("link")),s=n,a=!window.CustomElements||window.CustomElements.useNative;return{wantShadow:t,hasShadow:r,nativeShadow:o,useShadow:i,useNativeShadow:i&&o,useNativeImports:s,useNativeCustomElements:a}}()},function(){var e=window.Polymer;window.Polymer=function(e){var r=t(e);e=r.prototype;var o={prototype:e};return e["extends"]&&(o["extends"]=e["extends"]),Polymer.telemetry._registrate(e),document.registerElement(e.is,o),r};var t=function(e){var t=Polymer.Base;return e["extends"]&&(t=Polymer.Base._getExtendedPrototype(e["extends"])),e=Polymer.Base.chainObject(e,t),e.registerCallback(),e.constructor};if(window.Polymer=Polymer,e)for(var r in e)Polymer[r]=e[r];Polymer.Class=t}(),Polymer.telemetry={registrations:[],_regLog:function(e){void 0},_registrate:function(e){this.registrations.push(e),Polymer.log&&this._regLog(e)},dumpRegistrations:function(){this.registrations.forEach(this._regLog)}},Object.defineProperty(window,"currentImport",{enumerable:!0,configurable:!0,get:function(){return(document._currentScript||document.currentScript).ownerDocument}}),Polymer.RenderStatus={_ready:!1,_callbacks:[],whenReady:function(e){this._ready?e():this._callbacks.push(e)},_makeReady:function(){this._ready=!0,this._callbacks.forEach(function(e){e()}),this._callbacks=[]},_catchFirstRender:function(){requestAnimationFrame(function(){Polymer.RenderStatus._makeReady()})}},window.HTMLImports?HTMLImports.whenReady(function(){Polymer.RenderStatus._catchFirstRender()}):Polymer.RenderStatus._catchFirstRender(),Polymer.ImportStatus=Polymer.RenderStatus,Polymer.ImportStatus.whenLoaded=Polymer.ImportStatus.whenReady,Polymer.Base={__isPolymerInstance__:!0,_addFeature:function(e){this.extend(this,e)},registerCallback:function(){this._registerFeatures(),this._doBehavior("registered")},createdCallback:function(){Polymer.telemetry.instanceCount++,this.root=this,this._doBehavior("created"),this._initFeatures()},attachedCallback:function(){Polymer.RenderStatus.whenReady(function(){this.isAttached=!0,this._doBehavior("attached")}.bind(this))},detachedCallback:function(){this.isAttached=!1,this._doBehavior("detached")},attributeChangedCallback:function(e){this._attributeChangedImpl(e),this._doBehavior("attributeChanged",arguments)},_attributeChangedImpl:function(e){this._setAttributeToProperty(this,e)},extend:function(e,t){return e&&t&&Object.getOwnPropertyNames(t).forEach(function(r){this.copyOwnProperty(r,t,e)},this),e||t},mixin:function(e,t){for(var r in t)e[r]=t[r];return e},copyOwnProperty:function(e,t,r){var o=Object.getOwnPropertyDescriptor(t,e);o&&Object.defineProperty(r,e,o)},_log:console.log.apply.bind(console.log,console),_warn:console.warn.apply.bind(console.warn,console),_error:console.error.apply.bind(console.error,console),_logf:function(){return this._logPrefix.concat([this.is]).concat(Array.prototype.slice.call(arguments,0))}},Polymer.Base._logPrefix=function(){var e=window.chrome||/firefox/i.test(navigator.userAgent);return e?["%c[%s::%s]:","font-weight: bold; background-color:#EEEE00;"]:["[%s::%s]:"]}(),Polymer.Base.chainObject=function(e,t){return e&&t&&e!==t&&(Object.__proto__||(e=Polymer.Base.extend(Object.create(t),e)),e.__proto__=t),e},Polymer.Base=Polymer.Base.chainObject(Polymer.Base,HTMLElement.prototype),window.CustomElements?Polymer["instanceof"]=CustomElements["instanceof"]:Polymer["instanceof"]=function(e,t){return e instanceof t},Polymer.isInstance=function(e){return Boolean(e&&e.__isPolymerInstance__)},Polymer.telemetry.instanceCount=0,function(){function e(){if(n){var e=document._currentScript||document.currentScript,t=e&&e.ownerDocument;t&&!t.__customElementsForceUpgraded&&(t.__customElementsForceUpgraded=!0,CustomElements.upgradeAll(t))}}var t={},r={},o=function(e){return t[e]||r[e.toLowerCase()]},i=function(){return document.createElement("dom-module")};i.prototype=Object.create(HTMLElement.prototype),Polymer.Base.extend(i.prototype,{constructor:i,createdCallback:function(){this.register()},register:function(e){var e=e||this.id||this.getAttribute("name")||this.getAttribute("is");e&&(this.id=e,t[e]=this,r[e.toLowerCase()]=this)},"import":function(t,r){var i=o(t);return i||(e(),i=o(t)),i&&r&&(i=i.querySelector(r)),i}});var n=window.CustomElements&&!CustomElements.useNative;document.registerElement("dom-module",i)}(),Polymer.Base._addFeature({_prepIs:function(){if(!this.is){var e=(document._currentScript||document.currentScript).parentNode;if("dom-module"===e.localName){var t=e.id||e.getAttribute("name")||e.getAttribute("is");this.is=t}}this.is&&(this.is=this.is.toLowerCase())}}),Polymer.Base._addFeature({behaviors:[],_prepBehaviors:function(){this.behaviors.length&&(this.behaviors=this._flattenBehaviorsList(this.behaviors)),this._prepAllBehaviors(this.behaviors)},_flattenBehaviorsList:function(e){var t=[];return e.forEach(function(e){e instanceof Array?t=t.concat(this._flattenBehaviorsList(e)):e?t.push(e):this._warn(this._logf("_flattenBehaviorsList","behavior is null, check for missing or 404 import"))},this),t},_prepAllBehaviors:function(e){for(var t=e.length-1;t>=0;t--)this._mixinBehavior(e[t]);for(var t=0,r=e.length;r>t;t++)this._prepBehavior(e[t]);this._prepBehavior(this)},_mixinBehavior:function(e){Object.getOwnPropertyNames(e).forEach(function(t){switch(t){case"hostAttributes":case"registered":case"properties":case"observers":case"listeners":case"created":case"attached":case"detached":case"attributeChanged":case"configure":case"ready":break;default:this.hasOwnProperty(t)||this.copyOwnProperty(t,e,this)}},this)},_doBehavior:function(e,t){this.behaviors.forEach(function(r){this._invokeBehavior(r,e,t)},this),this._invokeBehavior(this,e,t)},_invokeBehavior:function(e,t,r){var o=e[t];o&&o.apply(this,r||Polymer.nar)},_marshalBehaviors:function(){this.behaviors.forEach(function(e){this._marshalBehavior(e)},this),this._marshalBehavior(this)}}),Polymer.Base._addFeature({_getExtendedPrototype:function(e){return this._getExtendedNativePrototype(e)},_nativePrototypes:{},_getExtendedNativePrototype:function(e){var t=this._nativePrototypes[e];if(!t){var r=this.getNativePrototype(e);t=this.extend(Object.create(r),Polymer.Base),this._nativePrototypes[e]=t}return t},getNativePrototype:function(e){return Object.getPrototypeOf(document.createElement(e))}}),Polymer.Base._addFeature({_prepConstructor:function(){this._factoryArgs=this["extends"]?[this["extends"],this.is]:[this.is];var e=function(){return this._factory(arguments)};this.hasOwnProperty("extends")&&(e["extends"]=this["extends"]),Object.defineProperty(this,"constructor",{value:e,writable:!0,configurable:!0}),e.prototype=this},_factory:function(e){var t=document.createElement.apply(document,this._factoryArgs);return this.factoryImpl&&this.factoryImpl.apply(t,e),t}}),Polymer.nob=Object.create(null),Polymer.Base._addFeature({properties:{},getPropertyInfo:function(e){var t=this._getPropertyInfo(e,this.properties);return t||this.behaviors.some(function(r){return t=this._getPropertyInfo(e,r.properties)},this),t||Polymer.nob},_getPropertyInfo:function(e,t){var r=t&&t[e];return"function"==typeof r&&(r=t[e]={type:r}),r&&(r.defined=!0),r}}),Polymer.CaseMap={_caseMap:{},dashToCamelCase:function(e){var t=Polymer.CaseMap._caseMap[e];return t?t:e.indexOf("-")<0?Polymer.CaseMap._caseMap[e]=e:Polymer.CaseMap._caseMap[e]=e.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})},camelToDashCase:function(e){var t=Polymer.CaseMap._caseMap[e];return t?t:Polymer.CaseMap._caseMap[e]=e.replace(/([a-z][A-Z])/g,function(e){return e[0]+"-"+e[1].toLowerCase()})}},Polymer.Base._addFeature({_prepAttributes:function(){this._aggregatedAttributes={}},_addHostAttributes:function(e){e&&this.mixin(this._aggregatedAttributes,e)},_marshalHostAttributes:function(){this._applyAttributes(this,this._aggregatedAttributes)},_applyAttributes:function(e,t){for(var r in t)this.hasAttribute(r)||"class"===r||this.serializeValueToAttribute(t[r],r,this)},_marshalAttributes:function(){this._takeAttributesToModel(this)},_takeAttributesToModel:function(e){for(var t=0,r=this.attributes.length;r>t;t++)this._setAttributeToProperty(e,this.attributes[t].name)},_setAttributeToProperty:function(e,t){if(!this._serializing){var r=Polymer.CaseMap.dashToCamelCase(t),o=this.getPropertyInfo(r);if(o.defined||this._propertyEffects&&this._propertyEffects[r]){var i=this.getAttribute(t);e[r]=this.deserialize(i,o.type)}}},_serializing:!1,reflectPropertyToAttribute:function(e){this._serializing=!0,this.serializeValueToAttribute(this[e],Polymer.CaseMap.camelToDashCase(e)),this._serializing=!1},serializeValueToAttribute:function(e,t,r){var o=this.serialize(e);(r||this)[void 0===o?"removeAttribute":"setAttribute"](t,o)},deserialize:function(e,t){switch(t){case Number:e=Number(e);break;case Boolean:e=null!==e;break;case Object:try{e=JSON.parse(e)}catch(r){}break;case Array:try{e=JSON.parse(e)}catch(r){e=null,void 0}break;case Date:e=new Date(e);break;case String:}return e},serialize:function(e){switch(typeof e){case"boolean":return e?"":void 0;case"object":if(e instanceof Date)return e;if(e)try{return JSON.stringify(e)}catch(t){return""}default:return null!=e?e:void 0}}}),Polymer.Base._addFeature({_setupDebouncers:function(){this._debouncers={}},debounce:function(e,t,r){return this._debouncers[e]=Polymer.Debounce.call(this,this._debouncers[e],t,r)},isDebouncerActive:function(e){var t=this._debouncers[e];return t&&t.finish},flushDebouncer:function(e){var t=this._debouncers[e];t&&t.complete()},cancelDebouncer:function(e){var t=this._debouncers[e];t&&t.stop()}}),Polymer.version="1.1.1",Polymer.Base._addFeature({_registerFeatures:function(){this._prepIs(),this._prepAttributes(),this._prepBehaviors(),this._prepConstructor()},_prepBehavior:function(e){this._addHostAttributes(e.hostAttributes)},_marshalBehavior:function(e){},_initFeatures:function(){this._marshalHostAttributes(),this._setupDebouncers(),this._marshalBehaviors()}});
;Polymer.Base._addFeature({_prepTemplate:function(){this._template=this._template||Polymer.DomModule["import"](this.is,"template"),this._template&&this._template.hasAttribute("is")&&this._warn(this._logf("_prepTemplate","top-level Polymer template must not be a type-extension, found",this._template,"Move inside simple <template>.")),this._template&&!this._template.content&&HTMLTemplateElement.bootstrap&&(HTMLTemplateElement.decorate(this._template),HTMLTemplateElement.bootstrap(this._template.content))},_stampTemplate:function(){this._template&&(this.root=this.instanceTemplate(this._template))},instanceTemplate:function(t){var e=document.importNode(t._content||t.content,!0);return e}}),function(){var t=Polymer.Base.attachedCallback;Polymer.Base._addFeature({_hostStack:[],ready:function(){},_pushHost:function(t){this.dataHost=t=t||Polymer.Base._hostStack[Polymer.Base._hostStack.length-1],t&&t._clients&&t._clients.push(this),this._beginHost()},_beginHost:function(){Polymer.Base._hostStack.push(this),this._clients||(this._clients=[])},_popHost:function(){Polymer.Base._hostStack.pop()},_tryReady:function(){this._canReady()&&this._ready()},_canReady:function(){return!this.dataHost||this.dataHost._clientsReadied},_ready:function(){this._beforeClientsReady(),this._setupRoot(),this._readyClients(),this._afterClientsReady(),this._readySelf()},_readyClients:function(){this._beginDistribute();for(var t,e=this._clients,o=0,n=e.length;n>o&&(t=e[o]);o++)t._ready();this._finishDistribute(),this._clientsReadied=!0,this._clients=null},_readySelf:function(){this._doBehavior("ready"),this._readied=!0,this._attachedPending&&(this._attachedPending=!1,this.attachedCallback())},_beforeClientsReady:function(){},_afterClientsReady:function(){},_beforeAttached:function(){},attachedCallback:function(){this._readied?(this._beforeAttached(),t.call(this)):this._attachedPending=!0}})}(),Polymer.ArraySplice=function(){function t(t,e,o){return{index:t,removed:e,addedCount:o}}function e(){}var o=0,n=1,i=2,r=3;return e.prototype={calcEditDistances:function(t,e,o,n,i,r){for(var s=r-i+1,a=o-e+1,d=new Array(s),h=0;s>h;h++)d[h]=new Array(a),d[h][0]=h;for(var l=0;a>l;l++)d[0][l]=l;for(var h=1;s>h;h++)for(var l=1;a>l;l++)if(this.equals(t[e+l-1],n[i+h-1]))d[h][l]=d[h-1][l-1];else{var u=d[h-1][l]+1,c=d[h][l-1]+1;d[h][l]=c>u?u:c}return d},spliceOperationsFromEditDistances:function(t){for(var e=t.length-1,s=t[0].length-1,a=t[e][s],d=[];e>0||s>0;)if(0!=e)if(0!=s){var h,l=t[e-1][s-1],u=t[e-1][s],c=t[e][s-1];h=c>u?l>u?u:l:l>c?c:l,h==l?(l==a?d.push(o):(d.push(n),a=l),e--,s--):h==u?(d.push(r),e--,a=u):(d.push(i),s--,a=c)}else d.push(r),e--;else d.push(i),s--;return d.reverse(),d},calcSplices:function(e,s,a,d,h,l){var u=0,c=0,f=Math.min(a-s,l-h);if(0==s&&0==h&&(u=this.sharedPrefix(e,d,f)),a==e.length&&l==d.length&&(c=this.sharedSuffix(e,d,f-u)),s+=u,h+=u,a-=c,l-=c,a-s==0&&l-h==0)return[];if(s==a){for(var _=t(s,[],0);l>h;)_.removed.push(d[h++]);return[_]}if(h==l)return[t(s,[],a-s)];for(var p=this.spliceOperationsFromEditDistances(this.calcEditDistances(e,s,a,d,h,l)),_=void 0,m=[],y=s,v=h,g=0;g<p.length;g++)switch(p[g]){case o:_&&(m.push(_),_=void 0),y++,v++;break;case n:_||(_=t(y,[],0)),_.addedCount++,y++,_.removed.push(d[v]),v++;break;case i:_||(_=t(y,[],0)),_.addedCount++,y++;break;case r:_||(_=t(y,[],0)),_.removed.push(d[v]),v++}return _&&m.push(_),m},sharedPrefix:function(t,e,o){for(var n=0;o>n;n++)if(!this.equals(t[n],e[n]))return n;return o},sharedSuffix:function(t,e,o){for(var n=t.length,i=e.length,r=0;o>r&&this.equals(t[--n],e[--i]);)r++;return r},calculateSplices:function(t,e){return this.calcSplices(t,0,t.length,e,0,e.length)},equals:function(t,e){return t===e}},new e}(),Polymer.EventApi=function(){var t=Polymer.Settings,e=function(t){this.event=t};t.useShadow?e.prototype={get rootTarget(){return this.event.path[0]},get localTarget(){return this.event.target},get path(){return this.event.path}}:e.prototype={get rootTarget(){return this.event.target},get localTarget(){for(var t=this.event.currentTarget,e=t&&Polymer.dom(t).getOwnerRoot(),o=this.path,n=0;n<o.length;n++)if(Polymer.dom(o[n]).getOwnerRoot()===e)return o[n]},get path(){if(!this.event._path){for(var t=[],e=this.rootTarget;e;)t.push(e),e=Polymer.dom(e).parentNode||e.host;t.push(window),this.event._path=t}return this.event._path}};var o=function(t){return t.__eventApi||(t.__eventApi=new e(t)),t.__eventApi};return{factory:o}}(),Polymer.domInnerHTML=function(){function t(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case" ":return"&nbsp;"}}function e(e){return e.replace(s,t)}function o(e){return e.replace(a,t)}function n(t){for(var e={},o=0;o<t.length;o++)e[t[o]]=!0;return e}function i(t,n,i){switch(t.nodeType){case Node.ELEMENT_NODE:for(var s,a=t.localName,l="<"+a,u=t.attributes,c=0;s=u[c];c++)l+=" "+s.name+'="'+e(s.value)+'"';return l+=">",d[a]?l:l+r(t,i)+"</"+a+">";case Node.TEXT_NODE:var f=t.data;return n&&h[n.localName]?f:o(f);case Node.COMMENT_NODE:return"<!--"+t.data+"-->";default:throw void 0,new Error("not implemented")}}function r(t,e){t instanceof HTMLTemplateElement&&(t=t.content);var o="",n=Polymer.dom(t).childNodes;n=e?t._composedChildren:n;for(var r,s=0,a=n.length;a>s&&(r=n[s]);s++)o+=i(r,t,e);return o}var s=/[&\u00A0"]/g,a=/[&\u00A0<>]/g,d=n(["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]),h=n(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);return{getInnerHTML:r}}(),Polymer.DomApi=function(){"use strict";function t(t){var e=t._lightChildren;return e?e:t.childNodes}function e(t){return t._composedChildren||(t._composedChildren=Array.prototype.slice.call(t.childNodes)),t._composedChildren}function o(t,o,i){var r=e(t),s=i?r.indexOf(i):-1;if(o.nodeType===Node.DOCUMENT_FRAGMENT_NODE){for(var a=e(o),d=0;d<a.length;d++)n(a[d],t,r,s+d);o._composedChildren=null}else n(o,t,r,s)}function n(t,e,o,n){t._composedParent=e,o.splice(n>=0?n:o.length,0,t)}function i(t,o){if(o._composedParent=null,t){var n=e(t),i=n.indexOf(o);i>=0&&n.splice(i,1)}}function r(t){if(!t._lightChildren){for(var e,o=Array.prototype.slice.call(t.childNodes),n=0,i=o.length;i>n&&(e=o[n]);n++)e._lightParent=e._lightParent||t;t._lightChildren=o}}function s(t){return Boolean(t&&t._insertionPoints.length)}var a=Polymer.Settings,d=Polymer.domInnerHTML.getInnerHTML,h=Element.prototype.insertBefore,l=Element.prototype.removeChild,u=Element.prototype.appendChild,c=Element.prototype.cloneNode,f=Document.prototype.importNode,_=function(t){this.node=t,this.patch&&this.patch()};if(window.wrap&&a.useShadow&&!a.useNativeShadow&&(_=function(t){this.node=wrap(t),this.patch&&this.patch()}),_.prototype={flush:function(){Polymer.dom.flush()},_lazyDistribute:function(t){t.shadyRoot&&t.shadyRoot._distributionClean&&(t.shadyRoot._distributionClean=!1,Polymer.dom.addDebouncer(t.debounce("_distribute",t._distributeContent)))},appendChild:function(t){return this._addNode(t)},insertBefore:function(t,e){return this._addNode(t,e)},_addNode:function(t,e){this._removeNodeFromHost(t,!0);var n,i=this.getOwnerRoot();if(i&&(n=this._maybeAddInsertionPoint(t,this.node)),this._nodeHasLogicalChildren(this.node)){if(e){var r=this.childNodes,s=r.indexOf(e);if(0>s)throw Error("The ref_node to be inserted before is not a child of this node")}this._addLogicalInfo(t,this.node,s)}if(this._addNodeToHost(t),!this._maybeDistribute(t,this.node)&&!this._tryRemoveUndistributedNode(t)){e&&(e=e.localName===m?this._firstComposedNode(e):e);var a=this.node._isShadyRoot?this.node.host:this.node;o(a,t,e),e?h.call(a,t,e):u.call(a,t)}return n&&this._updateInsertionPoints(i.host),t},removeChild:function(t){if(y(t).parentNode!==this.node&&void 0,this._removeNodeFromHost(t),!this._maybeDistribute(t,this.node)){var e=this.node._isShadyRoot?this.node.host:this.node;e===t.parentNode&&(i(e,t),l.call(e,t))}return t},replaceChild:function(t,e){return this.insertBefore(t,e),this.removeChild(e),t},_hasCachedOwnerRoot:function(t){return Boolean(void 0!==t._ownerShadyRoot)},getOwnerRoot:function(){return this._ownerShadyRootForNode(this.node)},_ownerShadyRootForNode:function(t){if(t){if(void 0===t._ownerShadyRoot){var e;if(t._isShadyRoot)e=t;else{var o=Polymer.dom(t).parentNode;e=o?o._isShadyRoot?o:this._ownerShadyRootForNode(o):null}t._ownerShadyRoot=e}return t._ownerShadyRoot}},_maybeDistribute:function(t,e){var o=t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&!t.__noContent&&Polymer.dom(t).querySelector(m),n=o&&Polymer.dom(o).parentNode.nodeType!==Node.DOCUMENT_FRAGMENT_NODE,i=o||t.localName===m;if(i){var r=this._ownerShadyRootForNode(e);if(r){var s=r.host;this._lazyDistribute(s)}}var a=this._parentNeedsDistribution(e);return a&&this._lazyDistribute(e),a||i&&!n},_maybeAddInsertionPoint:function(t,e){var o;if(t.nodeType!==Node.DOCUMENT_FRAGMENT_NODE||t.__noContent)t.localName===m&&(r(e),r(t),o=!0);else for(var n,i,s,a=y(t).querySelectorAll(m),d=0;d<a.length&&(n=a[d]);d++)i=y(n).parentNode,i===t&&(i=e),s=this._maybeAddInsertionPoint(n,i),o=o||s;return o},_tryRemoveUndistributedNode:function(t){return this.node.shadyRoot?(t._composedParent&&l.call(t._composedParent,t),!0):void 0},_updateInsertionPoints:function(t){for(var e,o=t.shadyRoot._insertionPoints=y(t.shadyRoot).querySelectorAll(m),n=0;n<o.length;n++)e=o[n],r(e),r(y(e).parentNode)},_nodeHasLogicalChildren:function(t){return Boolean(void 0!==t._lightChildren)},_parentNeedsDistribution:function(t){return t&&t.shadyRoot&&s(t.shadyRoot)},_removeNodeFromHost:function(t,e){var o,n,r=t._lightParent;r&&(y(t)._distributeParent(),n=this._ownerShadyRootForNode(t),n&&(n.host._elementRemove(t),o=this._removeDistributedChildren(n,t)),this._removeLogicalInfo(t,t._lightParent)),this._removeOwnerShadyRoot(t),n&&o?(this._updateInsertionPoints(n.host),this._lazyDistribute(n.host)):e&&i(t._composedParent,t)},_removeDistributedChildren:function(t,e){for(var o,n=t._insertionPoints,r=0;r<n.length;r++){var s=n[r];if(this._contains(e,s))for(var a=y(s).getDistributedNodes(),d=0;d<a.length;d++){o=!0;var h=a[d],u=h.parentNode;u&&(i(u,h),l.call(u,h))}}return o},_contains:function(t,e){for(;e;){if(e==t)return!0;e=y(e).parentNode}},_addNodeToHost:function(t){var e=this.getOwnerRoot();e&&e.host._elementAdd(t)},_addLogicalInfo:function(t,e,o){var n=y(e).childNodes;if(o=void 0===o?n.length:o,t.nodeType===Node.DOCUMENT_FRAGMENT_NODE)for(var i,r=Array.prototype.slice.call(t.childNodes),s=0;s<r.length&&(i=r[s]);s++)n.splice(o++,0,i),i._lightParent=e;else n.splice(o,0,t),t._lightParent=e},_removeLogicalInfo:function(t,e){var o=y(e).childNodes,n=o.indexOf(t);if(0>n||e!==t._lightParent)throw Error("The node to be removed is not a child of this node");o.splice(n,1),t._lightParent=null},_removeOwnerShadyRoot:function(t){if(this._hasCachedOwnerRoot(t))for(var e,o=y(t).childNodes,n=0,i=o.length;i>n&&(e=o[n]);n++)this._removeOwnerShadyRoot(e);t._ownerShadyRoot=void 0},_firstComposedNode:function(t){for(var e,o,n=y(t).getDistributedNodes(),i=0,r=n.length;r>i&&(e=n[i]);i++)if(o=y(e).getDestinationInsertionPoints(),o[o.length-1]===t)return e},querySelector:function(t){return this.querySelectorAll(t)[0]},querySelectorAll:function(t){return this._query(function(e){return g.call(e,t)},this.node)},_query:function(t,e){e=e||this.node;var o=[];return this._queryElements(y(e).childNodes,t,o),o},_queryElements:function(t,e,o){for(var n,i=0,r=t.length;r>i&&(n=t[i]);i++)n.nodeType===Node.ELEMENT_NODE&&this._queryElement(n,e,o)},_queryElement:function(t,e,o){e(t)&&o.push(t),this._queryElements(y(t).childNodes,e,o)},getDestinationInsertionPoints:function(){return this.node._destinationInsertionPoints||[]},getDistributedNodes:function(){return this.node._distributedNodes||[]},queryDistributedElements:function(t){var e=this.childNodes,o=[];this._distributedFilter(t,e,o);for(var n,i=0,r=e.length;r>i&&(n=e[i]);i++)n.localName===m&&this._distributedFilter(t,y(n).getDistributedNodes(),o);return o},_distributedFilter:function(t,e,o){o=o||[];for(var n,i=0,r=e.length;r>i&&(n=e[i]);i++)n.nodeType===Node.ELEMENT_NODE&&n.localName!==m&&g.call(n,t)&&o.push(n);return o},_clear:function(){for(;this.childNodes.length;)this.removeChild(this.childNodes[0])},setAttribute:function(t,e){this.node.setAttribute(t,e),this._distributeParent()},removeAttribute:function(t){this.node.removeAttribute(t),this._distributeParent()},_distributeParent:function(){this._parentNeedsDistribution(this.parentNode)&&this._lazyDistribute(this.parentNode)},cloneNode:function(t){var e=c.call(this.node,!1);if(t)for(var o,n=this.childNodes,i=y(e),r=0;r<n.length;r++)o=y(n[r]).cloneNode(!0),i.appendChild(o);return e},importNode:function(t,e){var o=this.node instanceof Document?this.node:this.node.ownerDocument,n=f.call(o,t,!1);if(e)for(var i,r=y(t).childNodes,s=y(n),a=0;a<r.length;a++)i=y(o).importNode(r[a],!0),s.appendChild(i);return n}},Object.defineProperty(_.prototype,"classList",{get:function(){return this._classList||(this._classList=new _.ClassList(this)),this._classList},configurable:!0}),_.ClassList=function(t){this.domApi=t,this.node=t.node},_.ClassList.prototype={add:function(){this.node.classList.add.apply(this.node.classList,arguments),this.domApi._distributeParent()},remove:function(){this.node.classList.remove.apply(this.node.classList,arguments),this.domApi._distributeParent()},toggle:function(){this.node.classList.toggle.apply(this.node.classList,arguments),this.domApi._distributeParent()},contains:function(){return this.node.classList.contains.apply(this.node.classList,arguments)}},a.useShadow){_.prototype.querySelectorAll=function(t){return Array.prototype.slice.call(this.node.querySelectorAll(t))},_.prototype.getOwnerRoot=function(){for(var t=this.node;t;){if(t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&t.host)return t;t=t.parentNode}},_.prototype.cloneNode=function(t){return this.node.cloneNode(t)},_.prototype.importNode=function(t,e){var o=this.node instanceof Document?this.node:this.node.ownerDocument;return o.importNode(t,e)},_.prototype.getDestinationInsertionPoints=function(){var t=this.node.getDestinationInsertionPoints&&this.node.getDestinationInsertionPoints();return t?Array.prototype.slice.call(t):[]},_.prototype.getDistributedNodes=function(){var t=this.node.getDistributedNodes&&this.node.getDistributedNodes();return t?Array.prototype.slice.call(t):[]},_.prototype._distributeParent=function(){},Object.defineProperties(_.prototype,{childNodes:{get:function(){return Array.prototype.slice.call(this.node.childNodes)},configurable:!0},children:{get:function(){return Array.prototype.slice.call(this.node.children)},configurable:!0},textContent:{get:function(){return this.node.textContent},set:function(t){return this.node.textContent=t},configurable:!0},innerHTML:{get:function(){return this.node.innerHTML},set:function(t){return this.node.innerHTML=t},configurable:!0}});var p=["parentNode","firstChild","lastChild","nextSibling","previousSibling","firstElementChild","lastElementChild","nextElementSibling","previousElementSibling"];p.forEach(function(t){Object.defineProperty(_.prototype,t,{get:function(){return this.node[t]},configurable:!0})})}else Object.defineProperties(_.prototype,{childNodes:{get:function(){var e=t(this.node);return Array.isArray(e)?e:Array.prototype.slice.call(e)},configurable:!0},children:{get:function(){return Array.prototype.filter.call(this.childNodes,function(t){return t.nodeType===Node.ELEMENT_NODE})},configurable:!0},parentNode:{get:function(){return this.node._lightParent||(this.node.__patched?this.node._composedParent:this.node.parentNode)},configurable:!0},firstChild:{get:function(){return this.childNodes[0]},configurable:!0},lastChild:{get:function(){var t=this.childNodes;return t[t.length-1]},configurable:!0},nextSibling:{get:function(){var t=this.parentNode&&y(this.parentNode).childNodes;return t?t[Array.prototype.indexOf.call(t,this.node)+1]:void 0},configurable:!0},previousSibling:{get:function(){var t=this.parentNode&&y(this.parentNode).childNodes;return t?t[Array.prototype.indexOf.call(t,this.node)-1]:void 0},configurable:!0},firstElementChild:{get:function(){return this.children[0]},configurable:!0},lastElementChild:{get:function(){var t=this.children;return t[t.length-1]},configurable:!0},nextElementSibling:{get:function(){var t=this.parentNode&&y(this.parentNode).children;return t?t[Array.prototype.indexOf.call(t,this.node)+1]:void 0},configurable:!0},previousElementSibling:{get:function(){var t=this.parentNode&&y(this.parentNode).children;return t?t[Array.prototype.indexOf.call(t,this.node)-1]:void 0},configurable:!0},textContent:{get:function(){var t=this.node.nodeType;if(t===Node.TEXT_NODE||t===Node.COMMENT_NODE)return this.node.textContent;for(var e,o=[],n=0,i=this.childNodes;e=i[n];n++)e.nodeType!==Node.COMMENT_NODE&&o.push(e.textContent);return o.join("")},set:function(t){var e=this.node.nodeType;e===Node.TEXT_NODE||e===Node.COMMENT_NODE?this.node.textContent=t:(this._clear(),t&&this.appendChild(document.createTextNode(t)))},configurable:!0},innerHTML:{get:function(){var t=this.node.nodeType;return t===Node.TEXT_NODE||t===Node.COMMENT_NODE?null:d(this.node)},set:function(t){var e=this.node.nodeType;if(e!==Node.TEXT_NODE||e!==Node.COMMENT_NODE){this._clear();var o=document.createElement("div");o.innerHTML=t;for(var n=Array.prototype.slice.call(o.childNodes),i=0;i<n.length;i++)this.appendChild(n[i])}},configurable:!0}}),_.prototype._getComposedInnerHTML=function(){return d(this.node,!0)};var m="content",y=function(t,e){return t=t||document,t.__domApi||(t.__domApi=new _(t,e)),t.__domApi};Polymer.dom=function(t,e){return t instanceof Event?Polymer.EventApi.factory(t):y(t,e)},Polymer.Base.extend(Polymer.dom,{_flushGuard:0,_FLUSH_MAX:100,_needsTakeRecords:!Polymer.Settings.useNativeCustomElements,_debouncers:[],_finishDebouncer:null,flush:function(){for(var t=0;t<this._debouncers.length;t++)this._debouncers[t].complete();this._finishDebouncer&&this._finishDebouncer.complete(),this._flushPolyfills(),this._debouncers.length&&this._flushGuard<this._FLUSH_MAX?(this._flushGuard++,this.flush()):(this._flushGuard>=this._FLUSH_MAX&&void 0,this._flushGuard=0)},_flushPolyfills:function(){this._needsTakeRecords&&CustomElements.takeRecords()},addDebouncer:function(t){this._debouncers.push(t),this._finishDebouncer=Polymer.Debounce(this._finishDebouncer,this._finishFlush)},_finishFlush:function(){Polymer.dom._debouncers=[]}});var v=Element.prototype,g=v.matches||v.matchesSelector||v.mozMatchesSelector||v.msMatchesSelector||v.oMatchesSelector||v.webkitMatchesSelector;return{getLightChildren:t,getComposedChildren:e,removeFromComposedParent:i,saveLightChildrenIfNeeded:r,matchesSelector:g,hasInsertionPoint:s,ctor:_,factory:y}}(),function(){function t(t,e){e._distributedNodes.push(t);var o=t._destinationInsertionPoints;o?o.push(e):t._destinationInsertionPoints=[e]}function e(t){var e=t._distributedNodes;if(e)for(var o=0;o<e.length;o++){var n=e[o]._destinationInsertionPoints;n&&n.splice(n.indexOf(t)+1,n.length)}}function o(t,e){var o=t._lightParent;o&&o.shadyRoot&&_(o.shadyRoot)&&o.shadyRoot._distributionClean&&(o.shadyRoot._distributionClean=!1,e.shadyRoot._dirtyRoots.push(o))}function n(t,e){var o=e._destinationInsertionPoints;return o&&o[o.length-1]===t}function i(t){return"content"==t.localName}function r(t,e,o){var n=a(e);n!==t&&m(n,e),s(e),y.call(t,e,o||null),e._composedParent=t}function s(t){var e=a(t);e&&(t._composedParent=null,v.call(e,t))}function a(t){return t.__patched?t._composedParent:t.parentNode}function d(t){for(;t&&h(t);)t=t.domHost;return t}function h(t){for(var e,o=Polymer.dom(t).children,n=0;n<o.length;n++)if(e=o[n],"content"===e.localName)return t.domHost}function l(t){if(g&&t)for(var e=0;e<t.length;e++)CustomElements.upgrade(t[e])}Polymer.Base._addFeature({_prepShady:function(){this._useContent=this._useContent||Boolean(this._template)},_poolContent:function(){this._useContent&&u(this)},_setupRoot:function(){this._useContent&&(this._createLocalRoot(),this.dataHost||l(this._lightChildren))},_createLocalRoot:function(){this.shadyRoot=this.root,this.shadyRoot._distributionClean=!1,this.shadyRoot._isShadyRoot=!0,this.shadyRoot._dirtyRoots=[];var t=this.shadyRoot._insertionPoints=!this._notes||this._notes._hasContent?this.shadyRoot.querySelectorAll("content"):[];u(this.shadyRoot);for(var e,o=0;o<t.length;o++)e=t[o],u(e),u(e.parentNode);this.shadyRoot.host=this},get domHost(){var t=Polymer.dom(this).getOwnerRoot();return t&&t.host},distributeContent:function(t){if(this.shadyRoot){var e=Polymer.dom(this);t&&e._updateInsertionPoints(this);var o=d(this);e._lazyDistribute(o)}},_distributeContent:function(){this._useContent&&!this.shadyRoot._distributionClean&&(this._beginDistribute(),this._distributeDirtyRoots(),this._finishDistribute())},_beginDistribute:function(){this._useContent&&_(this.shadyRoot)&&(this._resetDistribution(),this._distributePool(this.shadyRoot,this._collectPool()))},_distributeDirtyRoots:function(){for(var t,e=this.shadyRoot._dirtyRoots,o=0,n=e.length;n>o&&(t=e[o]);o++)t._distributeContent();this.shadyRoot._dirtyRoots=[]},_finishDistribute:function(){if(this._useContent){if(this.shadyRoot._distributionClean=!0,_(this.shadyRoot))this._composeTree();else if(this.shadyRoot._hasDistributed){var t=this._composeNode(this);this._updateChildNodes(this,t)}else this.textContent="",this._composedChildren=null,this.appendChild(this.shadyRoot);this.shadyRoot._hasDistributed=!0}},elementMatches:function(t,e){return e=e||this,f.call(e,t)},_resetDistribution:function(){for(var t=c(this),o=0;o<t.length;o++){var n=t[o];n._destinationInsertionPoints&&(n._destinationInsertionPoints=void 0),i(n)&&e(n)}for(var r=this.shadyRoot,s=r._insertionPoints,a=0;a<s.length;a++)s[a]._distributedNodes=[]},_collectPool:function(){for(var t=[],e=c(this),o=0;o<e.length;o++){var n=e[o];i(n)?t.push.apply(t,n._distributedNodes):t.push(n)}return t},_distributePool:function(t,e){for(var n,i=t._insertionPoints,r=0,s=i.length;s>r&&(n=i[r]);r++)this._distributeInsertionPoint(n,e),o(n,this)},_distributeInsertionPoint:function(e,o){for(var n,i=!1,r=0,s=o.length;s>r;r++)n=o[r],n&&this._matchesContentSelect(n,e)&&(t(n,e),o[r]=void 0,i=!0);if(!i)for(var a=c(e),d=0;d<a.length;d++)t(a[d],e)},_composeTree:function(){this._updateChildNodes(this,this._composeNode(this));for(var t,e,o=this.shadyRoot._insertionPoints,n=0,i=o.length;i>n&&(t=o[n]);n++)e=t._lightParent||t.parentNode,e._useContent||e===this||e===this.shadyRoot||this._updateChildNodes(e,this._composeNode(e))},_composeNode:function(t){for(var e=[],o=c(t.shadyRoot||t),r=0;r<o.length;r++){var s=o[r];if(i(s))for(var a=s._distributedNodes,d=0;d<a.length;d++){var h=a[d];n(s,h)&&e.push(h)}else e.push(s)}return e},_updateChildNodes:function(t,e){for(var o,n=p(t),i=Polymer.ArraySplice.calculateSplices(e,n),a=0,d=0;a<i.length&&(o=i[a]);a++){for(var h,l=0;l<o.removed.length&&(h=o.removed[l]);l++)s(h),n.splice(o.index+d,1);d-=o.addedCount}for(var o,u,a=0;a<i.length&&(o=i[a]);a++){u=n[o.index];for(var h,l=o.index;l<o.index+o.addedCount;l++)h=e[l],r(t,h,u),n.splice(l,0,h)}},_matchesContentSelect:function(t,e){var o=e.getAttribute("select");if(!o)return!0;if(o=o.trim(),!o)return!0;if(!(t instanceof Element))return!1;var n=/^(:not\()?[*.#[a-zA-Z_|]/;return n.test(o)?this.elementMatches(o,t):!1},_elementAdd:function(){},_elementRemove:function(){}});var u=Polymer.DomApi.saveLightChildrenIfNeeded,c=Polymer.DomApi.getLightChildren,f=Polymer.DomApi.matchesSelector,_=Polymer.DomApi.hasInsertionPoint,p=Polymer.DomApi.getComposedChildren,m=Polymer.DomApi.removeFromComposedParent,y=Element.prototype.insertBefore,v=Element.prototype.removeChild,g=window.CustomElements&&!CustomElements.useNative}(),Polymer.Settings.useShadow&&Polymer.Base._addFeature({_poolContent:function(){},_beginDistribute:function(){},distributeContent:function(){},_distributeContent:function(){},_finishDistribute:function(){},_createLocalRoot:function(){this.createShadowRoot(),this.shadowRoot.appendChild(this.root),this.root=this.shadowRoot}}),Polymer.DomModule=document.createElement("dom-module"),Polymer.Base._addFeature({_registerFeatures:function(){this._prepIs(),this._prepAttributes(),this._prepBehaviors(),this._prepConstructor(),this._prepTemplate(),this._prepShady()},_prepBehavior:function(t){this._addHostAttributes(t.hostAttributes)},_initFeatures:function(){this._poolContent(),this._pushHost(),this._stampTemplate(),this._popHost(),this._marshalHostAttributes(),this._setupDebouncers(),this._marshalBehaviors(),this._tryReady()},_marshalBehavior:function(t){}});
;Polymer.nar=[],Polymer.Annotations={parseAnnotations:function(t){var e=[],n=t._content||t.content;return this._parseNodeAnnotations(n,e),e},_parseNodeAnnotations:function(t,e){return t.nodeType===Node.TEXT_NODE?this._parseTextNodeAnnotation(t,e):this._parseElementAnnotations(t,e)},_testEscape:function(t){var e=t.slice(0,2);return"{{"===e||"[["===e?e:void 0},_parseTextNodeAnnotation:function(t,e){var n=t.textContent,s=this._testEscape(n);if(s){t.textContent=" ";var r={bindings:[{kind:"text",mode:s[0],value:n.slice(2,-2).trim()}]};return e.push(r),r}},_parseElementAnnotations:function(t,e){var n={bindings:[],events:[]};return"content"===t.localName&&(e._hasContent=!0),this._parseChildNodesAnnotations(t,n,e),t.attributes&&(this._parseNodeAttributeAnnotations(t,n,e),this.prepElement&&this.prepElement(t)),(n.bindings.length||n.events.length||n.id)&&e.push(n),n},_parseChildNodesAnnotations:function(t,e,n,s){if(t.firstChild)for(var r=0,i=t.firstChild;i;i=i.nextSibling,r++){if("template"!==i.localName||i.hasAttribute("preserve-content")||this._parseTemplate(i,r,n,e),i.nodeType===Node.TEXT_NODE)for(var o=i.nextSibling;o&&o.nodeType===Node.TEXT_NODE;)i.textContent+=o.textContent,t.removeChild(o),o=o.nextSibling;var a=this._parseNodeAnnotations(i,n,s);a&&(a.parent=e,a.index=r)}},_parseTemplate:function(t,e,n,s){var r=document.createDocumentFragment();r._notes=this.parseAnnotations(t),r.appendChild(t.content),n.push({bindings:Polymer.nar,events:Polymer.nar,templateContent:r,parent:s,index:e})},_parseNodeAttributeAnnotations:function(t,e){for(var n,s=t.attributes.length-1;n=t.attributes[s];s--){var r=n.name,i=n.value;if("id"!==r||this._testEscape(i))if("on-"===r.slice(0,3))t.removeAttribute(r),e.events.push({name:r.slice(3),value:i});else{var o=this._parseNodeAttributeAnnotation(t,r,i);o&&e.bindings.push(o)}else e.id=i}},_parseNodeAttributeAnnotation:function(t,e,n){var s=this._testEscape(n);if(s){var r,i=e,o=s[0];n=n.slice(2,-2).trim();var a=!1;"!"==n[0]&&(n=n.substring(1),a=!0);var l="property";"$"==e[e.length-1]&&(i=e.slice(0,-1),l="attribute");var c,h;return"{"==o&&(h=n.indexOf("::"))>0&&(c=n.substring(h+2),n=n.substring(0,h),r=!0),"input"==t.localName&&"value"==e&&t.setAttribute(e,""),t.removeAttribute(e),"property"===l&&(i=Polymer.CaseMap.dashToCamelCase(i)),{kind:l,mode:o,name:i,value:n,negate:a,event:c,customEvent:r}}},_localSubTree:function(t,e){return t===e?t.childNodes:t._lightChildren||t.childNodes},findAnnotatedNode:function(t,e){var n=e.parent&&Polymer.Annotations.findAnnotatedNode(t,e.parent);return n?Polymer.Annotations._localSubTree(n,t)[e.index]:t}},function(){function t(t,e){return t.replace(a,function(t,s,r,i){return s+"'"+n(r.replace(/["']/g,""),e)+"'"+i})}function e(e,s){for(var r in l)for(var i,o,a,h=l[r],u=0,f=h.length;f>u&&(i=h[u]);u++)("*"===r||e.localName===r)&&(o=e.attributes[i],a=o&&o.value,a&&a.search(c)<0&&(o.value="style"===i?t(a,s):n(a,s)))}function n(t,e){if(t&&"#"===t[0])return t;var n=r(e);return n.href=t,n.href||t}function s(t,e){return i||(i=document.implementation.createHTMLDocument("temp"),o=i.createElement("base"),i.head.appendChild(o)),o.href=e,n(t,i)}function r(t){return t.__urlResolver||(t.__urlResolver=t.createElement("a"))}var i,o,a=/(url\()([^)]*)(\))/g,l={"*":["href","src","style","url"],form:["action"]},c=/\{\{|\[\[/;Polymer.ResolveUrl={resolveCss:t,resolveAttrs:e,resolveUrl:s}}(),Polymer.Base._addFeature({_prepAnnotations:function(){this._template?(Polymer.Annotations.prepElement=this._prepElement.bind(this),this._notes=Polymer.Annotations.parseAnnotations(this._template),this._processAnnotations(this._notes),Polymer.Annotations.prepElement=null):this._notes=[]},_processAnnotations:function(t){for(var e=0;e<t.length;e++){for(var n=t[e],s=0;s<n.bindings.length;s++){var r=n.bindings[s];r.signature=this._parseMethod(r.value),r.signature||(r.model=this._modelForPath(r.value))}if(n.templateContent){this._processAnnotations(n.templateContent._notes);var i=n.templateContent._parentProps=this._discoverTemplateParentProps(n.templateContent._notes),o=[];for(var a in i)o.push({index:n.index,kind:"property",mode:"{",name:"_parent_"+a,model:a,value:a});n.bindings=n.bindings.concat(o)}}},_discoverTemplateParentProps:function(t){var e={};return t.forEach(function(t){if(t.bindings.forEach(function(t){if(t.signature)for(var n=t.signature.args,s=0;s<n.length;s++)e[n[s].model]=!0;else e[t.model]=!0}),t.templateContent){var n=t.templateContent._parentProps;Polymer.Base.mixin(e,n)}}),e},_prepElement:function(t){Polymer.ResolveUrl.resolveAttrs(t,this._template.ownerDocument)},_findAnnotatedNode:Polymer.Annotations.findAnnotatedNode,_marshalAnnotationReferences:function(){this._template&&(this._marshalIdNodes(),this._marshalAnnotatedNodes(),this._marshalAnnotatedListeners())},_configureAnnotationReferences:function(){this._configureTemplateContent()},_configureTemplateContent:function(){this._notes.forEach(function(t,e){t.templateContent&&(this._nodes[e]._content=t.templateContent)},this)},_marshalIdNodes:function(){this.$={},this._notes.forEach(function(t){t.id&&(this.$[t.id]=this._findAnnotatedNode(this.root,t))},this)},_marshalAnnotatedNodes:function(){this._nodes&&(this._nodes=this._nodes.map(function(t){return this._findAnnotatedNode(this.root,t)},this))},_marshalAnnotatedListeners:function(){this._notes.forEach(function(t){if(t.events&&t.events.length){var e=this._findAnnotatedNode(this.root,t);t.events.forEach(function(t){this.listen(e,t.name,t.value)},this)}},this)}}),Polymer.Base._addFeature({listeners:{},_listenListeners:function(t){var e,n,s;for(s in t)s.indexOf(".")<0?(e=this,n=s):(n=s.split("."),e=this.$[n[0]],n=n[1]),this.listen(e,n,t[s])},listen:function(t,e,n){this._listen(t,e,this._createEventHandler(t,e,n))},_boundListenerKey:function(t,e){return t+":"+e},_recordEventHandler:function(t,e,n,s,r){var i=t.__boundListeners;i||(i=t.__boundListeners=new WeakMap);var o=i.get(n);o||(o={},i.set(n,o));var a=this._boundListenerKey(e,s);o[a]=r},_recallEventHandler:function(t,e,n,s){var r=t.__boundListeners;if(r){var i=r.get(n);if(i){var o=this._boundListenerKey(e,s);return i[o]}}},_createEventHandler:function(t,e,n){var s=this,r=function(t){s[n]?s[n](t,t.detail):s._warn(s._logf("_createEventHandler","listener method `"+n+"` not defined"))};return this._recordEventHandler(s,e,t,n,r),r},unlisten:function(t,e,n){var s=this._recallEventHandler(this,e,t,n);s&&this._unlisten(t,e,s)},_listen:function(t,e,n){t.addEventListener(e,n)},_unlisten:function(t,e,n){t.removeEventListener(e,n)}}),function(){"use strict";function t(t){for(var e,n=0;n<_.length;n++)e=_[n],t?document.addEventListener(e,P,!0):document.removeEventListener(e,P,!0)}function e(){if(!v){g.mouse.mouseIgnoreJob||t(!0);var e=function(){t(),g.mouse.target=null,g.mouse.mouseIgnoreJob=null};g.mouse.mouseIgnoreJob=Polymer.Debounce(g.mouse.mouseIgnoreJob,e,d)}}function n(t){var e=t.type;if(-1===_.indexOf(e))return!1;if("mousemove"===e){var n=void 0===t.buttons?1:t.buttons;return t instanceof window.MouseEvent&&!y&&(n=m[t.which]||0),Boolean(1&n)}var s=void 0===t.button?0:t.button;return 0===s}function s(t){if("click"===t.type){if(0===t.detail)return!0;var e=E.findOriginalTarget(t),n=e.getBoundingClientRect(),s=t.pageX,r=t.pageY;return!(s>=n.left&&s<=n.right&&r>=n.top&&r<=n.bottom)}return!1}function r(t){for(var e,n=Polymer.dom(t).path,s="auto",r=0;r<n.length;r++)if(e=n[r],e[h]){s=e[h];break}return s}function i(t,e,n){t.movefn=e,t.upfn=n,document.addEventListener("mousemove",e),document.addEventListener("mouseup",n)}function o(t){document.removeEventListener("mousemove",t.movefn),document.removeEventListener("mouseup",t.upfn)}var a="string"==typeof document.head.style.touchAction,l="__polymerGestures",c="__polymerGesturesHandled",h="__polymerGesturesTouchAction",u=25,f=5,p=2,d=2500,_=["mousedown","mousemove","mouseup","click"],m=[0,1,4,2],y=function(){try{return 1===new MouseEvent("test",{buttons:1}).buttons}catch(t){return!1}}(),v=navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/),P=function(t){if(t[c]={skip:!0},"click"===t.type){for(var e=Polymer.dom(t).path,n=0;n<e.length;n++)if(e[n]===g.mouse.target)return;t.preventDefault(),t.stopPropagation()}},g={mouse:{target:null,mouseIgnoreJob:null},touch:{x:0,y:0,id:-1,scrollDecided:!1}},E={gestures:{},recognizers:[],deepTargetFind:function(t,e){for(var n=document.elementFromPoint(t,e),s=n;s&&s.shadowRoot;)s=s.shadowRoot.elementFromPoint(t,e),s&&(n=s);return n},findOriginalTarget:function(t){return t.path?t.path[0]:t.target},handleNative:function(t){var n,s=t.type,r=t.currentTarget,i=r[l],o=i[s];if(o){if(!t[c]&&(t[c]={},"touch"===s.slice(0,5))){var h=t.changedTouches[0];if("touchstart"===s&&1===t.touches.length&&(g.touch.id=h.identifier),g.touch.id!==h.identifier)return;a||("touchstart"===s||"touchmove"===s)&&E.handleTouchAction(t),"touchend"===s&&(g.mouse.target=Polymer.dom(t).rootTarget,e(!0))}if(n=t[c],!n.skip){for(var u,f=E.recognizers,p=0;p<f.length;p++)u=f[p],o[u.name]&&!n[u.name]&&u.flow&&u.flow.start.indexOf(t.type)>-1&&u.reset&&u.reset();for(var u,p=0;p<f.length;p++)u=f[p],o[u.name]&&!n[u.name]&&(n[u.name]=!0,u[s](t))}}},handleTouchAction:function(t){var e=t.changedTouches[0],n=t.type;if("touchstart"===n)g.touch.x=e.clientX,g.touch.y=e.clientY,g.touch.scrollDecided=!1;else if("touchmove"===n){if(g.touch.scrollDecided)return;g.touch.scrollDecided=!0;var s=r(t),i=!1,o=Math.abs(g.touch.x-e.clientX),a=Math.abs(g.touch.y-e.clientY);t.cancelable&&("none"===s?i=!0:"pan-x"===s?i=a>o:"pan-y"===s&&(i=o>a)),i?t.preventDefault():E.prevent("track")}},add:function(t,e,n){var s=this.gestures[e],r=s.deps,i=s.name,o=t[l];o||(t[l]=o={});for(var a,c,h=0;h<r.length;h++)a=r[h],v&&_.indexOf(a)>-1||(c=o[a],c||(o[a]=c={_count:0}),0===c._count&&t.addEventListener(a,this.handleNative),c[i]=(c[i]||0)+1,c._count=(c._count||0)+1);t.addEventListener(e,n),s.touchAction&&this.setTouchAction(t,s.touchAction)},remove:function(t,e,n){var s=this.gestures[e],r=s.deps,i=s.name,o=t[l];if(o)for(var a,c,h=0;h<r.length;h++)a=r[h],c=o[a],c&&c[i]&&(c[i]=(c[i]||1)-1,c._count=(c._count||1)-1),0===c._count&&t.removeEventListener(a,this.handleNative);t.removeEventListener(e,n)},register:function(t){this.recognizers.push(t);for(var e=0;e<t.emits.length;e++)this.gestures[t.emits[e]]=t},findRecognizerByEvent:function(t){for(var e,n=0;n<this.recognizers.length;n++){e=this.recognizers[n];for(var s,r=0;r<e.emits.length;r++)if(s=e.emits[r],s===t)return e}return null},setTouchAction:function(t,e){a&&(t.style.touchAction=e),t[h]=e},fire:function(t,e,n){var s=Polymer.Base.fire(e,n,{node:t,bubbles:!0,cancelable:!0});if(s.defaultPrevented){var r=n.sourceEvent;r&&r.preventDefault&&r.preventDefault()}},prevent:function(t){var e=this.findRecognizerByEvent(t);e.info&&(e.info.prevent=!0)}};E.register({name:"downup",deps:["mousedown","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["down","up"],info:{movefn:function(){},upfn:function(){}},reset:function(){o(this.info)},mousedown:function(t){if(n(t)){var e=E.findOriginalTarget(t),s=this,r=function(t){n(t)||(s.fire("up",e,t),o(s.info))},a=function(t){n(t)&&s.fire("up",e,t),o(s.info)};i(this.info,r,a),this.fire("down",e,t)}},touchstart:function(t){this.fire("down",E.findOriginalTarget(t),t.changedTouches[0])},touchend:function(t){this.fire("up",E.findOriginalTarget(t),t.changedTouches[0])},fire:function(t,e,n){E.fire(e,t,{x:n.clientX,y:n.clientY,sourceEvent:n,prevent:E.prevent.bind(E)})}}),E.register({name:"track",touchAction:"none",deps:["mousedown","touchstart","touchmove","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["track"],info:{x:0,y:0,state:"start",started:!1,moves:[],addMove:function(t){this.moves.length>p&&this.moves.shift(),this.moves.push(t)},movefn:function(){},upfn:function(){},prevent:!1},reset:function(){this.info.state="start",this.info.started=!1,this.info.moves=[],this.info.x=0,this.info.y=0,this.info.prevent=!1,o(this.info)},hasMovedEnough:function(t,e){if(this.info.prevent)return!1;if(this.info.started)return!0;var n=Math.abs(this.info.x-t),s=Math.abs(this.info.y-e);return n>=f||s>=f},mousedown:function(t){if(n(t)){var e=E.findOriginalTarget(t),s=this,r=function(t){var r=t.clientX,i=t.clientY;s.hasMovedEnough(r,i)&&(s.info.state=s.info.started?"mouseup"===t.type?"end":"track":"start",s.info.addMove({x:r,y:i}),n(t)||(s.info.state="end",o(s.info)),s.fire(e,t),s.info.started=!0)},a=function(t){s.info.started&&(E.prevent("tap"),r(t)),o(s.info)};i(this.info,r,a),this.info.x=t.clientX,this.info.y=t.clientY}},touchstart:function(t){var e=t.changedTouches[0];this.info.x=e.clientX,this.info.y=e.clientY},touchmove:function(t){var e=E.findOriginalTarget(t),n=t.changedTouches[0],s=n.clientX,r=n.clientY;this.hasMovedEnough(s,r)&&(this.info.addMove({x:s,y:r}),this.fire(e,n),this.info.state="track",this.info.started=!0)},touchend:function(t){var e=E.findOriginalTarget(t),n=t.changedTouches[0];this.info.started&&(E.prevent("tap"),this.info.state="end",this.info.addMove({x:n.clientX,y:n.clientY}),this.fire(e,n))},fire:function(t,e){var n,s=this.info.moves[this.info.moves.length-2],r=this.info.moves[this.info.moves.length-1],i=r.x-this.info.x,o=r.y-this.info.y,a=0;return s&&(n=r.x-s.x,a=r.y-s.y),E.fire(t,"track",{state:this.info.state,x:e.clientX,y:e.clientY,dx:i,dy:o,ddx:n,ddy:a,sourceEvent:e,hover:function(){return E.deepTargetFind(e.clientX,e.clientY)}})}}),E.register({name:"tap",deps:["mousedown","click","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["click","touchend"]},emits:["tap"],info:{x:NaN,y:NaN,prevent:!1},reset:function(){this.info.x=NaN,this.info.y=NaN,this.info.prevent=!1},save:function(t){this.info.x=t.clientX,this.info.y=t.clientY},mousedown:function(t){n(t)&&this.save(t)},click:function(t){n(t)&&this.forward(t)},touchstart:function(t){this.save(t.changedTouches[0])},touchend:function(t){this.forward(t.changedTouches[0])},forward:function(t){var e=Math.abs(t.clientX-this.info.x),n=Math.abs(t.clientY-this.info.y),r=E.findOriginalTarget(t);(isNaN(e)||isNaN(n)||u>=e&&u>=n||s(t))&&(this.info.prevent||E.fire(r,"tap",{x:t.clientX,y:t.clientY,sourceEvent:t}))}});var S={x:"pan-x",y:"pan-y",none:"none",all:"auto"};Polymer.Base._addFeature({_listen:function(t,e,n){E.gestures[e]?E.add(t,e,n):t.addEventListener(e,n)},_unlisten:function(t,e,n){E.gestures[e]?E.remove(t,e,n):t.removeEventListener(e,n)},setScrollDirection:function(t,e){e=e||this,E.setTouchAction(e,S[t]||"auto")}}),Polymer.Gestures=E}(),Polymer.Async={_currVal:0,_lastVal:0,_callbacks:[],_twiddleContent:0,_twiddle:document.createTextNode(""),run:function(t,e){return e>0?~setTimeout(t,e):(this._twiddle.textContent=this._twiddleContent++,this._callbacks.push(t),this._currVal++)},cancel:function(t){if(0>t)clearTimeout(~t);else{var e=t-this._lastVal;if(e>=0){if(!this._callbacks[e])throw"invalid async handle: "+t;this._callbacks[e]=null}}},_atEndOfMicrotask:function(){for(var t=this._callbacks.length,e=0;t>e;e++){var n=this._callbacks[e];if(n)try{n()}catch(s){throw e++,this._callbacks.splice(0,e),this._lastVal+=e,this._twiddle.textContent=this._twiddleContent++,s}}this._callbacks.splice(0,t),this._lastVal+=t}},new(window.MutationObserver||JsMutationObserver)(Polymer.Async._atEndOfMicrotask.bind(Polymer.Async)).observe(Polymer.Async._twiddle,{characterData:!0}),Polymer.Debounce=function(){function t(t,e,s){return t?t.stop():t=new n(this),t.go(e,s),t}var e=Polymer.Async,n=function(t){this.context=t,this.boundComplete=this.complete.bind(this)};return n.prototype={go:function(t,n){var s;this.finish=function(){e.cancel(s)},s=e.run(this.boundComplete,n),this.callback=t},stop:function(){this.finish&&(this.finish(),this.finish=null)},complete:function(){this.finish&&(this.stop(),this.callback.call(this.context))}},t}(),Polymer.Base._addFeature({$$:function(t){return Polymer.dom(this.root).querySelector(t)},toggleClass:function(t,e,n){n=n||this,1==arguments.length&&(e=!n.classList.contains(t)),e?Polymer.dom(n).classList.add(t):Polymer.dom(n).classList.remove(t)},toggleAttribute:function(t,e,n){n=n||this,1==arguments.length&&(e=!n.hasAttribute(t)),e?Polymer.dom(n).setAttribute(t,""):Polymer.dom(n).removeAttribute(t)},classFollows:function(t,e,n){n&&Polymer.dom(n).classList.remove(t),e&&Polymer.dom(e).classList.add(t)},attributeFollows:function(t,e,n){n&&Polymer.dom(n).removeAttribute(t),e&&Polymer.dom(e).setAttribute(t,"")},getContentChildNodes:function(t){var e=Polymer.dom(this.root).querySelector(t||"content");return e?Polymer.dom(e).getDistributedNodes():[]},getContentChildren:function(t){return this.getContentChildNodes(t).filter(function(t){return t.nodeType===Node.ELEMENT_NODE})},fire:function(t,e,n){n=n||Polymer.nob;var s=n.node||this,e=null===e||void 0===e?Polymer.nob:e,r=void 0===n.bubbles?!0:n.bubbles,i=Boolean(n.cancelable),o=new CustomEvent(t,{bubbles:Boolean(r),cancelable:i,detail:e});return s.dispatchEvent(o),o},async:function(t,e){return Polymer.Async.run(t.bind(this),e)},cancelAsync:function(t){Polymer.Async.cancel(t)},arrayDelete:function(t,e){var n;if(Array.isArray(t)){if(n=t.indexOf(e),n>=0)return t.splice(n,1)}else{var s=this.get(t);if(n=s.indexOf(e),n>=0)return this.splice(t,n,1)}},transform:function(t,e){e=e||this,e.style.webkitTransform=t,e.style.transform=t},translate3d:function(t,e,n,s){s=s||this,this.transform("translate3d("+t+","+e+","+n+")",s)},importHref:function(t,e,n){var s=document.createElement("link");return s.rel="import",s.href=t,e&&(s.onload=e.bind(this)),n&&(s.onerror=n.bind(this)),document.head.appendChild(s),s},create:function(t,e){var n=document.createElement(t);if(e)for(var s in e)n[s]=e[s];return n}}),Polymer.Bind={prepareModel:function(t){t._propertyEffects={},t._bindListeners=[],Polymer.Base.mixin(t,this._modelApi)},_modelApi:{_notifyChange:function(t){var e=Polymer.CaseMap.camelToDashCase(t)+"-changed";Polymer.Base.fire(e,{value:this[t]},{bubbles:!1,node:this})},_propertySetter:function(t,e,n,s){var r=this.__data__[t];return r===e||r!==r&&e!==e||(this.__data__[t]=e,"object"==typeof e&&this._clearPath(t),this._propertyChanged&&this._propertyChanged(t,e,r),n&&this._effectEffects(t,e,n,r,s)),r},__setProperty:function(t,e,n,s){s=s||this;var r=s._propertyEffects&&s._propertyEffects[t];r?s._propertySetter(t,e,r,n):s[t]=e},_effectEffects:function(t,e,n,s,r){n.forEach(function(n){var i=Polymer.Bind["_"+n.kind+"Effect"];i&&i.call(this,t,e,n.effect,s,r)},this)},_clearPath:function(t){for(var e in this.__data__)0===e.indexOf(t+".")&&(this.__data__[e]=void 0)}},ensurePropertyEffects:function(t,e){var n=t._propertyEffects[e];return n||(n=t._propertyEffects[e]=[]),n},addPropertyEffect:function(t,e,n,s){var r=this.ensurePropertyEffects(t,e);r.push({kind:n,effect:s})},createBindings:function(t){var e=t._propertyEffects;if(e)for(var n in e){var s=e[n];s.sort(this._sortPropertyEffects),this._createAccessors(t,n,s)}},_sortPropertyEffects:function(){var t={compute:0,annotation:1,computedAnnotation:2,reflect:3,notify:4,observer:5,complexObserver:6,"function":7};return function(e,n){return t[e.kind]-t[n.kind]}}(),_createAccessors:function(t,e,n){var s={get:function(){return this.__data__[e]}},r=function(t){this._propertySetter(e,t,n)},i=t.getPropertyInfo&&t.getPropertyInfo(e);i&&i.readOnly?i.computed||(t["_set"+this.upper(e)]=r):s.set=r,Object.defineProperty(t,e,s)},upper:function(t){return t[0].toUpperCase()+t.substring(1)},_addAnnotatedListener:function(t,e,n,s,r){var i=this._notedListenerFactory(n,s,this._isStructured(s),this._isEventBogus),o=r||Polymer.CaseMap.camelToDashCase(n)+"-changed";t._bindListeners.push({index:e,property:n,path:s,changedFn:i,event:o})},_isStructured:function(t){return t.indexOf(".")>0},_isEventBogus:function(t,e){return t.path&&t.path[0]!==e},_notedListenerFactory:function(t,e,n,s){return function(r,i){if(!s(r,i))if(r.detail&&r.detail.path)this.notifyPath(this._fixPath(e,t,r.detail.path),r.detail.value);else{var o=i[t];n?this.__data__[e]!=o&&this.set(e,o):this[e]=i[t]}}},prepareInstance:function(t){t.__data__=Object.create(null)},setupBindListeners:function(t){t._bindListeners.forEach(function(e){var n=t._nodes[e.index];n.addEventListener(e.event,t._notifyListener.bind(t,e.changedFn))})}},Polymer.Base.extend(Polymer.Bind,{_shouldAddListener:function(t){return t.name&&"{"===t.mode&&!t.negate&&"attribute"!=t.kind},_annotationEffect:function(t,e,n){t!=n.value&&(e=this.get(n.value),this.__data__[n.value]=e);var s=n.negate?!e:e;return n.customEvent&&this._nodes[n.index][n.name]===s?void 0:this._applyEffectValue(s,n)},_reflectEffect:function(t){this.reflectPropertyToAttribute(t)},_notifyEffect:function(t,e,n,s,r){r||this._notifyChange(t)},_functionEffect:function(t,e,n,s,r){n.call(this,t,e,s,r)},_observerEffect:function(t,e,n,s){var r=this[n.method];r?r.call(this,e,s):this._warn(this._logf("_observerEffect","observer method `"+n.method+"` not defined"))},_complexObserverEffect:function(t,e,n){var s=this[n.method];if(s){var r=Polymer.Bind._marshalArgs(this.__data__,n,t,e);r&&s.apply(this,r)}else this._warn(this._logf("_complexObserverEffect","observer method `"+n.method+"` not defined"))},_computeEffect:function(t,e,n){var s=Polymer.Bind._marshalArgs(this.__data__,n,t,e);if(s){var r=this[n.method];r?this.__setProperty(n.property,r.apply(this,s)):this._warn(this._logf("_computeEffect","compute method `"+n.method+"` not defined"))}},_annotatedComputationEffect:function(t,e,n){var s=this._rootDataHost||this,r=s[n.method];if(r){var i=Polymer.Bind._marshalArgs(this.__data__,n,t,e);if(i){var o=r.apply(s,i);n.negate&&(o=!o),this._applyEffectValue(o,n)}}else s._warn(s._logf("_annotatedComputationEffect","compute method `"+n.method+"` not defined"))},_marshalArgs:function(t,e,n,s){for(var r=[],i=e.args,o=0,a=i.length;a>o;o++){var l,c=i[o],h=c.name;if(l=c.literal?c.value:c.structured?Polymer.Base.get(h,t):t[h],i.length>1&&void 0===l)return;if(c.wildcard){var u=0===h.indexOf(n+"."),f=0===e.trigger.name.indexOf(h)&&!u;r[o]={path:f?n:h,value:f?s:l,base:l}}else r[o]=l}return r}}),Polymer.Base._addFeature({_addPropertyEffect:function(t,e,n){Polymer.Bind.addPropertyEffect(this,t,e,n)},_prepEffects:function(){Polymer.Bind.prepareModel(this),this._addAnnotationEffects(this._notes)},_prepBindings:function(){Polymer.Bind.createBindings(this)},_addPropertyEffects:function(t){if(t)for(var e in t){var n=t[e];n.observer&&this._addObserverEffect(e,n.observer),n.computed&&(n.readOnly=!0,this._addComputedEffect(e,n.computed)),n.notify&&this._addPropertyEffect(e,"notify"),n.reflectToAttribute&&this._addPropertyEffect(e,"reflect"),n.readOnly&&Polymer.Bind.ensurePropertyEffects(this,e)}},_addComputedEffect:function(t,e){var n=this._parseMethod(e);n.args.forEach(function(e){this._addPropertyEffect(e.model,"compute",{method:n.method,args:n.args,trigger:e,property:t})},this)},_addObserverEffect:function(t,e){this._addPropertyEffect(t,"observer",{method:e,property:t})},_addComplexObserverEffects:function(t){t&&t.forEach(function(t){this._addComplexObserverEffect(t)},this)},_addComplexObserverEffect:function(t){var e=this._parseMethod(t);e.args.forEach(function(t){this._addPropertyEffect(t.model,"complexObserver",{method:e.method,args:e.args,trigger:t})},this)},_addAnnotationEffects:function(t){this._nodes=[],t.forEach(function(t){var e=this._nodes.push(t)-1;t.bindings.forEach(function(t){this._addAnnotationEffect(t,e)},this)},this)},_addAnnotationEffect:function(t,e){Polymer.Bind._shouldAddListener(t)&&Polymer.Bind._addAnnotatedListener(this,e,t.name,t.value,t.event),t.signature?this._addAnnotatedComputationEffect(t,e):(t.index=e,this._addPropertyEffect(t.model,"annotation",t))},_addAnnotatedComputationEffect:function(t,e){var n=t.signature;n["static"]?this.__addAnnotatedComputationEffect("__static__",e,t,n,null):n.args.forEach(function(s){s.literal||this.__addAnnotatedComputationEffect(s.model,e,t,n,s)},this)},__addAnnotatedComputationEffect:function(t,e,n,s,r){this._addPropertyEffect(t,"annotatedComputation",{index:e,kind:n.kind,property:n.name,negate:n.negate,method:s.method,args:s.args,trigger:r})},_parseMethod:function(t){var e=t.match(/([^\s]+)\((.*)\)/);if(e){var n={method:e[1],"static":!0};if(e[2].trim()){var s=e[2].replace(/\\,/g,"&comma;").split(",");return this._parseArgs(s,n)}return n.args=Polymer.nar,n}},_parseArgs:function(t,e){return e.args=t.map(function(t){var n=this._parseArg(t);return n.literal||(e["static"]=!1),n},this),e},_parseArg:function(t){var e=t.trim().replace(/&comma;/g,",").replace(/\\(.)/g,"$1"),n={name:e,model:this._modelForPath(e)},s=e[0];switch("-"===s&&(s=e[1]),s>="0"&&"9">=s&&(s="#"),s){case"'":case'"':n.value=e.slice(1,-1),n.literal=!0;break;case"#":n.value=Number(e),n.literal=!0}return n.literal||(n.structured=e.indexOf(".")>0,n.structured&&(n.wildcard=".*"==e.slice(-2),n.wildcard&&(n.name=e.slice(0,-2)))),n},_marshalInstanceEffects:function(){Polymer.Bind.prepareInstance(this),Polymer.Bind.setupBindListeners(this)},_applyEffectValue:function(t,e){var n=this._nodes[e.index],s=e.property||e.name||"textContent";return"attribute"!=e.kind?("className"===s&&(t=this._scopeElementClass(n,t)),("textContent"===s||"input"==n.localName&&"value"==s)&&(t=void 0==t?"":t),n[s]=t):void this.serializeValueToAttribute(t,s,n)},_executeStaticEffects:function(){this._propertyEffects.__static__&&this._effectEffects("__static__",null,this._propertyEffects.__static__)}}),Polymer.Base._addFeature({_setupConfigure:function(t){this._config={};for(var e in t)void 0!==t[e]&&(this._config[e]=t[e]);this._handlers=[]},_marshalAttributes:function(){this._takeAttributesToModel(this._config)},_attributeChangedImpl:function(t){var e=this._clientsReadied?this:this._config;this._setAttributeToProperty(e,t)},_configValue:function(t,e){this._config[t]=e},_beforeClientsReady:function(){this._configure()},_configure:function(){this._configureAnnotationReferences(),this._aboveConfig=this.mixin({},this._config);var t={};this.behaviors.forEach(function(e){this._configureProperties(e.properties,t)},this),this._configureProperties(this.properties,t),this._mixinConfigure(t,this._aboveConfig),this._config=t,this._distributeConfig(this._config)},_configureProperties:function(t,e){for(var n in t){var s=t[n];if(void 0!==s.value){var r=s.value;"function"==typeof r&&(r=r.call(this,this._config)),e[n]=r}}},_mixinConfigure:function(t,e){for(var n in e)this.getPropertyInfo(n).readOnly||(t[n]=e[n])},_distributeConfig:function(t){var e=this._propertyEffects;if(e)for(var n in t){var s=e[n];if(s)for(var r,i=0,o=s.length;o>i&&(r=s[i]);i++)if("annotation"===r.kind){var a=this._nodes[r.effect.index];if(a._configValue){var l=n===r.effect.value?t[n]:this.get(r.effect.value,t);a._configValue(r.effect.name,l)}}}},_afterClientsReady:function(){this._executeStaticEffects(),this._applyConfig(this._config,this._aboveConfig),this._flushHandlers()},_applyConfig:function(t,e){for(var n in t)void 0===this[n]&&this.__setProperty(n,t[n],n in e)},_notifyListener:function(t,e){return this._clientsReadied?t.call(this,e,e.target):void this._queueHandler([t,e,e.target])},_queueHandler:function(t){this._handlers.push(t)},_flushHandlers:function(){for(var t,e=this._handlers,n=0,s=e.length;s>n&&(t=e[n]);n++)t[0].call(this,t[1],t[2])}}),function(){"use strict";Polymer.Base._addFeature({notifyPath:function(t,e,n){var s=this._propertySetter(t,e);return s===e||s!==s&&e!==e?void 0:(this._pathEffector(t,e),n||this._notifyPath(t,e),!0)},_getPathParts:function(t){if(Array.isArray(t)){for(var e=[],n=0;n<t.length;n++)for(var s=t[n].toString().split("."),r=0;r<s.length;r++)e.push(s[r]);return e}return t.toString().split(".")},set:function(t,e,n){var s,r=n||this,i=this._getPathParts(t),o=i[i.length-1];if(i.length>1){for(var a=0;a<i.length-1;a++){var l=i[a];if(r=r[l],s&&parseInt(l)==l&&(i[a]=Polymer.Collection.get(s).getKey(r)),!r)return;s=Array.isArray(r)?r:null}if(s&&parseInt(o)==o){var c=Polymer.Collection.get(s),h=r[o],u=c.getKey(h);i[a]=u,c.setItem(u,e)}r[o]=e,n||this.notifyPath(i.join("."),e)}else r[t]=e},get:function(t,e){for(var n=e||this,s=this._getPathParts(t),r=s.pop();s.length;)if(n=n[s.shift()],!n)return;return n[r]},_pathEffector:function(t,e){var n=this._modelForPath(t),s=this._propertyEffects[n];s&&s.forEach(function(n){var s=this["_"+n.kind+"PathEffect"];s&&s.call(this,t,e,n.effect)},this),this._boundPaths&&this._notifyBoundPaths(t,e)},_annotationPathEffect:function(t,e,n){if(n.value===t||0===n.value.indexOf(t+"."))Polymer.Bind._annotationEffect.call(this,t,e,n);else if(0===t.indexOf(n.value+".")&&!n.negate){var s=this._nodes[n.index];if(s&&s.notifyPath){var r=this._fixPath(n.name,n.value,t);s.notifyPath(r,e,!0)}}},_complexObserverPathEffect:function(t,e,n){this._pathMatchesEffect(t,n)&&Polymer.Bind._complexObserverEffect.call(this,t,e,n)},_computePathEffect:function(t,e,n){this._pathMatchesEffect(t,n)&&Polymer.Bind._computeEffect.call(this,t,e,n)},_annotatedComputationPathEffect:function(t,e,n){this._pathMatchesEffect(t,n)&&Polymer.Bind._annotatedComputationEffect.call(this,t,e,n)},_pathMatchesEffect:function(t,e){var n=e.trigger.name;return n==t||0===n.indexOf(t+".")||e.trigger.wildcard&&0===t.indexOf(n)},linkPaths:function(t,e){this._boundPaths=this._boundPaths||{},e?this._boundPaths[t]=e:this.unbindPath(t)},unlinkPaths:function(t){this._boundPaths&&delete this._boundPaths[t]},_notifyBoundPaths:function(t,e){var n,s;for(var r in this._boundPaths){var i=this._boundPaths[r];if(0==t.indexOf(r+".")){n=r,s=i;break}if(0==t.indexOf(i+".")){n=i,s=r;break}}if(n&&s){var o=this._fixPath(s,n,t);this.notifyPath(o,e)}},_fixPath:function(t,e,n){return t+n.slice(e.length)},_notifyPath:function(t,e){var n=this._modelForPath(t),s=Polymer.CaseMap.camelToDashCase(n),r=s+this._EVENT_CHANGED;this.fire(r,{path:t,value:e},{bubbles:!1})},_modelForPath:function(t){var e=t.indexOf(".");return 0>e?t:t.slice(0,e)},_EVENT_CHANGED:"-changed",_notifySplice:function(t,e,n,s,r){var i=[{index:n,addedCount:s,removed:r,object:t,type:"splice"}],o={keySplices:Polymer.Collection.applySplices(t,i),indexSplices:i};this.set(e+".splices",o),s!=r.length&&this.notifyPath(e+".length",t.length),o.keySplices=null,o.indexSplices=null},push:function(t){var e=this.get(t),n=Array.prototype.slice.call(arguments,1),s=e.length,r=e.push.apply(e,n);return n.length&&this._notifySplice(e,t,s,n.length,[]),r},pop:function(t){var e=this.get(t),n=Boolean(e.length),s=Array.prototype.slice.call(arguments,1),r=e.pop.apply(e,s);return n&&this._notifySplice(e,t,e.length,0,[r]),r},splice:function(t,e,n){var s=this.get(t);e=0>e?s.length-Math.floor(-e):Math.floor(e),e||(e=0);var r=Array.prototype.slice.call(arguments,1),i=s.splice.apply(s,r),o=Math.max(r.length-2,0);return(o||i.length)&&this._notifySplice(s,t,e,o,i),i},shift:function(t){var e=this.get(t),n=Boolean(e.length),s=Array.prototype.slice.call(arguments,1),r=e.shift.apply(e,s);return n&&this._notifySplice(e,t,0,0,[r]),r},unshift:function(t){var e=this.get(t),n=Array.prototype.slice.call(arguments,1),s=e.unshift.apply(e,n);return n.length&&this._notifySplice(e,t,0,n.length,[]),s}})}(),Polymer.Base._addFeature({resolveUrl:function(t){var e=Polymer.DomModule["import"](this.is),n="";if(e){var s=e.getAttribute("assetpath")||"";n=Polymer.ResolveUrl.resolveUrl(s,e.ownerDocument.baseURI)}return Polymer.ResolveUrl.resolveUrl(t,n)}}),Polymer.CssParse=function(){var t={parse:function(t){return t=this._clean(t),this._parseCss(this._lex(t),t)},_clean:function(t){return t.replace(this._rx.comments,"").replace(this._rx.port,"")},_lex:function(t){for(var e={start:0,end:t.length},n=e,s=0,r=t.length;r>s;s++)switch(t[s]){case this.OPEN_BRACE:n.rules||(n.rules=[]);var i=n,o=i.rules[i.rules.length-1];n={start:s+1,parent:i,previous:o},i.rules.push(n);break;case this.CLOSE_BRACE:n.end=s+1,n=n.parent||e}return e},_parseCss:function(t,e){var n=e.substring(t.start,t.end-1);if(t.parsedCssText=t.cssText=n.trim(),t.parent){var s=t.previous?t.previous.end:t.parent.start;n=e.substring(s,t.start-1),n=n.substring(n.lastIndexOf(";")+1);var r=t.parsedSelector=t.selector=n.trim();t.atRule=0===r.indexOf(this.AT_START),
t.atRule?0===r.indexOf(this.MEDIA_START)?t.type=this.types.MEDIA_RULE:r.match(this._rx.keyframesRule)&&(t.type=this.types.KEYFRAMES_RULE):0===r.indexOf(this.VAR_START)?t.type=this.types.MIXIN_RULE:t.type=this.types.STYLE_RULE}var i=t.rules;if(i)for(var o,a=0,l=i.length;l>a&&(o=i[a]);a++)this._parseCss(o,e);return t},stringify:function(t,e,n){n=n||"";var s="";if(t.cssText||t.rules){var r=t.rules;if(!r||!e&&this._hasMixinRules(r))s=e?t.cssText:this.removeCustomProps(t.cssText),s=s.trim(),s&&(s="  "+s+"\n");else for(var i,o=0,a=r.length;a>o&&(i=r[o]);o++)s=this.stringify(i,e,s)}return s&&(t.selector&&(n+=t.selector+" "+this.OPEN_BRACE+"\n"),n+=s,t.selector&&(n+=this.CLOSE_BRACE+"\n\n")),n},_hasMixinRules:function(t){return t[0].selector.indexOf(this.VAR_START)>=0},removeCustomProps:function(t){return t=this.removeCustomPropAssignment(t),this.removeCustomPropApply(t)},removeCustomPropAssignment:function(t){return t.replace(this._rx.customProp,"").replace(this._rx.mixinProp,"")},removeCustomPropApply:function(t){return t.replace(this._rx.mixinApply,"").replace(this._rx.varApply,"")},types:{STYLE_RULE:1,KEYFRAMES_RULE:7,MEDIA_RULE:4,MIXIN_RULE:1e3},OPEN_BRACE:"{",CLOSE_BRACE:"}",_rx:{comments:/\/\*[^*]*\*+([^/*][^*]*\*+)*\//gim,port:/@import[^;]*;/gim,customProp:/(?:^|[\s;])--[^;{]*?:[^{};]*?(?:[;\n]|$)/gim,mixinProp:/(?:^|[\s;])--[^;{]*?:[^{;]*?{[^}]*?}(?:[;\n]|$)?/gim,mixinApply:/@apply[\s]*\([^)]*?\)[\s]*(?:[;\n]|$)?/gim,varApply:/[^;:]*?:[^;]*var[^;]*(?:[;\n]|$)?/gim,keyframesRule:/^@[^\s]*keyframes/},VAR_START:"--",MEDIA_START:"@media",AT_START:"@"};return t}(),Polymer.StyleUtil=function(){return{MODULE_STYLES_SELECTOR:"style, link[rel=import][type~=css], template",INCLUDE_ATTR:"include",toCssText:function(t,e,n){return"string"==typeof t&&(t=this.parser.parse(t)),e&&this.forEachStyleRule(t,e),this.parser.stringify(t,n)},forRulesInStyles:function(t,e){if(t)for(var n,s=0,r=t.length;r>s&&(n=t[s]);s++)this.forEachStyleRule(this.rulesForStyle(n),e)},rulesForStyle:function(t){return!t.__cssRules&&t.textContent&&(t.__cssRules=this.parser.parse(t.textContent)),t.__cssRules},clearStyleRules:function(t){t.__cssRules=null},forEachStyleRule:function(t,e){var n=(t.parsedSelector,!1);t.type===this.ruleTypes.STYLE_RULE?e(t):(t.type===this.ruleTypes.KEYFRAMES_RULE||t.type===this.ruleTypes.MIXIN_RULE)&&(n=!0);var s=t.rules;if(s&&!n)for(var r,i=0,o=s.length;o>i&&(r=s[i]);i++)this.forEachStyleRule(r,e)},applyCss:function(t,e,n,s){var r=document.createElement("style");if(e&&r.setAttribute("scope",e),r.textContent=t,n=n||document.head,!s){var i=n.querySelectorAll("style[scope]");s=i[i.length-1]}return n.insertBefore(r,s&&s.nextSibling||n.firstChild),r},cssFromModules:function(t){for(var e=t.trim().split(" "),n="",s=0;s<e.length;s++)n+=this.cssFromModule(e[s]);return n},cssFromModule:function(t){var e=Polymer.DomModule["import"](t);return e&&!e._cssText&&(e._cssText=this._cssFromElement(e)),e&&e._cssText||""},_cssFromElement:function(t){for(var e,n="",s=t.content||t,r=Array.prototype.slice.call(s.querySelectorAll(this.MODULE_STYLES_SELECTOR)),i=0;i<r.length;i++)if(e=r[i],"template"===e.localName)n+=this._cssFromElement(e);else if("style"===e.localName){var o=e.getAttribute(this.INCLUDE_ATTR);e=e.__appliedElement||e,e.parentNode.removeChild(e),n+=this.resolveCss(e.textContent,t.ownerDocument),o&&(n+=this.cssFromModules(o))}else e["import"]&&e["import"].body&&(n+=this.resolveCss(e["import"].body.textContent,e["import"]));return n},resolveCss:Polymer.ResolveUrl.resolveCss,parser:Polymer.CssParse,ruleTypes:Polymer.CssParse.types}}(),Polymer.StyleTransformer=function(){var t=Polymer.Settings.useNativeShadow,e=Polymer.StyleUtil,n={dom:function(t,e,n,s){this._transformDom(t,e||"",n,s)},_transformDom:function(t,e,n,s){t.setAttribute&&this.element(t,e,n,s);for(var r=Polymer.dom(t).childNodes,i=0;i<r.length;i++)this._transformDom(r[i],e,n,s)},element:function(t,e,n,r){if(n)r?t.removeAttribute(s):t.setAttribute(s,e);else if(e)if(t.classList)r?(t.classList.remove(s),t.classList.remove(e)):(t.classList.add(s),t.classList.add(e));else if(t.getAttribute){var i=t.getAttribute(v);r?i&&t.setAttribute(v,i.replace(s,"").replace(e,"")):t.setAttribute(v,i+(i?" ":"")+s+" "+e)}},elementStyles:function(n,s){for(var r,i=n._styles,o="",a=0,l=i.length;l>a&&(r=i[a]);a++){var c=e.rulesForStyle(r);o+=t?e.toCssText(c,s):this.css(c,n.is,n["extends"],s,n._scopeCssViaAttr)+"\n\n"}return o.trim()},css:function(t,n,s,r,i){var o=this._calcHostScope(n,s);n=this._calcElementScope(n,i);var a=this;return e.toCssText(t,function(t){t.isScoped||(a.rule(t,n,o),t.isScoped=!0),r&&r(t,n,o)})},_calcElementScope:function(t,e){return t?e?_+t+m:d+t:""},_calcHostScope:function(t,e){return e?"[is="+t+"]":t},rule:function(t,e,n){this._transformRule(t,this._transformComplexSelector,e,n)},_transformRule:function(t,e,n,s){for(var r,o=t.selector.split(i),a=0,l=o.length;l>a&&(r=o[a]);a++)o[a]=e.call(this,r,n,s);t.selector=t.transformedSelector=o.join(i)},_transformComplexSelector:function(t,e,n){var s=!1,r=!1,a=this;return t=t.replace(o,function(t,i,o){if(s)o=o.replace(p," ");else{var l=a._transformCompoundSelector(o,i,e,n);s=s||l.stop,r=r||l.hostContext,i=l.combinator,o=l.value}return i+o}),r&&(t=t.replace(u,function(t,e,s,r){return e+s+" "+n+r+i+" "+e+n+s+r})),t},_transformCompoundSelector:function(t,e,n,s){var r=t.search(p),i=!1;t.indexOf(h)>=0?i=!0:t.indexOf(a)>=0?(t=t.replace(c,function(t,e,n){return s+n}),t=t.replace(a,s)):0!==r&&(t=n?this._transformSimpleSelector(t,n):t),t.indexOf(f)>=0&&(e="");var o;return r>=0&&(t=t.replace(p," "),o=!0),{value:t,combinator:e,stop:o,hostContext:i}},_transformSimpleSelector:function(t,e){var n=t.split(y);return n[0]+=e,n.join(y)},documentRule:function(e){e.selector=e.parsedSelector,this.normalizeRootSelector(e),t||this._transformRule(e,this._transformDocumentSelector)},normalizeRootSelector:function(t){t.selector===l&&(t.selector="body")},_transformDocumentSelector:function(t){return t.match(p)?this._transformComplexSelector(t,r):this._transformSimpleSelector(t.trim(),r)},SCOPE_NAME:"style-scope"},s=n.SCOPE_NAME,r=":not(["+s+"]):not(."+s+")",i=",",o=/(^|[\s>+~]+)([^\s>+~]+)/g,a=":host",l=":root",c=/(\:host)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/g,h=":host-context",u=/(.*)(?:\:host-context)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))(.*)/,f="::content",p=/\:\:content|\:\:shadow|\/deep\//,d=".",_="["+s+"~=",m="]",y=":",v="class";return n}(),Polymer.StyleExtends=function(){var t=Polymer.StyleUtil;return{hasExtends:function(t){return Boolean(t.match(this.rx.EXTEND))},transform:function(e){var n=t.rulesForStyle(e),s=this;return t.forEachStyleRule(n,function(t){s._mapRule(t);if(t.parent)for(var e;e=s.rx.EXTEND.exec(t.cssText);){var n=e[1],r=s._findExtendor(n,t);r&&s._extendRule(t,r)}t.cssText=t.cssText.replace(s.rx.EXTEND,"")}),t.toCssText(n,function(t){t.selector.match(s.rx.STRIP)&&(t.cssText="")},!0)},_mapRule:function(t){if(t.parent){for(var e,n=t.parent.map||(t.parent.map={}),s=t.selector.split(","),r=0;r<s.length;r++)e=s[r],n[e.trim()]=t;return n}},_findExtendor:function(t,e){return e.parent&&e.parent.map&&e.parent.map[t]||this._findExtendor(t,e.parent)},_extendRule:function(t,e){t.parent!==e.parent&&this._cloneAndAddRuleToParent(e,t.parent),t["extends"]=t["extends"]||(t["extends"]=[]),t["extends"].push(e),e.selector=e.selector.replace(this.rx.STRIP,""),e.selector=(e.selector&&e.selector+",\n")+t.selector,e["extends"]&&e["extends"].forEach(function(e){this._extendRule(t,e)},this)},_cloneAndAddRuleToParent:function(t,e){t=Object.create(t),t.parent=e,t["extends"]&&(t["extends"]=t["extends"].slice()),e.rules.push(t)},rx:{EXTEND:/@extends\(([^)]*)\)\s*?;/gim,STRIP:/%[^,]*$/}}}(),function(){var t=Polymer.Base._prepElement,e=Polymer.Settings.useNativeShadow,n=Polymer.StyleUtil,s=Polymer.StyleTransformer,r=Polymer.StyleExtends;Polymer.Base._addFeature({_prepElement:function(e){this._encapsulateStyle&&s.element(e,this.is,this._scopeCssViaAttr),t.call(this,e)},_prepStyles:function(){void 0===this._encapsulateStyle&&(this._encapsulateStyle=!e&&Boolean(this._template)),this._styles=this._collectStyles();var t=s.elementStyles(this);if(t&&this._template){var r=n.applyCss(t,this.is,e?this._template.content:null);e||(this._scopeStyle=r)}},_collectStyles:function(){var t=[],e="",s=this.styleModules;if(s)for(var i,o=0,a=s.length;a>o&&(i=s[o]);o++)e+=n.cssFromModule(i);if(e+=n.cssFromModule(this.is)){var l=document.createElement("style");l.textContent=e,r.hasExtends(l.textContent)&&(e=r.transform(l)),t.push(l)}return t},_elementAdd:function(t){this._encapsulateStyle&&(t.__styleScoped?t.__styleScoped=!1:s.dom(t,this.is,this._scopeCssViaAttr))},_elementRemove:function(t){this._encapsulateStyle&&s.dom(t,this.is,this._scopeCssViaAttr,!0)},scopeSubtree:function(t,n){if(!e){var s=this,r=function(t){if(t.nodeType===Node.ELEMENT_NODE){t.className=s._scopeElementClass(t,t.className);var e=t.querySelectorAll("*");Array.prototype.forEach.call(e,function(t){t.className=s._scopeElementClass(t,t.className)})}};if(r(t),n){var i=new MutationObserver(function(t){t.forEach(function(t){if(t.addedNodes)for(var e=0;e<t.addedNodes.length;e++)r(t.addedNodes[e])})});return i.observe(t,{childList:!0,subtree:!0}),i}}}})}(),Polymer.StyleProperties=function(){"use strict";function t(t,e){var n=parseInt(t/32),s=1<<t%32;e[n]=(e[n]||0)|s}var e=Polymer.Settings.useNativeShadow,n=Polymer.DomApi.matchesSelector,s=Polymer.StyleUtil,r=Polymer.StyleTransformer;return{decorateStyles:function(t){var e=this,n={};s.forRulesInStyles(t,function(t){e.decorateRule(t),e.collectPropertiesInCssText(t.propertyInfo.cssText,n)});var r=[];for(var i in n)r.push(i);return r},decorateRule:function(t){if(t.propertyInfo)return t.propertyInfo;var e={},n={},s=this.collectProperties(t,n);return s&&(e.properties=n,t.rules=null),e.cssText=this.collectCssText(t),t.propertyInfo=e,e},collectProperties:function(t,e){var n=t.propertyInfo;if(!n){for(var s,r,i=this.rx.VAR_ASSIGN,o=t.parsedCssText;s=i.exec(o);)e[s[1]]=(s[2]||s[3]).trim(),r=!0;return r}return n.properties?(Polymer.Base.mixin(e,n.properties),!0):void 0},collectCssText:function(t){var e="",n=t.parsedCssText;n=n.replace(this.rx.BRACKETED,"").replace(this.rx.VAR_ASSIGN,"");for(var s,r=n.split(";"),i=0;i<r.length;i++)s=r[i],(s.match(this.rx.MIXIN_MATCH)||s.match(this.rx.VAR_MATCH))&&(e+=s+";\n");return e},collectPropertiesInCssText:function(t,e){for(var n;n=this.rx.VAR_CAPTURE.exec(t);){e[n[1]]=!0;var s=n[2];s&&s.match(this.rx.IS_VAR)&&(e[s]=!0)}},reify:function(t){for(var e,n=Object.getOwnPropertyNames(t),s=0;s<n.length;s++)e=n[s],t[e]=this.valueForProperty(t[e],t)},valueForProperty:function(t,e){if(t)if(t.indexOf(";")>=0)t=this.valueForProperties(t,e);else{var n=this,s=function(t,s,r,i){var o=n.valueForProperty(e[r],e)||(e[i]?n.valueForProperty(e[i],e):i);return s+(o||"")};t=t.replace(this.rx.VAR_MATCH,s)}return t&&t.trim()||""},valueForProperties:function(t,e){for(var n,s,r=t.split(";"),i=0;i<r.length;i++)if(n=r[i]){if(s=n.match(this.rx.MIXIN_MATCH))n=this.valueForProperty(e[s[1]],e);else{var o=n.split(":");o[1]&&(o[1]=o[1].trim(),o[1]=this.valueForProperty(o[1],e)||o[1]),n=o.join(":")}r[i]=n&&n.lastIndexOf(";")===n.length-1?n.slice(0,-1):n||""}return r.join(";")},applyProperties:function(t,e){var n="";t.propertyInfo||this.decorateRule(t),t.propertyInfo.cssText&&(n=this.valueForProperties(t.propertyInfo.cssText,e)),t.cssText=n},propertyDataFromStyles:function(e,r){var i={},o=this,a=[],l=0;return s.forRulesInStyles(e,function(e){e.propertyInfo||o.decorateRule(e),r&&e.propertyInfo.properties&&n.call(r,e.transformedSelector||e.parsedSelector)&&(o.collectProperties(e,i),t(l,a)),l++}),{properties:i,key:a}},scopePropertiesFromStyles:function(t){return t._scopeStyleProperties||(t._scopeStyleProperties=this.selectedPropertiesFromStyles(t,this.SCOPE_SELECTORS)),t._scopeStyleProperties},hostPropertiesFromStyles:function(t){return t._hostStyleProperties||(t._hostStyleProperties=this.selectedPropertiesFromStyles(t,this.HOST_SELECTORS)),t._hostStyleProperties},selectedPropertiesFromStyles:function(t,e){var n={},r=this;return s.forRulesInStyles(t,function(t){t.propertyInfo||r.decorateRule(t);for(var s=0;s<e.length;s++)if(t.parsedSelector===e[s])return void r.collectProperties(t,n)}),n},transformStyles:function(t,n,s){var i=this,o=r._calcHostScope(t.is,t["extends"]),a=t["extends"]?"\\"+o.slice(0,-1)+"\\]":o,l=new RegExp(this.rx.HOST_PREFIX+a+this.rx.HOST_SUFFIX);return r.elementStyles(t,function(r){i.applyProperties(r,n),r.cssText&&!e&&i._scopeSelector(r,l,o,t._scopeCssViaAttr,s)})},_scopeSelector:function(t,e,n,s,i){t.transformedSelector=t.transformedSelector||t.selector;for(var o,a=t.transformedSelector,l=s?"["+r.SCOPE_NAME+"~="+i+"]":"."+i,c=a.split(","),h=0,u=c.length;u>h&&(o=c[h]);h++)c[h]=o.match(e)?o.replace(n,n+l):l+" "+o;t.selector=c.join(",")},applyElementScopeSelector:function(t,e,n,s){var i=s?t.getAttribute(r.SCOPE_NAME):t.className,o=n?i.replace(n,e):(i?i+" ":"")+this.XSCOPE_NAME+" "+e;i!==o&&(s?t.setAttribute(r.SCOPE_NAME,o):t.className=o)},applyElementStyle:function(t,n,r,i){var o=i?i.textContent||"":this.transformStyles(t,n,r),a=t._customStyle;return a&&!e&&a!==i&&(a._useCount--,a._useCount<=0&&a.parentNode&&a.parentNode.removeChild(a)),!e&&i&&i.parentNode||(e&&t._customStyle?(t._customStyle.textContent=o,i=t._customStyle):o&&(i=s.applyCss(o,r,e?t.root:null,t._scopeStyle))),i&&(i._useCount=i._useCount||0,t._customStyle!=i&&i._useCount++,t._customStyle=i),i},mixinCustomStyle:function(t,e){var n;for(var s in e)n=e[s],(n||0===n)&&(t[s]=n)},rx:{VAR_ASSIGN:/(?:^|[;\n]\s*)(--[\w-]*?):\s*(?:([^;{]*)|{([^}]*)})(?:(?=[;\n])|$)/gi,MIXIN_MATCH:/(?:^|\W+)@apply[\s]*\(([^)]*)\)/i,VAR_MATCH:/(^|\W+)var\([\s]*([^,)]*)[\s]*,?[\s]*((?:[^,)]*)|(?:[^;]*\([^;)]*\)))[\s]*?\)/gi,VAR_CAPTURE:/\([\s]*(--[^,\s)]*)(?:,[\s]*(--[^,\s)]*))?(?:\)|,)/gi,IS_VAR:/^--/,BRACKETED:/\{[^}]*\}/g,HOST_PREFIX:"(?:^|[^.#[:])",HOST_SUFFIX:"($|[.:[\\s>+~])"},HOST_SELECTORS:[":host"],SCOPE_SELECTORS:[":root"],XSCOPE_NAME:"x-scope"}}(),function(){Polymer.StyleCache=function(){this.cache={}},Polymer.StyleCache.prototype={MAX:100,store:function(t,e,n,s){e.keyValues=n,e.styles=s;var r=this.cache[t]=this.cache[t]||[];r.push(e),r.length>this.MAX&&r.shift()},retrieve:function(t,e,n){var s=this.cache[t];if(s)for(var r,i=s.length-1;i>=0;i--)if(r=s[i],n===r.styles&&this._objectsEqual(e,r.keyValues))return r},clear:function(){this.cache={}},_objectsEqual:function(t,e){var n,s;for(var r in t)if(n=t[r],s=e[r],!("object"==typeof n&&n?this._objectsStrictlyEqual(n,s):n===s))return!1;return Array.isArray(t)?t.length===e.length:!0},_objectsStrictlyEqual:function(t,e){return this._objectsEqual(t,e)&&this._objectsEqual(e,t)}}}(),Polymer.StyleDefaults=function(){var t=Polymer.StyleProperties,e=(Polymer.StyleUtil,Polymer.StyleCache),n={_styles:[],_properties:null,customStyle:{},_styleCache:new e,addStyle:function(t){this._styles.push(t),this._properties=null},get _styleProperties(){return this._properties||(t.decorateStyles(this._styles),this._styles._scopeStyleProperties=null,this._properties=t.scopePropertiesFromStyles(this._styles),t.mixinCustomStyle(this._properties,this.customStyle),t.reify(this._properties)),this._properties},_needsStyleProperties:function(){},_computeStyleProperties:function(){return this._styleProperties},updateStyles:function(t){this._properties=null,t&&Polymer.Base.mixin(this.customStyle,t),this._styleCache.clear();for(var e,n=0;n<this._styles.length;n++)e=this._styles[n],e=e.__importElement||e,e._apply()}};return n}(),function(){"use strict";var t=Polymer.Base.serializeValueToAttribute,e=Polymer.StyleProperties,n=Polymer.StyleTransformer,s=(Polymer.StyleUtil,Polymer.StyleDefaults),r=Polymer.Settings.useNativeShadow;Polymer.Base._addFeature({_prepStyleProperties:function(){this._ownStylePropertyNames=this._styles?e.decorateStyles(this._styles):[]},customStyle:{},_setupStyleProperties:function(){this.customStyle={}},_needsStyleProperties:function(){return Boolean(this._ownStylePropertyNames&&this._ownStylePropertyNames.length)},_beforeAttached:function(){!this._scopeSelector&&this._needsStyleProperties()&&this._updateStyleProperties()},_findStyleHost:function(){for(var t,e=this;t=Polymer.dom(e).getOwnerRoot();){if(Polymer.isInstance(t.host))return t.host;e=t.host}return s},_updateStyleProperties:function(){var t,n=this._findStyleHost();n._styleCache||(n._styleCache=new Polymer.StyleCache);var s=e.propertyDataFromStyles(n._styles,this);s.key.customStyle=this.customStyle,t=n._styleCache.retrieve(this.is,s.key,this._styles);var o=Boolean(t);o?this._styleProperties=t._styleProperties:this._computeStyleProperties(s.properties),this._computeOwnStyleProperties(),o||(t=i.retrieve(this.is,this._ownStyleProperties,this._styles));var a=Boolean(t)&&!o,l=this._applyStyleProperties(t);o||(l=l&&r?l.cloneNode(!0):l,t={style:l,_scopeSelector:this._scopeSelector,_styleProperties:this._styleProperties},s.key.customStyle={},this.mixin(s.key.customStyle,this.customStyle),n._styleCache.store(this.is,t,s.key,this._styles),a||i.store(this.is,Object.create(t),this._ownStyleProperties,this._styles))},_computeStyleProperties:function(t){var n=this._findStyleHost();n._styleProperties||n._computeStyleProperties();var s=Object.create(n._styleProperties);this.mixin(s,e.hostPropertiesFromStyles(this._styles)),t=t||e.propertyDataFromStyles(n._styles,this).properties,this.mixin(s,t),this.mixin(s,e.scopePropertiesFromStyles(this._styles)),e.mixinCustomStyle(s,this.customStyle),e.reify(s),this._styleProperties=s},_computeOwnStyleProperties:function(){for(var t,e={},n=0;n<this._ownStylePropertyNames.length;n++)t=this._ownStylePropertyNames[n],e[t]=this._styleProperties[t];this._ownStyleProperties=e},_scopeCount:0,_applyStyleProperties:function(t){var n=this._scopeSelector;this._scopeSelector=t?t._scopeSelector:this.is+"-"+this.__proto__._scopeCount++;var s=e.applyElementStyle(this,this._styleProperties,this._scopeSelector,t&&t.style);return r||e.applyElementScopeSelector(this,this._scopeSelector,n,this._scopeCssViaAttr),s},serializeValueToAttribute:function(e,n,s){if(s=s||this,"class"===n&&!r){var i=s===this?this.domHost||this.dataHost:this;i&&(e=i._scopeElementClass(s,e))}s=Polymer.dom(s),t.call(this,e,n,s)},_scopeElementClass:function(t,e){return r||this._scopeCssViaAttr||(e+=(e?" ":"")+o+" "+this.is+(t._scopeSelector?" "+a+" "+t._scopeSelector:"")),e},updateStyles:function(t){this.isAttached&&(t&&this.mixin(this.customStyle,t),this._needsStyleProperties()?this._updateStyleProperties():this._styleProperties=null,this._styleCache&&this._styleCache.clear(),this._updateRootStyles())},_updateRootStyles:function(t){t=t||this.root;for(var e,n=Polymer.dom(t)._query(function(t){return t.shadyRoot||t.shadowRoot}),s=0,r=n.length;r>s&&(e=n[s]);s++)e.updateStyles&&e.updateStyles()}}),Polymer.updateStyles=function(t){s.updateStyles(t),Polymer.Base._updateRootStyles(document)};var i=new Polymer.StyleCache;Polymer.customStyleCache=i;var o=n.SCOPE_NAME,a=e.XSCOPE_NAME}(),Polymer.Base._addFeature({_registerFeatures:function(){this._prepIs(),this._prepAttributes(),this._prepConstructor(),this._prepTemplate(),this._prepStyles(),this._prepStyleProperties(),this._prepAnnotations(),this._prepEffects(),this._prepBehaviors(),this._prepBindings(),this._prepShady()},_prepBehavior:function(t){this._addPropertyEffects(t.properties),this._addComplexObserverEffects(t.observers),this._addHostAttributes(t.hostAttributes)},_initFeatures:function(){this._poolContent(),this._setupConfigure(),this._setupStyleProperties(),this._pushHost(),this._stampTemplate(),this._popHost(),this._marshalAnnotationReferences(),this._setupDebouncers(),this._marshalInstanceEffects(),this._marshalHostAttributes(),this._marshalBehaviors(),this._marshalAttributes(),this._tryReady()},_marshalBehavior:function(t){this._listenListeners(t.listeners)}}),function(){var t=(Polymer.Settings.useNativeShadow,Polymer.StyleProperties),e=Polymer.StyleUtil,n=Polymer.CssParse,s=Polymer.StyleDefaults,r=Polymer.StyleTransformer;Polymer({is:"custom-style","extends":"style",properties:{include:String},ready:function(){this._tryApply()},attached:function(){this._tryApply()},_tryApply:function(){if(!this._appliesToDocument&&this.parentNode&&"dom-module"!==this.parentNode.localName){this._appliesToDocument=!0;var t=this.__appliedElement||this;if(s.addStyle(t),t.textContent||this.include)this._apply();else{var e=new MutationObserver(function(){e.disconnect(),this._apply()}.bind(this));e.observe(t,{childList:!0})}}},_apply:function(){var s=this.__appliedElement||this;this.include&&(s.textContent+=e.cssFromModules(this.include));var i=e.rulesForStyle(s);e.forEachStyleRule(i,function(t){r.documentRule(t)}),this._computeStyleProperties();var o=this._styleProperties;s.textContent=e.toCssText(i,function(e){var s=e.cssText=e.parsedCssText;e.propertyInfo&&e.propertyInfo.cssText&&(s=n.removeCustomPropAssignment(s),e.cssText=t.valueForProperties(s,o))})}})}(),Polymer.Templatizer={properties:{__hideTemplateChildren__:{observer:"_showHideChildren"}},_instanceProps:Polymer.nob,_parentPropPrefix:"_parent_",templatize:function(t){if(t._content||(t._content=t.content),t._content._ctor)return this.ctor=t._content._ctor,void this._prepParentProperties(this.ctor.prototype,t);var e=Object.create(Polymer.Base);this._customPrepAnnotations(e,t),e._prepEffects(),this._customPrepEffects(e),e._prepBehaviors(),e._prepBindings(),this._prepParentProperties(e,t),e._notifyPath=this._notifyPathImpl,e._scopeElementClass=this._scopeElementClassImpl,e.listen=this._listenImpl,e._showHideChildren=this._showHideChildrenImpl;var n=this._constructorImpl,s=function(t,e){n.call(this,t,e)};s.prototype=e,e.constructor=s,t._content._ctor=s,this.ctor=s},_getRootDataHost:function(){return this.dataHost&&this.dataHost._rootDataHost||this.dataHost},_showHideChildrenImpl:function(t){for(var e=this._children,n=0;n<e.length;n++){var s=e[n];Boolean(t)!=Boolean(s.__hideTemplateChildren__)&&(s.nodeType===Node.TEXT_NODE?t?(s.__polymerTextContent__=s.textContent,s.textContent=""):s.textContent=s.__polymerTextContent__:s.style&&(t?(s.__polymerDisplay__=s.style.display,s.style.display="none"):s.style.display=s.__polymerDisplay__)),s.__hideTemplateChildren__=t}},_debounceTemplate:function(t){Polymer.dom.addDebouncer(this.debounce("_debounceTemplate",t))},_flushTemplates:function(t){Polymer.dom.flush()},_customPrepEffects:function(t){var e=t._parentProps;for(var n in e)t._addPropertyEffect(n,"function",this._createHostPropEffector(n));for(var n in this._instanceProps)t._addPropertyEffect(n,"function",this._createInstancePropEffector(n))},_customPrepAnnotations:function(t,e){t._template=e;var n=e._content;if(!n._notes){var s=t._rootDataHost;s&&(Polymer.Annotations.prepElement=s._prepElement.bind(s)),n._notes=Polymer.Annotations.parseAnnotations(e),Polymer.Annotations.prepElement=null,this._processAnnotations(n._notes)}t._notes=n._notes,t._parentProps=n._parentProps},_prepParentProperties:function(t,e){var n=this._parentProps=t._parentProps;if(this._forwardParentProp&&n){var s,r=t._parentPropProto;if(!r){for(s in this._instanceProps)delete n[s];r=t._parentPropProto=Object.create(null),e!=this&&Polymer.Bind.prepareModel(r);for(s in n){var i=this._parentPropPrefix+s,o=[{kind:"function",effect:this._createForwardPropEffector(s)},{kind:"notify"}];Polymer.Bind._createAccessors(r,i,o)}}e!=this&&(Polymer.Bind.prepareInstance(e),e._forwardParentProp=this._forwardParentProp.bind(this)),this._extendTemplate(e,r)}},_createForwardPropEffector:function(t){return function(e,n){this._forwardParentProp(t,n)}},_createHostPropEffector:function(t){var e=this._parentPropPrefix;return function(n,s){this.dataHost[e+t]=s}},_createInstancePropEffector:function(t){return function(e,n,s,r){r||this.dataHost._forwardInstanceProp(this,t,n)}},_extendTemplate:function(t,e){Object.getOwnPropertyNames(e).forEach(function(n){var s=t[n],r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r),void 0!==s&&t._propertySetter(n,s)})},_showHideChildren:function(t){},_forwardInstancePath:function(t,e,n){},_forwardInstanceProp:function(t,e,n){},_notifyPathImpl:function(t,e){var n=this.dataHost,s=t.indexOf("."),r=0>s?t:t.slice(0,s);n._forwardInstancePath.call(n,this,t,e),r in n._parentProps&&n.notifyPath(n._parentPropPrefix+t,e)},_pathEffector:function(t,e,n){this._forwardParentPath&&0===t.indexOf(this._parentPropPrefix)&&this._forwardParentPath(t.substring(8),e),Polymer.Base._pathEffector.apply(this,arguments)},_constructorImpl:function(t,e){this._rootDataHost=e._getRootDataHost(),this._setupConfigure(t),this._pushHost(e),this.root=this.instanceTemplate(this._template),this.root.__noContent=!this._notes._hasContent,this.root.__styleScoped=!0,this._popHost(),this._marshalAnnotatedNodes(),this._marshalInstanceEffects(),this._marshalAnnotatedListeners();for(var n=[],s=this.root.firstChild;s;s=s.nextSibling)n.push(s),s._templateInstance=this;this._children=n,e.__hideTemplateChildren__&&this._showHideChildren(!0),this._tryReady()},_listenImpl:function(t,e,n){var s=this,r=this._rootDataHost,i=r._createEventHandler(t,e,n),o=function(t){t.model=s,i(t)};r._listen(t,e,o)},_scopeElementClassImpl:function(t,e){var n=this._rootDataHost;return n?n._scopeElementClass(t,e):void 0},stamp:function(t){if(t=t||{},this._parentProps)for(var e in this._parentProps)t[e]=this[this._parentPropPrefix+e];return new this.ctor(t,this)},modelForElement:function(t){for(var e;t;)if(e=t._templateInstance){if(e.dataHost==this)return e;t=e.dataHost}else t=t.parentNode}},Polymer({is:"dom-template","extends":"template",behaviors:[Polymer.Templatizer],ready:function(){this.templatize(this)}}),Polymer._collections=new WeakMap,Polymer.Collection=function(t){Polymer._collections.set(t,this),this.userArray=t,this.store=t.slice(),this.initMap()},Polymer.Collection.prototype={constructor:Polymer.Collection,initMap:function(){for(var t=this.omap=new WeakMap,e=this.pmap={},n=this.store,s=0;s<n.length;s++){var r=n[s];r&&"object"==typeof r?t.set(r,s):e[r]=s}},add:function(t){var e=this.store.push(t)-1;return t&&"object"==typeof t?this.omap.set(t,e):this.pmap[t]=e,e},removeKey:function(t){this._removeFromMap(this.store[t]),delete this.store[t]},_removeFromMap:function(t){t&&"object"==typeof t?this.omap["delete"](t):delete this.pmap[t]},remove:function(t){var e=this.getKey(t);return this.removeKey(e),e},getKey:function(t){return t&&"object"==typeof t?this.omap.get(t):this.pmap[t]},getKeys:function(){return Object.keys(this.store)},setItem:function(t,e){var n=this.store[t];n&&this._removeFromMap(n),e&&"object"==typeof e?this.omap.set(e,t):this.pmap[e]=t,this.store[t]=e},getItem:function(t){return this.store[t]},getItems:function(){var t=[],e=this.store;for(var n in e)t.push(e[n]);return t},_applySplices:function(t){var e,n,s={};t.forEach(function(t){for(t.addedKeys=[],n=0;n<t.removed.length;n++)e=this.getKey(t.removed[n]),s[e]=s[e]?null:-1;for(n=0;n<t.addedCount;n++){var r=this.userArray[t.index+n];e=this.getKey(r),e=void 0===e?this.add(r):e,s[e]=s[e]?null:1,t.addedKeys.push(e)}},this);var r=[],i=[];for(var e in s)s[e]<0&&(this.removeKey(e),r.push(e)),s[e]>0&&i.push(e);return[{removed:r,added:i}]}},Polymer.Collection.get=function(t){return Polymer._collections.get(t)||new Polymer.Collection(t)},Polymer.Collection.applySplices=function(t,e){var n=Polymer._collections.get(t);return n?n._applySplices(e):null},Polymer({is:"dom-repeat","extends":"template",properties:{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},sort:{type:Function,observer:"_sortChanged"},filter:{type:Function,observer:"_filterChanged"},observe:{type:String,observer:"_observeChanged"},delay:Number},behaviors:[Polymer.Templatizer],observers:["_itemsChanged(items.*)"],created:function(){this._instances=[]},detached:function(){for(var t=0;t<this._instances.length;t++)this._detachRow(t)},attached:function(){for(var t=Polymer.dom(this).parentNode,e=0;e<this._instances.length;e++)Polymer.dom(t).insertBefore(this._instances[e].root,this)},ready:function(){this._instanceProps={__key__:!0},this._instanceProps[this.as]=!0,this._instanceProps[this.indexAs]=!0,this.ctor||this.templatize(this)},_sortChanged:function(){var t=this._getRootDataHost(),e=this.sort;this._sortFn=e&&("function"==typeof e?e:function(){return t[e].apply(t,arguments)}),this._needFullRefresh=!0,this.items&&this._debounceTemplate(this._render)},_filterChanged:function(){var t=this._getRootDataHost(),e=this.filter;this._filterFn=e&&("function"==typeof e?e:function(){return t[e].apply(t,arguments)}),this._needFullRefresh=!0,this.items&&this._debounceTemplate(this._render)},_observeChanged:function(){this._observePaths=this.observe&&this.observe.replace(".*",".").split(" ")},_itemsChanged:function(t){if("items"==t.path)Array.isArray(this.items)?this.collection=Polymer.Collection.get(this.items):this.items?this._error(this._logf("dom-repeat","expected array for `items`, found",this.items)):this.collection=null,this._keySplices=[],this._indexSplices=[],this._needFullRefresh=!0,this._debounceTemplate(this._render);else if("items.splices"==t.path)this._keySplices=this._keySplices.concat(t.value.keySplices),this._indexSplices=this._indexSplices.concat(t.value.indexSplices),this._debounceTemplate(this._render);else{var e=t.path.slice(6);this._forwardItemPath(e,t.value),this._checkObservedPaths(e)}},_checkObservedPaths:function(t){if(this._observePaths){t=t.substring(t.indexOf(".")+1);for(var e=this._observePaths,n=0;n<e.length;n++)if(0===t.indexOf(e[n]))return this._needFullRefresh=!0,void(this.delay?this.debounce("render",this._render,this.delay):this._debounceTemplate(this._render))}},render:function(){this._needFullRefresh=!0,this._debounceTemplate(this._render),this._flushTemplates()},_render:function(){this.collection;this._needFullRefresh?(this._applyFullRefresh(),this._needFullRefresh=!1):this._sortFn?this._applySplicesUserSort(this._keySplices):this._filterFn?this._applyFullRefresh():this._applySplicesArrayOrder(this._indexSplices),this._keySplices=[],this._indexSplices=[];for(var t=this._keyToInstIdx={},e=0;e<this._instances.length;e++){var n=this._instances[e];t[n.__key__]=e,n.__setProperty(this.indexAs,e,!0)}this.fire("dom-change")},_applyFullRefresh:function(){var t,e=this.collection;if(this._sortFn)t=e?e.getKeys():[];else{t=[];var n=this.items;if(n)for(var s=0;s<n.length;s++)t.push(e.getKey(n[s]))}this._filterFn&&(t=t.filter(function(t){return this._filterFn(e.getItem(t))},this)),this._sortFn&&t.sort(function(t,n){return this._sortFn(e.getItem(t),e.getItem(n))}.bind(this));for(var s=0;s<t.length;s++){var r=t[s],i=this._instances[s];i?(i.__setProperty("__key__",r,!0),i.__setProperty(this.as,e.getItem(r),!0)):this._instances.push(this._insertRow(s,r))}for(;s<this._instances.length;s++)this._detachRow(s);this._instances.splice(t.length,this._instances.length-t.length)},_keySort:function(t,e){return this.collection.getKey(t)-this.collection.getKey(e)},_numericSort:function(t,e){return t-e},_applySplicesUserSort:function(t){var e=this.collection,n=this._instances,s={},r=[];this._sortFn||this._keySort.bind(this);t.forEach(function(t){for(var e=0;e<t.removed.length;e++){var n=t.removed[e];s[n]=s[n]?null:-1}for(var e=0;e<t.added.length;e++){var n=t.added[e];s[n]=s[n]?null:1}},this);var i=[],o=[];for(var a in s)-1===s[a]&&i.push(this._keyToInstIdx[a]),1===s[a]&&o.push(a);if(i.length){i.sort(this._numericSort);for(var l=i.length-1;l>=0;l--){var c=i[l];void 0!==c&&(r.push(this._detachRow(c)),n.splice(c,1))}}if(o.length){this._filterFn&&(o=o.filter(function(t){return this._filterFn(e.getItem(t))},this)),o.sort(function(t,n){return this._sortFn(e.getItem(t),e.getItem(n))}.bind(this));for(var h=0,l=0;l<o.length;l++)h=this._insertRowUserSort(h,o[l],r)}},_insertRowUserSort:function(t,e,n){for(var s=this.collection,r=s.getItem(e),i=this._instances.length-1,o=-1,a=this._sortFn||this._keySort.bind(this);i>=t;){var l=t+i>>1,c=this._instances[l].__key__,h=a(s.getItem(c),r);if(0>h)t=l+1;else{if(!(h>0)){o=l;break}
i=l-1}}return 0>o&&(o=i+1),this._instances.splice(o,0,this._insertRow(o,e,n)),o},_applySplicesArrayOrder:function(t){var e=[];this.collection;t.forEach(function(t){for(var n=0;n<t.removed.length;n++){var s=this._detachRow(t.index+n);s.isPlaceholder||e.push(s)}this._instances.splice(t.index,t.removed.length);for(var n=0;n<t.addedKeys.length;n++){var s={isPlaceholder:!0,key:t.addedKeys[n]};this._instances.splice(t.index+n,0,s)}},this);for(var n=this._instances.length-1;n>=0;n--){var s=this._instances[n];s.isPlaceholder&&(this._instances[n]=this._insertRow(n,s.key,e,!0))}},_detachRow:function(t){var e=this._instances[t];if(!e.isPlaceholder)for(var n=(Polymer.dom(this).parentNode,0);n<e._children.length;n++){var s=e._children[n];Polymer.dom(e.root).appendChild(s)}return e},_insertRow:function(t,e,n,s){var r;(r=n&&n.pop())?(r.__setProperty(this.as,this.collection.getItem(e),!0),r.__setProperty("__key__",e,!0)):r=this._generateRow(t,e);var i=this._instances[s?t+1:t],o=i?i._children[0]:this,a=Polymer.dom(this).parentNode;return Polymer.dom(a).insertBefore(r.root,o),r},_generateRow:function(t,e){var n={__key__:e};n[this.as]=this.collection.getItem(e),n[this.indexAs]=t;var s=this.stamp(n);return s},_showHideChildren:function(t){for(var e=0;e<this._instances.length;e++)this._instances[e]._showHideChildren(t)},_forwardInstanceProp:function(t,e,n){if(e==this.as){var s;s=this._sortFn||this._filterFn?this.items.indexOf(this.collection.getItem(t.__key__)):t[this.indexAs],this.set("items."+s,n)}},_forwardInstancePath:function(t,e,n){0===e.indexOf(this.as+".")&&this.notifyPath("items."+t.__key__+"."+e.slice(this.as.length+1),n)},_forwardParentProp:function(t,e){this._instances.forEach(function(n){n.__setProperty(t,e,!0)},this)},_forwardParentPath:function(t,e){this._instances.forEach(function(n){n.notifyPath(t,e,!0)},this)},_forwardItemPath:function(t,e){if(this._keyToInstIdx){var n=t.indexOf("."),s=t.substring(0,0>n?t.length:n),r=this._keyToInstIdx[s],i=this._instances[r];i&&(n>=0?(t=this.as+"."+t.substring(n+1),i.notifyPath(t,e,!0)):i.__setProperty(this.as,e,!0))}},itemForElement:function(t){var e=this.modelForElement(t);return e&&e[this.as]},keyForElement:function(t){var e=this.modelForElement(t);return e&&e.__key__},indexForElement:function(t){var e=this.modelForElement(t);return e&&e[this.indexAs]}}),Polymer({is:"array-selector",properties:{items:{type:Array,observer:"clearSelection"},multi:{type:Boolean,value:!1,observer:"clearSelection"},selected:{type:Object,notify:!0},selectedItem:{type:Object,notify:!0},toggle:{type:Boolean,value:!1}},clearSelection:function(){if(Array.isArray(this.selected))for(var t=0;t<this.selected.length;t++)this.unlinkPaths("selected."+t);else this.unlinkPaths("selected");this.multi?(!this.selected||this.selected.length)&&(this.selected=[],this._selectedColl=Polymer.Collection.get(this.selected)):(this.selected=null,this._selectedColl=null),this.selectedItem=null},isSelected:function(t){return this.multi?void 0!==this._selectedColl.getKey(t):this.selected==t},deselect:function(t){if(this.multi){if(this.isSelected(t)){var e=this._selectedColl.getKey(t);this.arrayDelete("selected",t),this.unlinkPaths("selected."+e)}}else this.selected=null,this.selectedItem=null,this.unlinkPaths("selected"),this.unlinkPaths("selectedItem")},select:function(t){var e=Polymer.Collection.get(this.items),n=e.getKey(t);this.multi?this.isSelected(t)?this.toggle&&this.deselect(t):(this.push("selected",t),skey=this._selectedColl.getKey(t),this.linkPaths("selected."+skey,"items."+n)):this.toggle&&t==this.selected?this.deselect():(this.selected=t,this.selectedItem=t,this.linkPaths("selected","items."+n),this.linkPaths("selectedItem","items."+n))}}),Polymer({is:"dom-if","extends":"template",properties:{"if":{type:Boolean,value:!1,observer:"_queueRender"},restamp:{type:Boolean,value:!1,observer:"_queueRender"}},behaviors:[Polymer.Templatizer],_queueRender:function(){this._debounceTemplate(this._render)},detached:function(){this._teardownInstance()},attached:function(){this["if"]&&this.ctor&&this.async(this._ensureInstance)},render:function(){this._flushTemplates()},_render:function(){this["if"]?(this.ctor||this.templatize(this),this._ensureInstance(),this._showHideChildren()):this.restamp&&this._teardownInstance(),!this.restamp&&this._instance&&this._showHideChildren(),this["if"]!=this._lastIf&&(this.fire("dom-change"),this._lastIf=this["if"])},_ensureInstance:function(){if(!this._instance){this._instance=this.stamp();var t=this._instance.root,e=Polymer.dom(Polymer.dom(this).parentNode);e.insertBefore(t,this)}},_teardownInstance:function(){if(this._instance){var t=this._instance._children;if(t){var e=Polymer.dom(Polymer.dom(t[0]).parentNode);t.forEach(function(t){e.removeChild(t)})}this._instance=null}},_showHideChildren:function(){var t=this.__hideTemplateChildren__||!this["if"];this._instance&&this._instance._showHideChildren(t)},_forwardParentProp:function(t,e){this._instance&&(this._instance[t]=e)},_forwardParentPath:function(t,e){this._instance&&this._instance.notifyPath(t,e,!0)}}),Polymer({is:"dom-bind","extends":"template",created:function(){Polymer.RenderStatus.whenReady(this._markImportsReady.bind(this))},_ensureReady:function(){this._readied||this._readySelf()},_markImportsReady:function(){this._importsReady=!0,this._ensureReady()},_registerFeatures:function(){this._prepConstructor()},_insertChildren:function(){var t=Polymer.dom(Polymer.dom(this).parentNode);t.insertBefore(this.root,this)},_removeChildren:function(){if(this._children)for(var t=0;t<this._children.length;t++)this.root.appendChild(this._children[t])},_initFeatures:function(){},_scopeElementClass:function(t,e){return this.dataHost?this.dataHost._scopeElementClass(t,e):e},_prepConfigure:function(){var t={};for(var e in this._propertyEffects)t[e]=this[e];this._setupConfigure=this._setupConfigure.bind(this,t)},attached:function(){this._importsReady&&this.render()},detached:function(){this._removeChildren()},render:function(){this._ensureReady(),this._children||(this._template=this,this._prepAnnotations(),this._prepEffects(),this._prepBehaviors(),this._prepConfigure(),this._prepBindings(),Polymer.Base._initFeatures.call(this),this._children=Array.prototype.slice.call(this.root.childNodes)),this._insertChildren(),this.fire("dom-change")}});
;!function(){var e={},t={};Polymer.IronMeta=Polymer({is:"iron-meta",properties:{type:{type:String,value:"default",observer:"_typeChanged"},key:{type:String,observer:"_keyChanged"},value:{type:Object,notify:!0,observer:"_valueChanged"},self:{type:Boolean,observer:"_selfChanged"},list:{type:Array,notify:!0}},factoryImpl:function(e){if(e)for(var t in e)switch(t){case"type":case"key":case"value":this[t]=e[t]}},created:function(){this._metaDatas=e,this._metaArrays=t},_keyChanged:function(e,t){this._resetRegistration(t)},_valueChanged:function(e){this._resetRegistration(this.key)},_selfChanged:function(e){e&&(this.value=this)},_typeChanged:function(i){this._unregisterKey(this.key),e[i]||(e[i]={}),this._metaData=e[i],t[i]||(t[i]=[]),this.list=t[i],this._registerKeyValue(this.key,this.value)},byKey:function(e){return this._metaData&&this._metaData[e]},_resetRegistration:function(e){this._unregisterKey(e),this._registerKeyValue(this.key,this.value)},_unregisterKey:function(e){this._unregister(e,this._metaData,this.list)},_registerKeyValue:function(e,t){this._register(e,t,this._metaData,this.list)},_register:function(e,t,i,a){e&&i&&void 0!==t&&(i[e]=t,a.push(t))},_unregister:function(e,t,i){if(e&&t&&e in t){var a=t[e];delete t[e],this.arrayDelete(i,a)}}}),Polymer.IronMetaQuery=Polymer({is:"iron-meta-query",properties:{type:{type:String,value:"default",observer:"_typeChanged"},key:{type:String,observer:"_keyChanged"},value:{type:Object,notify:!0,readOnly:!0},list:{type:Array,notify:!0}},factoryImpl:function(e){if(e)for(var t in e)switch(t){case"type":case"key":this[t]=e[t]}},created:function(){this._metaDatas=e,this._metaArrays=t},_keyChanged:function(e){this._setValue(this._metaData&&this._metaData[e])},_typeChanged:function(i){this._metaData=e[i],this.list=t[i],this.key&&this._keyChanged(this.key)},byKey:function(e){return this._metaData&&this._metaData[e]}})}();
;Polymer({is:"iron-iconset-svg",properties:{name:{type:String,observer:"_nameChanged"},size:{type:Number,value:24}},getIconNames:function(){return this._icons=this._createIconMap(),Object.keys(this._icons).map(function(e){return this.name+":"+e},this)},applyIcon:function(e,t){e=e.root||e,this.removeIcon(e);var n=this._cloneIcon(t);if(n){var o=Polymer.dom(e);return o.insertBefore(n,o.childNodes[0]),e._svgIcon=n}return null},removeIcon:function(e){e._svgIcon&&(Polymer.dom(e).removeChild(e._svgIcon),e._svgIcon=null)},_nameChanged:function(){new Polymer.IronMeta({type:"iconset",key:this.name,value:this})},_createIconMap:function(){var e=Object.create(null);return Polymer.dom(this).querySelectorAll("[id]").forEach(function(t){e[t.id]=t}),e},_cloneIcon:function(e){return this._icons=this._icons||this._createIconMap(),this._prepareSvgClone(this._icons[e],this.size)},_prepareSvgClone:function(e,t){if(e){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("viewBox",["0","0",t,t].join(" ")),n.setAttribute("preserveAspectRatio","xMidYMid meet"),n.style.cssText="pointer-events: none; display: block; width: 100%; height: 100%;",n.appendChild(e.cloneNode(!0)).removeAttribute("id"),n}return null}});
;Polymer({is:"iron-iconset",properties:{src:{type:String,observer:"_srcChanged"},name:{type:String,observer:"_nameChanged"},width:{type:Number,value:0},icons:{type:String},size:{type:Number,value:24},_offsetX:{type:Number,value:0},_offsetY:{type:Number,value:0},iconNames:{type:Array,notify:!0}},hostAttributes:{style:"display: none;"},ready:function(){this._themes=this._mapThemes()},applyIcon:function(t,e,o,i){this._validateIconMap();var n=this._getThemedOffset(e,o);t&&n&&this._addIconStyles(t,this._srcUrl,n,i||1,this.size,this.width)},removeIcon:function(t){this._removeIconStyles(t.style)},_mapThemes:function(){var t=Object.create(null);return Polymer.dom(this).querySelectorAll("property[theme]").forEach(function(e){var o=window.parseInt(e.getAttribute("offset-x"),10)||0,i=window.parseInt(e.getAttribute("offset-y"),10)||0;t[e.getAttribute("theme")]={offsetX:o,offsetY:i}}),t},_srcChanged:function(t){this._srcUrl=this.ownerDocument!==document?this.resolveUrl(t):t,this._prepareIconset()},_nameChanged:function(t){this._prepareIconset()},_prepareIconset:function(){new Polymer.IronMeta({type:"iconset",key:this.name,value:this})},_invalidateIconMap:function(){this._iconMapValid=!1},_validateIconMap:function(){this._iconMapValid||(this._recomputeIconMap(),this._iconMapValid=!0)},_recomputeIconMap:function(){this.iconNames=this._computeIconNames(this.icons),this.iconMap=this._computeIconMap(this._offsetX,this._offsetY,this.size,this.width,this.iconNames)},_computeIconNames:function(t){return t.split(/\s+/g)},_computeIconMap:function(t,e,o,i,n){var s={};if(void 0!==t&&void 0!==e){var r=t;n.forEach(function(n){s[n]={offsetX:t,offsetY:e},i>t+o?t+=o:(t=r,e+=o)},this)}return s},_getThemedOffset:function(t,e){var o=this._getIconOffset(t),i=this._themes[e];return o&&i?{offsetX:o.offsetX+i.offsetX,offsetY:o.offsetY+i.offsetY}:o},_getIconOffset:function(t){return this.iconMap[t]||this.iconMap[this.iconNames[Number(t)]]},_addIconStyles:function(t,e,o,i,n,s){var r=t.style;r.backgroundImage="url("+e+")",r.backgroundPosition=-o.offsetX*i+"px "+(-o.offsetY*i+"px"),r.backgroundSize=1===i?"auto":s*i+"px",r.width=n+"px",r.height=n+"px",t.setAttribute("role","img")},_removeIconStyles:function(t){t.background=""}});
;Polymer.IronResizableBehavior={properties:{_parentResizable:{type:Object,observer:"_parentResizableChanged"},_notifyingDescendant:{type:Boolean,value:!1}},listeners:{"iron-request-resize-notifications":"_onIronRequestResizeNotifications"},created:function(){this._interestedResizables=[],this._boundNotifyResize=this.notifyResize.bind(this)},attached:function(){this.fire("iron-request-resize-notifications",null,{node:this,bubbles:!0,cancelable:!0}),this._parentResizable||(window.addEventListener("resize",this._boundNotifyResize),this.notifyResize())},detached:function(){this._parentResizable?this._parentResizable.stopResizeNotificationsFor(this):window.removeEventListener("resize",this._boundNotifyResize),this._parentResizable=null},notifyResize:function(){this.isAttached&&(this._interestedResizables.forEach(function(e){this.resizerShouldNotify(e)&&this._notifyDescendant(e)},this),this._fireResize())},assignParentResizable:function(e){this._parentResizable=e},stopResizeNotificationsFor:function(e){var i=this._interestedResizables.indexOf(e);i>-1&&(this._interestedResizables.splice(i,1),this.unlisten(e,"iron-resize","_onDescendantIronResize"))},resizerShouldNotify:function(e){return!0},_onDescendantIronResize:function(e){return this._notifyingDescendant?void e.stopPropagation():void(Polymer.Settings.useShadow||this._fireResize())},_fireResize:function(){this.fire("iron-resize",null,{node:this,bubbles:!1})},_onIronRequestResizeNotifications:function(e){var i=e.path?e.path[0]:e.target;i!==this&&(-1===this._interestedResizables.indexOf(i)&&(this._interestedResizables.push(i),this.listen(i,"iron-resize","_onDescendantIronResize")),i.assignParentResizable(this),this._notifyDescendant(i),e.stopPropagation())},_parentResizableChanged:function(e){e&&window.removeEventListener("resize",this._boundNotifyResize)},_notifyDescendant:function(e){this.isAttached&&(this._notifyingDescendant=!0,e.notifyResize(),this._notifyingDescendant=!1)}};
;Polymer.IronSelection=function(e){this.selection=[],this.selectCallback=e},Polymer.IronSelection.prototype={get:function(){return this.multi?this.selection:this.selection[0]},clear:function(e){this.selection.slice().forEach(function(t){(!e||e.indexOf(t)<0)&&this.setItemSelected(t,!1)},this)},isSelected:function(e){return this.selection.indexOf(e)>=0},setItemSelected:function(e,t){if(null!=e){if(t)this.selection.push(e);else{var i=this.selection.indexOf(e);i>=0&&this.selection.splice(i,1)}this.selectCallback&&this.selectCallback(e,t)}},select:function(e){this.multi?this.toggle(e):this.get()!==e&&(this.setItemSelected(this.get(),!1),this.setItemSelected(e,!0))},toggle:function(e){this.setItemSelected(e,!this.isSelected(e))}};
;Polymer.IronSelectableBehavior={properties:{attrForSelected:{type:String,value:null},selected:{type:String,notify:!0},selectedItem:{type:Object,readOnly:!0,notify:!0},activateEvent:{type:String,value:"tap",observer:"_activateEventChanged"},selectable:String,selectedClass:{type:String,value:"iron-selected"},selectedAttribute:{type:String,value:null}},observers:["_updateSelected(attrForSelected, selected)"],excludedLocalNames:{template:1},created:function(){this._bindFilterItem=this._filterItem.bind(this),this._selection=new Polymer.IronSelection(this._applySelection.bind(this))},attached:function(){this._observer=this._observeItems(this),this._contentObserver=this._observeContent(this)},detached:function(){this._observer&&this._observer.disconnect(),this._contentObserver&&this._contentObserver.disconnect(),this._removeListener(this.activateEvent)},get items(){var e=Polymer.dom(this).queryDistributedElements(this.selectable||"*");return Array.prototype.filter.call(e,this._bindFilterItem)},indexOf:function(e){return this.items.indexOf(e)},select:function(e){this.selected=e},selectPrevious:function(){var e=this.items.length,t=(Number(this._valueToIndex(this.selected))-1+e)%e;this.selected=this._indexToValue(t)},selectNext:function(){var e=(Number(this._valueToIndex(this.selected))+1)%this.items.length;this.selected=this._indexToValue(e)},_addListener:function(e){this.listen(this,e,"_activateHandler")},_removeListener:function(e){},_activateEventChanged:function(e,t){this._removeListener(t),this._addListener(e)},_updateSelected:function(){this._selectSelected(this.selected)},_selectSelected:function(e){this._selection.select(this._valueToItem(this.selected))},_filterItem:function(e){return!this.excludedLocalNames[e.localName]},_valueToItem:function(e){return null==e?null:this.items[this._valueToIndex(e)]},_valueToIndex:function(e){if(!this.attrForSelected)return Number(e);for(var t,i=0;t=this.items[i];i++)if(this._valueForItem(t)==e)return i},_indexToValue:function(e){if(!this.attrForSelected)return e;var t=this.items[e];return t?this._valueForItem(t):void 0},_valueForItem:function(e){return e[this.attrForSelected]||e.getAttribute(this.attrForSelected)},_applySelection:function(e,t){this.selectedClass&&this.toggleClass(this.selectedClass,t,e),this.selectedAttribute&&this.toggleAttribute(this.selectedAttribute,t,e),this._selectionChange(),this.fire("iron-"+(t?"select":"deselect"),{item:e})},_selectionChange:function(){this._setSelectedItem(this._selection.get())},_observeContent:function(e){var t=e.querySelector("content");return t&&t.parentElement===e?this._observeItems(e.domHost):void 0},_observeItems:function(e){var t=new MutationObserver(function(){null!=this.selected&&this._updateSelected()}.bind(this));return t.observe(e,{childList:!0,subtree:!0}),t},_activateHandler:function(e){if(e.type===this.activateEvent)for(var t=e.target,i=this.items;t&&t!=this;){var s=i.indexOf(t);if(s>=0){var n=this._indexToValue(s);return void this._itemActivate(n,t)}t=t.parentNode}},_itemActivate:function(e,t){this.fire("iron-activate",{selected:e,item:t},{cancelable:!0}).defaultPrevented||this.select(e)}};
;Polymer.IronMultiSelectableBehaviorImpl={properties:{multi:{type:Boolean,value:!1,observer:"multiChanged"},selectedValues:{type:Array,notify:!0},selectedItems:{type:Array,readOnly:!0,notify:!0}},observers:["_updateSelected(attrForSelected, selectedValues)"],select:function(e){this.multi?this.selectedValues?this._toggleSelected(e):this.selectedValues=[e]:this.selected=e},multiChanged:function(e){this._selection.multi=e},_updateSelected:function(){this.multi?this._selectMulti(this.selectedValues):this._selectSelected(this.selected)},_selectMulti:function(e){if(this._selection.clear(),e)for(var t=0;t<e.length;t++)this._selection.setItemSelected(this._valueToItem(e[t]),!0)},_selectionChange:function(){var e=this._selection.get();this.multi?this._setSelectedItems(e):(this._setSelectedItems([e]),this._setSelectedItem(e))},_toggleSelected:function(e){var t=this.selectedValues.indexOf(e),l=0>t;l?this.selectedValues.push(e):this.selectedValues.splice(t,1),this._selection.setItemSelected(this._valueToItem(e),l)}},Polymer.IronMultiSelectableBehavior=[Polymer.IronSelectableBehavior,Polymer.IronMultiSelectableBehaviorImpl];
;!function(){"use strict";function e(e){var n="";if(e){var t=e.toLowerCase();1==t.length?u.test(t)&&(n=t):n=c.test(t)?t.replace("arrow",""):v.test(t)?"space":"multiply"==t?"*":t}return n}function n(e){var n="";return e&&(n=h.test(e)?y[e]:e.toLowerCase()),n}function t(e){var n="";return Number(e)&&(n=e>=65&&90>=e?String.fromCharCode(32+e):e>=112&&123>=e?"f"+(e-112):e>=48&&57>=e?String(48-e):e>=96&&105>=e?String(96-e):o[e]),n}function i(i){return e(i.key)||n(i.keyIdentifier)||t(i.keyCode)||e(i.detail.key)||""}function s(e,n){return i(n)===e.key&&!!n.shiftKey==!!e.shiftKey&&!!n.ctrlKey==!!e.ctrlKey&&!!n.altKey==!!e.altKey&&!!n.metaKey==!!e.metaKey}function r(e){return e.split("+").reduce(function(e,n){var t=n.split(":"),i=t[0],s=t[1];return i in d?e[d[i]]=!0:(e.key=i,e.event=s||"keydown"),e},{combo:e.split(":").shift()})}function a(e){return e.split(" ").map(function(e){return r(e)})}var y={"U+0009":"tab","U+001B":"esc","U+0020":"space","U+002A":"*","U+0030":"0","U+0031":"1","U+0032":"2","U+0033":"3","U+0034":"4","U+0035":"5","U+0036":"6","U+0037":"7","U+0038":"8","U+0039":"9","U+0041":"a","U+0042":"b","U+0043":"c","U+0044":"d","U+0045":"e","U+0046":"f","U+0047":"g","U+0048":"h","U+0049":"i","U+004A":"j","U+004B":"k","U+004C":"l","U+004D":"m","U+004E":"n","U+004F":"o","U+0050":"p","U+0051":"q","U+0052":"r","U+0053":"s","U+0054":"t","U+0055":"u","U+0056":"v","U+0057":"w","U+0058":"x","U+0059":"y","U+005A":"z","U+007F":"del"},o={9:"tab",13:"enter",27:"esc",33:"pageup",34:"pagedown",35:"end",36:"home",32:"space",37:"left",38:"up",39:"right",40:"down",46:"del",106:"*"},d={shift:"shiftKey",ctrl:"ctrlKey",alt:"altKey",meta:"metaKey"},u=/[a-z0-9*]/,h=/U\+/,c=/^arrow/,v=/^space(bar)?/;Polymer.IronA11yKeysBehavior={properties:{keyEventTarget:{type:Object,value:function(){return this}},_boundKeyHandlers:{type:Array,value:function(){return[]}},_imperativeKeyBindings:{type:Object,value:function(){return{}}}},observers:["_resetKeyEventListeners(keyEventTarget, _boundKeyHandlers)"],keyBindings:{},registered:function(){this._prepKeyBindings()},attached:function(){this._listenKeyEventListeners()},detached:function(){this._unlistenKeyEventListeners()},addOwnKeyBinding:function(e,n){this._imperativeKeyBindings[e]=n,this._prepKeyBindings(),this._resetKeyEventListeners()},removeOwnKeyBindings:function(){this._imperativeKeyBindings={},this._prepKeyBindings(),this._resetKeyEventListeners()},keyboardEventMatchesKeys:function(e,n){var t,i=a(n);for(t=0;t<i.length;++t)if(s(i[t],e))return!0;return!1},_collectKeyBindings:function(){var e=this.behaviors.map(function(e){return e.keyBindings});return-1===e.indexOf(this.keyBindings)&&e.push(this.keyBindings),e},_prepKeyBindings:function(){this._keyBindings={},this._collectKeyBindings().forEach(function(e){for(var n in e)this._addKeyBinding(n,e[n])},this);for(var e in this._imperativeKeyBindings)this._addKeyBinding(e,this._imperativeKeyBindings[e])},_addKeyBinding:function(e,n){a(e).forEach(function(e){this._keyBindings[e.event]=this._keyBindings[e.event]||[],this._keyBindings[e.event].push([e,n])},this)},_resetKeyEventListeners:function(){this._unlistenKeyEventListeners(),this.isAttached&&this._listenKeyEventListeners()},_listenKeyEventListeners:function(){Object.keys(this._keyBindings).forEach(function(e){var n=this._keyBindings[e],t=this._onKeyBindingEvent.bind(this,n);this._boundKeyHandlers.push([this.keyEventTarget,e,t]),this.keyEventTarget.addEventListener(e,t)},this)},_unlistenKeyEventListeners:function(){for(var e,n,t,i;this._boundKeyHandlers.length;)e=this._boundKeyHandlers.pop(),n=e[0],t=e[1],i=e[2],n.removeEventListener(t,i)},_onKeyBindingEvent:function(e,n){e.forEach(function(e){var t=e[0],i=e[1];!n.defaultPrevented&&s(t,n)&&this._triggerKeyHandler(t,i,n)},this)},_triggerKeyHandler:function(e,n,t){var i=Object.create(e);i.keyboardEvent=t,this[n].call(this,new CustomEvent(e.event,{detail:i}))}}}();
;Polymer.IronMenuBehaviorImpl={properties:{focusedItem:{observer:"_focusedItemChanged",readOnly:!0,type:Object},attrForItemTitle:{type:String}},hostAttributes:{role:"menu",tabindex:"0"},observers:["_updateMultiselectable(multi)"],listeners:{focus:"_onFocus",keydown:"_onKeydown"},keyBindings:{up:"_onUpKey",down:"_onDownKey",esc:"_onEscKey",enter:"_onEnterKey","shift+tab:keydown":"_onShiftTabDown"},_updateMultiselectable:function(e){e?this.setAttribute("aria-multiselectable","true"):this.removeAttribute("aria-multiselectable")},_onShiftTabDown:function(){var e;Polymer.IronMenuBehaviorImpl._shiftTabPressed=!0,e=this.getAttribute("tabindex"),this.setAttribute("tabindex","-1"),this.async(function(){this.setAttribute("tabindex",e),Polymer.IronMenuBehaviorImpl._shiftTabPressed=!1},1)},_applySelection:function(e,t){t?e.setAttribute("aria-selected","true"):e.removeAttribute("aria-selected"),Polymer.IronSelectableBehavior._applySelection.apply(this,arguments)},_focusedItemChanged:function(e,t){t&&t.setAttribute("tabindex","-1"),e&&(e.setAttribute("tabindex","0"),e.focus())},select:function(e){this._defaultFocusAsync&&(this.cancelAsync(this._defaultFocusAsync),this._defaultFocusAsync=null);var t=this._valueToItem(e);this._setFocusedItem(t),Polymer.IronMultiSelectableBehaviorImpl.select.apply(this,arguments)},_onFocus:function(e){Polymer.IronMenuBehaviorImpl._shiftTabPressed||(this.blur(),this._setFocusedItem(null),this._defaultFocusAsync=this.async(function(){var e=this.multi?this.selectedItems&&this.selectedItems[0]:this.selectedItem;e?this._setFocusedItem(e):this._setFocusedItem(this.items[0])},100))},_onUpKey:function(){this._focusPrevious()},_onDownKey:function(){this._focusNext()},_onEscKey:function(){this.focusedItem.blur()},_onEnterKey:function(e){this._activateFocused(e.detail.keyboardEvent)},_onKeydown:function(e){this.keyboardEventMatchesKeys(e,"up down esc enter")||this._focusWithKeyboardEvent(e)},_focusWithKeyboardEvent:function(e){for(var t,s=0;t=this.items[s];s++){var i=this.attrForItemTitle||"textContent",o=t[i]||t.getAttribute(i);if(o&&o.trim().charAt(0).toLowerCase()===String.fromCharCode(e.keyCode).toLowerCase()){this._setFocusedItem(t);break}}},_activateFocused:function(e){this.focusedItem.hasAttribute("disabled")||this._activateHandler(e)},_focusPrevious:function(){var e=this.items.length,t=(Number(this.indexOf(this.focusedItem))-1+e)%e;this._setFocusedItem(this.items[t])},_focusNext:function(){var e=(Number(this.indexOf(this.focusedItem))+1)%this.items.length;this._setFocusedItem(this.items[e])}},Polymer.IronMenuBehaviorImpl._shiftTabPressed=!1,Polymer.IronMenuBehavior=[Polymer.IronMultiSelectableBehavior,Polymer.IronA11yKeysBehavior,Polymer.IronMenuBehaviorImpl];
;Polymer.IronMenubarBehaviorImpl={hostAttributes:{role:"menubar"},keyBindings:{left:"_onLeftKey",right:"_onRightKey"},_onUpKey:function(e){this._activateFocused(e.detail.keyboardEvent)},_onDownKey:function(e){this._activateFocused(e.detail.keyboardEvent)},_onLeftKey:function(){this._focusPrevious()},_onRightKey:function(){this._focusNext()},_onKeydown:function(e){this.keyboardEventMatchesKeys(e,"up down left right esc enter")||this._focusWithKeyboardEvent(e)}},Polymer.IronMenubarBehavior=[Polymer.IronMenuBehavior,Polymer.IronMenubarBehaviorImpl];
;Polymer.IronControlState={properties:{focused:{type:Boolean,value:!1,notify:!0,readOnly:!0,reflectToAttribute:!0},disabled:{type:Boolean,value:!1,notify:!0,observer:"_disabledChanged",reflectToAttribute:!0},_oldTabIndex:{type:Number},_boundFocusBlurHandler:{type:Function,value:function(){return this._focusBlurHandler.bind(this)}}},observers:["_changedControlState(focused, disabled)"],ready:function(){this.addEventListener("focus",this._boundFocusBlurHandler,!0),this.addEventListener("blur",this._boundFocusBlurHandler,!0)},_focusBlurHandler:function(e){if(e.target===this){var t="focus"===e.type;this._setFocused(t)}else this.shadowRoot||this.fire(e.type,{sourceEvent:e},{node:this,bubbles:e.bubbles,cancelable:e.cancelable})},_disabledChanged:function(e,t){this.setAttribute("aria-disabled",e?"true":"false"),this.style.pointerEvents=e?"none":"",e?(this._oldTabIndex=this.tabIndex,this.focused=!1,this.tabIndex=-1):void 0!==this._oldTabIndex&&(this.tabIndex=this._oldTabIndex)},_changedControlState:function(){this._controlStateChanged&&this._controlStateChanged()}};
;Polymer.IronButtonStateImpl={properties:{pressed:{type:Boolean,readOnly:!0,value:!1,reflectToAttribute:!0,observer:"_pressedChanged"},toggles:{type:Boolean,value:!1,reflectToAttribute:!0},active:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},pointerDown:{type:Boolean,readOnly:!0,value:!1},receivedFocusFromKeyboard:{type:Boolean,readOnly:!0},ariaActiveAttribute:{type:String,value:"aria-pressed",observer:"_ariaActiveAttributeChanged"}},listeners:{down:"_downHandler",up:"_upHandler",tap:"_tapHandler"},observers:["_detectKeyboardFocus(focused)","_activeChanged(active, ariaActiveAttribute)"],keyBindings:{"enter:keydown":"_asyncClick","space:keydown":"_spaceKeyDownHandler","space:keyup":"_spaceKeyUpHandler"},_mouseEventRe:/^mouse/,_tapHandler:function(){this.toggles?this._userActivate(!this.active):this.active=!1},_detectKeyboardFocus:function(e){this._setReceivedFocusFromKeyboard(!this.pointerDown&&e)},_userActivate:function(e){this.active!==e&&(this.active=e,this.fire("change"))},_eventSourceIsPrimaryInput:function(e){return e=e.detail.sourceEvent||e,this._mouseEventRe.test(e.type)?"buttons"in e?1===e.buttons:"number"==typeof e.which?e.which<2:e.button<1:!0},_downHandler:function(e){this._eventSourceIsPrimaryInput(e)&&(this._setPointerDown(!0),this._setPressed(!0),this._setReceivedFocusFromKeyboard(!1))},_upHandler:function(){this._setPointerDown(!1),this._setPressed(!1)},_spaceKeyDownHandler:function(e){var t=e.detail.keyboardEvent;t.preventDefault(),t.stopImmediatePropagation(),this._setPressed(!0)},_spaceKeyUpHandler:function(){this.pressed&&this._asyncClick(),this._setPressed(!1)},_asyncClick:function(){this.async(function(){this.click()},1)},_pressedChanged:function(e){this._changedButtonState()},_ariaActiveAttributeChanged:function(e,t){t&&t!=e&&this.hasAttribute(t)&&this.removeAttribute(t)},_activeChanged:function(e,t){this.toggles?this.setAttribute(this.ariaActiveAttribute,e?"true":"false"):this.removeAttribute(this.ariaActiveAttribute),this._changedButtonState()},_controlStateChanged:function(){this.disabled?this._setPressed(!1):this._changedButtonState()},_changedButtonState:function(){this._buttonStateChanged&&this._buttonStateChanged()}},Polymer.IronButtonState=[Polymer.IronA11yKeysBehavior,Polymer.IronButtonStateImpl];
;Polymer.PaperButtonBehaviorImpl={properties:{_elevation:{type:Number}},observers:["_calculateElevation(focused, disabled, active, pressed, receivedFocusFromKeyboard)"],hostAttributes:{role:"button",tabindex:"0"},_calculateElevation:function(){var e=1;this.disabled?e=0:this.active||this.pressed?e=4:this.receivedFocusFromKeyboard&&(e=3),this._elevation=e}},Polymer.PaperButtonBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperButtonBehaviorImpl];
;Polymer.PaperInkyFocusBehaviorImpl={observers:["_focusedChanged(receivedFocusFromKeyboard)"],_focusedChanged:function(o){this.$.ink&&(this.$.ink.holdDown=o)}},Polymer.PaperInkyFocusBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperInkyFocusBehaviorImpl];
;Polymer({is:"iron-media-query",properties:{queryMatches:{type:Boolean,value:!1,readOnly:!0,notify:!0},query:{type:String,observer:"queryChanged"}},created:function(){this._mqHandler=this.queryHandler.bind(this)},queryChanged:function(e){this._mq&&this._mq.removeListener(this._mqHandler),"("!==e[0]&&(e="("+e+")"),this._mq=window.matchMedia(e),this._mq.addListener(this._mqHandler),this.queryHandler(this._mq)},queryHandler:function(e){this._setQueryMatches(e.matches)}});
;Polymer({is:"iron-selector",behaviors:[Polymer.IronMultiSelectableBehavior]});
;Polymer.NeonAnimationBehavior={properties:{animationTiming:{type:Object,value:function(){return{duration:500,easing:"cubic-bezier(0.4, 0, 0.2, 1)",fill:"both"}}}},registered:function(){new Polymer.IronMeta({type:"animation",key:this.is,value:this.constructor})},timingFromConfig:function(i){if(i.timing)for(var n in i.timing)this.animationTiming[n]=i.timing[n];return this.animationTiming},setPrefixedProperty:function(i,n,t){for(var r,e={transform:["webkitTransform"],transformOrigin:["mozTransformOrigin","webkitTransformOrigin"]},o=e[n],a=0;r=o[a];a++)i.style[r]=t;i.style[n]=t},complete:function(){}};
;!function(a,b){b["true"]=a;var c={},d={},e={},f=null;!function(t){function e(t){if("number"==typeof t)return t;var e={};for(var i in t)e[i]=t[i];return e}function i(){this._delay=0,this._endDelay=0,this._fill="none",this._iterationStart=0,this._iterations=1,this._duration=0,this._playbackRate=1,this._direction="normal",this._easing="linear"}function n(e,n){var r=new i;return n&&(r.fill="both",r.duration="auto"),"number"!=typeof e||isNaN(e)?void 0!==e&&Object.getOwnPropertyNames(e).forEach(function(i){if("auto"!=e[i]){if(("number"==typeof r[i]||"duration"==i)&&("number"!=typeof e[i]||isNaN(e[i])))return;if("fill"==i&&-1==b.indexOf(e[i]))return;if("direction"==i&&-1==v.indexOf(e[i]))return;if("playbackRate"==i&&1!==e[i]&&t.isDeprecated("AnimationEffectTiming.playbackRate","2014-11-28","Use Animation.playbackRate instead."))return;r[i]=e[i]}}):r.duration=e,r}function r(t){return"number"==typeof t&&(t=isNaN(t)?{duration:0}:{duration:t}),t}function o(e,i){e=t.numericTimingToObject(e);var r=n(e,i);return r._easing=u(r.easing),r}function a(t,e,i,n){return 0>t||t>1||0>i||i>1?R:function(r){function o(t,e,i){return 3*t*(1-i)*(1-i)*i+3*e*(1-i)*i*i+i*i*i}if(0==r||1==r)return r;for(var a=0,s=1;;){var u=(a+s)/2,c=o(t,i,u);if(Math.abs(r-c)<.001)return o(e,n,u);r>c?a=u:s=u}}}function s(t,e){return function(i){if(i>=1)return 1;var n=1/t;return i+=e*n,i-i%n}}function u(t){var e=P.exec(t);if(e)return a.apply(this,e.slice(1).map(Number));var i=A.exec(t);if(i)return s(Number(i[1]),{start:y,middle:T,end:w}[i[2]]);var n=x[t];return n?n:R}function c(t){return Math.abs(f(t)/t.playbackRate)}function f(t){return t.duration*t.iterations}function l(t,e,i){return null==e?j:e<i.delay?N:e>=i.delay+t?k:O}function h(t,e,i,n,r){switch(n){case N:return"backwards"==e||"both"==e?0:null;case O:return i-r;case k:return"forwards"==e||"both"==e?t:null;case j:return null}}function m(t,e,i,n){return(n.playbackRate<0?e-t:e)*n.playbackRate+i}function d(t,e,i,n,r){return 1/0===i||i===-1/0||i-n==e&&r.iterations&&(r.iterations+r.iterationStart)%1==0?t:i%t}function p(t,e,i,n){return 0===i?0:e==t?n.iterationStart+n.iterations-1:Math.floor(i/t)}function _(t,e,i,n){var r=t%2>=1,o="normal"==n.direction||n.direction==(r?"alternate-reverse":"alternate"),a=o?i:e-i,s=a/e;return e*n.easing(s)}function g(t,e,i){var n=l(t,e,i),r=h(t,i.fill,e,n,i.delay);if(null===r)return null;if(0===t)return n===N?0:1;var o=i.iterationStart*i.duration,a=m(t,r,o,i),s=d(i.duration,f(i),a,o,i),u=p(i.duration,s,a,i);return _(u,i.duration,s,i)/i.duration}var b="backwards|forwards|both|none".split("|"),v="reverse|alternate|alternate-reverse".split("|");i.prototype={_setMember:function(e,i){this["_"+e]=i,this._effect&&(this._effect._timingInput[e]=i,this._effect._timing=t.normalizeTimingInput(t.normalizeTimingInput(this._effect._timingInput)),this._effect.activeDuration=t.calculateActiveDuration(this._effect._timing),this._effect._animation&&this._effect._animation._rebuildUnderlyingAnimation())},get playbackRate(){return this._playbackRate},set delay(t){this._setMember("delay",t)},get delay(){return this._delay},set endDelay(t){this._setMember("endDelay",t)},get endDelay(){return this._endDelay},set fill(t){this._setMember("fill",t)},get fill(){return this._fill},set iterationStart(t){this._setMember("iterationStart",t)},get iterationStart(){return this._iterationStart},set duration(t){this._setMember("duration",t)},get duration(){return this._duration},set direction(t){this._setMember("direction",t)},get direction(){return this._direction},set easing(t){this._setMember("easing",t)},get easing(){return this._easing},set iterations(t){this._setMember("iterations",t)},get iterations(){return this._iterations}};var y=1,T=.5,w=0,x={ease:a(.25,.1,.25,1),"ease-in":a(.42,0,1,1),"ease-out":a(0,0,.58,1),"ease-in-out":a(.42,0,.58,1),"step-start":s(1,y),"step-middle":s(1,T),"step-end":s(1,w)},E="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",P=new RegExp("cubic-bezier\\("+E+","+E+","+E+","+E+"\\)"),A=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/,R=function(t){return t},j=0,N=1,k=2,O=3;t.cloneTimingInput=e,t.makeTiming=n,t.numericTimingToObject=r,t.normalizeTimingInput=o,t.calculateActiveDuration=c,t.calculateTimeFraction=g,t.calculatePhase=l,t.toTimingFunction=u}(c,f),function(t){function e(t,e){return t in s?s[t][e]||e:e}function i(t,i,n){var a=r[t];if(a){o.style[t]=i;for(var s in a){var u=a[s],c=o.style[u];n[u]=e(u,c)}}else n[t]=e(t,i)}function n(e){function n(){var t=r.length;null==r[t-1].offset&&(r[t-1].offset=1),t>1&&null==r[0].offset&&(r[0].offset=0);for(var e=0,i=r[0].offset,n=1;t>n;n++){var o=r[n].offset;if(null!=o){for(var a=1;n-e>a;a++)r[e+a].offset=i+(o-i)*a/(n-e);e=n,i=o}}}if(!Array.isArray(e)&&null!==e)throw new TypeError("Keyframes must be null or an array of keyframes");if(null==e)return[];for(var r=e.map(function(e){var n={};for(var r in e){var o=e[r];if("offset"==r){if(null!=o&&(o=Number(o),!isFinite(o)))throw new TypeError("keyframe offsets must be numbers.")}else{if("composite"==r)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"add compositing is not supported"};o="easing"==r?t.toTimingFunction(o):""+o}i(r,o,n)}return void 0==n.offset&&(n.offset=null),void 0==n.easing&&(n.easing=t.toTimingFunction("linear")),n}),o=!0,a=-1/0,s=0;s<r.length;s++){var u=r[s].offset;if(null!=u){if(a>u)throw{code:DOMException.INVALID_MODIFICATION_ERR,name:"InvalidModificationError",message:"Keyframes are not loosely sorted by offset. Sort or specify offsets."};a=u}else o=!1}return r=r.filter(function(t){return t.offset>=0&&t.offset<=1}),o||n(),r}var r={background:["backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","backgroundAttachment","backgroundOrigin","backgroundClip","backgroundColor"],border:["borderTopColor","borderTopStyle","borderTopWidth","borderRightColor","borderRightStyle","borderRightWidth","borderBottomColor","borderBottomStyle","borderBottomWidth","borderLeftColor","borderLeftStyle","borderLeftWidth"],borderBottom:["borderBottomWidth","borderBottomStyle","borderBottomColor"],borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderLeft:["borderLeftWidth","borderLeftStyle","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderRight:["borderRightWidth","borderRightStyle","borderRightColor"],borderTop:["borderTopWidth","borderTopStyle","borderTopColor"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],flex:["flexGrow","flexShrink","flexBasis"],font:["fontFamily","fontSize","fontStyle","fontVariant","fontWeight","lineHeight"],margin:["marginTop","marginRight","marginBottom","marginLeft"],outline:["outlineColor","outlineStyle","outlineWidth"],padding:["paddingTop","paddingRight","paddingBottom","paddingLeft"]},o=document.createElementNS("http://www.w3.org/1999/xhtml","div"),a={thin:"1px",medium:"3px",thick:"5px"},s={borderBottomWidth:a,borderLeftWidth:a,borderRightWidth:a,borderTopWidth:a,fontSize:{"xx-small":"60%","x-small":"75%",small:"89%",medium:"100%",large:"120%","x-large":"150%","xx-large":"200%"},fontWeight:{normal:"400",bold:"700"},outlineWidth:a,textShadow:{none:"0px 0px 0px transparent"},boxShadow:{none:"0px 0px 0px 0px transparent"}};t.normalizeKeyframes=n}(c,f),function(t){var e={};t.isDeprecated=function(t,i,n,r){var o=r?"are":"is",a=new Date,s=new Date(i);return s.setMonth(s.getMonth()+3),s>a?(t in e||void 0,e[t]=!0,!1):!0},t.deprecated=function(e,i,n,r){var o=r?"are":"is";if(t.isDeprecated(e,i,n,r))throw new Error(e+" "+o+" no longer supported. "+n)}}(c),function(){if(document.documentElement.animate){var a=document.documentElement.animate([],0),b=!0;if(a&&(b=!1,"play|currentTime|pause|reverse|playbackRate|cancel|finish|startTime|playState".split("|").forEach(function(t){void 0===a[t]&&(b=!0)})),!b)return}!function(t,e){function i(t){for(var e={},i=0;i<t.length;i++)for(var n in t[i])if("offset"!=n&&"easing"!=n&&"composite"!=n){var r={offset:t[i].offset,easing:t[i].easing,value:t[i][n]};e[n]=e[n]||[],e[n].push(r)}for(var o in e){var a=e[o];if(0!=a[0].offset||1!=a[a.length-1].offset)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"Partial keyframes are not supported"}}return e}function n(t){var i=[];for(var n in t)for(var r=t[n],o=0;o<r.length-1;o++){var a=r[o].offset,s=r[o+1].offset,u=r[o].value,c=r[o+1].value;a==s&&(1==s?u=c:c=u),i.push({startTime:a,endTime:s,easing:r[o].easing,property:n,interpolation:e.propertyInterpolation(n,u,c)})}return i.sort(function(t,e){return t.startTime-e.startTime}),i}e.convertEffectInput=function(r){var o=t.normalizeKeyframes(r),a=i(o),s=n(a);return function(t,i){if(null!=i)s.filter(function(t){return 0>=i&&0==t.startTime||i>=1&&1==t.endTime||i>=t.startTime&&i<=t.endTime}).forEach(function(n){var r=i-n.startTime,o=n.endTime-n.startTime,a=0==o?0:n.easing(r/o);e.apply(t,n.property,n.interpolation(a))});else for(var n in a)"offset"!=n&&"easing"!=n&&"composite"!=n&&e.clear(t,n)}}}(c,d,f),function(t){function e(t,e,i){r[i]=r[i]||[],r[i].push([t,e])}function i(t,i,n){for(var r=0;r<n.length;r++){var o=n[r];e(t,i,o),/-/.test(o)&&e(t,i,o.replace(/-(.)/g,function(t,e){return e.toUpperCase()}))}}function n(e,i,n){if("initial"==i||"initial"==n){var a=e.replace(/-(.)/g,function(t,e){return e.toUpperCase()});"initial"==i&&(i=o[a]),"initial"==n&&(n=o[a])}for(var s=i==n?[]:r[e],u=0;s&&u<s.length;u++){var c=s[u][0](i),f=s[u][0](n);if(void 0!==c&&void 0!==f){var l=s[u][1](c,f);if(l){var h=t.Interpolation.apply(null,l);return function(t){return 0==t?i:1==t?n:h(t)}}}}return t.Interpolation(!1,!0,function(t){return t?n:i})}var r={};t.addPropertiesHandler=i;var o={backgroundColor:"transparent",backgroundPosition:"0% 0%",borderBottomColor:"currentColor",borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px",borderBottomWidth:"3px",borderLeftColor:"currentColor",borderLeftWidth:"3px",borderRightColor:"currentColor",borderRightWidth:"3px",borderSpacing:"2px",borderTopColor:"currentColor",borderTopLeftRadius:"0px",borderTopRightRadius:"0px",borderTopWidth:"3px",bottom:"auto",clip:"rect(0px, 0px, 0px, 0px)",color:"black",fontSize:"100%",fontWeight:"400",height:"auto",left:"auto",letterSpacing:"normal",lineHeight:"120%",marginBottom:"0px",marginLeft:"0px",marginRight:"0px",marginTop:"0px",maxHeight:"none",maxWidth:"none",minHeight:"0px",minWidth:"0px",opacity:"1.0",outlineColor:"invert",outlineOffset:"0px",outlineWidth:"3px",paddingBottom:"0px",paddingLeft:"0px",paddingRight:"0px",paddingTop:"0px",right:"auto",textIndent:"0px",textShadow:"0px 0px 0px transparent",top:"auto",transform:"",verticalAlign:"0px",visibility:"visible",width:"auto",wordSpacing:"normal",zIndex:"auto"};t.propertyInterpolation=n}(d,f),function(t,e){function i(e){var i=t.calculateActiveDuration(e),n=function(n){return t.calculateTimeFraction(i,n,e)};return n._totalDuration=e.delay+i+e.endDelay,n._isCurrent=function(n){var r=t.calculatePhase(i,n,e);return r===PhaseActive||r===PhaseBefore},n}e.KeyframeEffect=function(n,r,o){var a,s=i(t.normalizeTimingInput(o)),u=e.convertEffectInput(r),c=function(){u(n,a)};return c._update=function(t){return a=s(t),null!==a},c._clear=function(){u(n,null)},c._hasSameTarget=function(t){return n===t},c._isCurrent=s._isCurrent,c._totalDuration=s._totalDuration,c},e.NullEffect=function(t){var e=function(){t&&(t(),t=null)};return e._update=function(){return null},e._totalDuration=0,e._isCurrent=function(){return!1},e._hasSameTarget=function(){return!1},e}}(c,d,f),function(t){t.apply=function(e,i,n){e.style[t.propertyName(i)]=n},t.clear=function(e,i){e.style[t.propertyName(i)]=""}}(d,f),function(t){window.Element.prototype.animate=function(e,i){return t.timeline._play(t.KeyframeEffect(this,e,i))}}(d),function(t){function e(t,i,n){if("number"==typeof t&&"number"==typeof i)return t*(1-n)+i*n;if("boolean"==typeof t&&"boolean"==typeof i)return.5>n?t:i;if(t.length==i.length){for(var r=[],o=0;o<t.length;o++)r.push(e(t[o],i[o],n));return r}throw"Mismatched interpolation arguments "+t+":"+i}t.Interpolation=function(t,i,n){return function(r){return n(e(t,i,r))}}}(d,f),function(t,e){t.sequenceNumber=0;var i=function(t,e,i){this.target=t,this.currentTime=e,this.timelineTime=i,this.type="finish",this.bubbles=!1,this.cancelable=!1,this.currentTarget=t,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()};e.Animation=function(e){this._sequenceNumber=t.sequenceNumber++,this._currentTime=0,this._startTime=null,this._paused=!1,this._playbackRate=1,this._inTimeline=!0,this._finishedFlag=!1,this.onfinish=null,this._finishHandlers=[],this._effect=e,this._inEffect=this._effect._update(0),this._idle=!0,this._currentTimePending=!1},e.Animation.prototype={_ensureAlive:function(){this._inEffect=this._effect._update(this.playbackRate<0&&0===this.currentTime?-1:this.currentTime),this._inTimeline||!this._inEffect&&this._finishedFlag||(this._inTimeline=!0,e.timeline._animations.push(this))},_tickCurrentTime:function(t,e){t!=this._currentTime&&(this._currentTime=t,this._isFinished&&!e&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this._ensureAlive())},get currentTime(){return this._idle||this._currentTimePending?null:this._currentTime},set currentTime(t){t=+t,isNaN(t)||(e.restart(),this._paused||null==this._startTime||(this._startTime=this._timeline.currentTime-t/this._playbackRate),this._currentTimePending=!1,this._currentTime!=t&&(this._tickCurrentTime(t,!0),e.invalidateEffects()))},get startTime(){return this._startTime},set startTime(t){t=+t,isNaN(t)||this._paused||this._idle||(this._startTime=t,this._tickCurrentTime((this._timeline.currentTime-this._startTime)*this.playbackRate),e.invalidateEffects())},get playbackRate(){return this._playbackRate},set playbackRate(t){if(t!=this._playbackRate){var e=this.currentTime;this._playbackRate=t,this._startTime=null,"paused"!=this.playState&&"idle"!=this.playState&&this.play(),null!=e&&(this.currentTime=e)}},get _isFinished(){return!this._idle&&(this._playbackRate>0&&this._currentTime>=this._totalDuration||this._playbackRate<0&&this._currentTime<=0)},get _totalDuration(){return this._effect._totalDuration},get playState(){return this._idle?"idle":null==this._startTime&&!this._paused&&0!=this.playbackRate||this._currentTimePending?"pending":this._paused?"paused":this._isFinished?"finished":"running"},play:function(){this._paused=!1,(this._isFinished||this._idle)&&(this._currentTime=this._playbackRate>0?0:this._totalDuration,this._startTime=null,e.invalidateEffects()),this._finishedFlag=!1,e.restart(),this._idle=!1,this._ensureAlive()},pause:function(){this._isFinished||this._paused||this._idle||(this._currentTimePending=!0),this._startTime=null,this._paused=!0},finish:function(){this._idle||(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this._currentTimePending=!1)},cancel:function(){this._inEffect&&(this._inEffect=!1,this._idle=!0,this.currentTime=0,this._startTime=null,this._effect._update(null),e.invalidateEffects(),e.restart())},reverse:function(){this.playbackRate*=-1,this.play()},addEventListener:function(t,e){"function"==typeof e&&"finish"==t&&this._finishHandlers.push(e)},removeEventListener:function(t,e){if("finish"==t){var i=this._finishHandlers.indexOf(e);i>=0&&this._finishHandlers.splice(i,1)}},_fireEvents:function(t){var e=this._isFinished;if((e||this._idle)&&!this._finishedFlag){var n=new i(this,this._currentTime,t),r=this._finishHandlers.concat(this.onfinish?[this.onfinish]:[]);setTimeout(function(){r.forEach(function(t){t.call(n.target,n)})},0)}this._finishedFlag=e},_tick:function(t){return this._idle||this._paused||(null==this._startTime?this.startTime=t-this._currentTime/this.playbackRate:this._isFinished||this._tickCurrentTime((t-this._startTime)*this.playbackRate)),this._currentTimePending=!1,this._fireEvents(t),!this._idle&&(this._inEffect||!this._finishedFlag)}}}(c,d,f),function(t,e){function i(t){var e=u;u=[],t<b.currentTime&&(t=b.currentTime),a(t),e.forEach(function(e){e[1](t)}),d&&a(t),o(),l=void 0}function n(t,e){return t._sequenceNumber-e._sequenceNumber}function r(){this._animations=[],this.currentTime=window.performance&&performance.now?performance.now():0}function o(){p.forEach(function(t){t()}),p.length=0}function a(t){m=!1;var i=e.timeline;i.currentTime=t,i._animations.sort(n),h=!1;var r=i._animations;i._animations=[];var o=[],a=[];r=r.filter(function(e){return e._inTimeline=e._tick(t),e._inEffect?a.push(e._effect):o.push(e._effect),e._isFinished||e._paused||e._idle||(h=!0),e._inTimeline}),p.push.apply(p,o),p.push.apply(p,a),i._animations.push.apply(i._animations,r),d=!1,h&&requestAnimationFrame(function(){})}var s=window.requestAnimationFrame,u=[],c=0;window.requestAnimationFrame=function(t){var e=c++;return 0==u.length&&s(i),u.push([e,t]),e},window.cancelAnimationFrame=function(t){u.forEach(function(e){e[0]==t&&(e[1]=function(){})})},r.prototype={_play:function(i){i._timing=t.normalizeTimingInput(i.timing);var n=new e.Animation(i);return n._idle=!1,n._timeline=this,this._animations.push(n),e.restart(),e.invalidateEffects(),n}};var f,l=void 0,f=function(){return void 0==l&&(l=performance.now()),l},h=!1,m=!1;e.restart=function(){return h||(h=!0,requestAnimationFrame(function(){}),m=!0),m};var d=!1;e.invalidateEffects=function(){d=!0};var p=[],_=1e3/60,g=window.getComputedStyle;Object.defineProperty(window,"getComputedStyle",{configurable:!0,enumerable:!0,value:function(){if(d){var t=f();t-b.currentTime>0&&(b.currentTime+=_*(Math.floor((t-b.currentTime)/_)+1)),a(b.currentTime)}return o(),g.apply(this,arguments)}});var b=new r;e.timeline=b}(c,d,f),function(t){function e(t,e){var i=t.exec(e);return i?(i=t.ignoreCase?i[0].toLowerCase():i[0],[i,e.substr(i.length)]):void 0}function i(t,e){e=e.replace(/^\s*/,"");var i=t(e);return i?[i[0],i[1].replace(/^\s*/,"")]:void 0}function n(t,n,r){t=i.bind(null,t);for(var o=[];;){var a=t(r);if(!a)return[o,r];if(o.push(a[0]),r=a[1],a=e(n,r),!a||""==a[1])return[o,r];r=a[1]}}function r(t,e){for(var i=0,n=0;n<e.length&&(!/\s|,/.test(e[n])||0!=i);n++)if("("==e[n])i++;else if(")"==e[n]&&(i--,0==i&&n++,0>=i))break;var r=t(e.substr(0,n));return void 0==r?void 0:[r,e.substr(n)]}function o(t,e){for(var i=t,n=e;i&&n;)i>n?i%=n:n%=i;return i=t*e/(i+n)}function a(t){return function(e){var i=t(e);return i&&(i[0]=void 0),i}}function s(t,e){return function(i){var n=t(i);return n?n:[e,i]}}function u(e,i){for(var n=[],r=0;r<e.length;r++){var o=t.consumeTrimmed(e[r],i);if(!o||""==o[0])return;void 0!==o[0]&&n.push(o[0]),i=o[1]}return""==i?n:void 0}function c(t,e,i,n,r){for(var a=[],s=[],u=[],c=o(n.length,r.length),f=0;c>f;f++){var l=e(n[f%n.length],r[f%r.length]);if(!l)return;a.push(l[0]),s.push(l[1]),u.push(l[2])}return[a,s,function(e){var n=e.map(function(t,e){return u[e](t)}).join(i);return t?t(n):n}]}function f(t,e,i){for(var n=[],r=[],o=[],a=0,s=0;s<i.length;s++)if("function"==typeof i[s]){var u=i[s](t[a],e[a++]);n.push(u[0]),r.push(u[1]),o.push(u[2])}else!function(t){n.push(!1),r.push(!1),o.push(function(){return i[t]})}(s);return[n,r,function(t){for(var e="",i=0;i<t.length;i++)e+=o[i](t[i]);return e}]}t.consumeToken=e,t.consumeTrimmed=i,t.consumeRepeated=n,t.consumeParenthesised=r,t.ignore=a,t.optional=s,t.consumeList=u,t.mergeNestedRepeated=c.bind(null,null),t.mergeWrappedNestedRepeated=c,t.mergeList=f}(d),function(t){function e(e){function i(e){var i=t.consumeToken(/^inset/i,e);if(i)return n.inset=!0,i;var i=t.consumeLengthOrPercent(e);if(i)return n.lengths.push(i[0]),i;var i=t.consumeColor(e);return i?(n.color=i[0],i):void 0}var n={inset:!1,lengths:[],color:null},r=t.consumeRepeated(i,/^/,e);return r&&r[0].length?[n,r[1]]:void 0}function i(i){var n=t.consumeRepeated(e,/^,/,i);return n&&""==n[1]?n[0]:void 0}function n(e,i){for(;e.lengths.length<Math.max(e.lengths.length,i.lengths.length);)e.lengths.push({px:0});for(;i.lengths.length<Math.max(e.lengths.length,i.lengths.length);)i.lengths.push({px:0});if(e.inset==i.inset&&!!e.color==!!i.color){for(var n,r=[],o=[[],0],a=[[],0],s=0;s<e.lengths.length;s++){var u=t.mergeDimensions(e.lengths[s],i.lengths[s],2==s);o[0].push(u[0]),a[0].push(u[1]),r.push(u[2])}if(e.color&&i.color){var c=t.mergeColors(e.color,i.color);o[1]=c[0],a[1]=c[1],n=c[2]}return[o,a,function(t){for(var i=e.inset?"inset ":" ",o=0;o<r.length;o++)i+=r[o](t[0][o])+" ";return n&&(i+=n(t[1])),i}]}}function r(e,i,n,r){function o(t){return{inset:t,color:[0,0,0,0],lengths:[{px:0},{px:0},{px:0},{px:0}]}}for(var a=[],s=[],u=0;u<n.length||u<r.length;u++){var c=n[u]||o(r[u].inset),f=r[u]||o(n[u].inset);a.push(c),s.push(f)}return t.mergeNestedRepeated(e,i,a,s)}var o=r.bind(null,n,", ");t.addPropertiesHandler(i,o,["box-shadow","text-shadow"])}(d),function(t){function e(t){return t.toFixed(3).replace(".000","")}function i(t,e,i){return Math.min(e,Math.max(t,i))}function n(t){return/^\s*[-+]?(\d*\.)?\d+\s*$/.test(t)?Number(t):void 0}function r(t,i){return[t,i,e]}function o(t,e){return 0!=t?s(0,1/0)(t,e):void 0}function a(t,e){return[t,e,function(t){return Math.round(i(1,1/0,t))}]}function s(t,n){return function(r,o){return[r,o,function(r){return e(i(t,n,r))}]}}function u(t,e){return[t,e,Math.round]}t.clamp=i,t.addPropertiesHandler(n,s(0,1/0),["border-image-width","line-height"]),t.addPropertiesHandler(n,s(0,1),["opacity","shape-image-threshold"]),t.addPropertiesHandler(n,o,["flex-grow","flex-shrink"]),t.addPropertiesHandler(n,a,["orphans","widows"]),t.addPropertiesHandler(n,u,["z-index"]),t.parseNumber=n,t.mergeNumbers=r,t.numberToString=e}(d,f),function(t){function e(t,e){return"visible"==t||"visible"==e?[0,1,function(i){return 0>=i?t:i>=1?e:"visible"}]:void 0}t.addPropertiesHandler(String,e,["visibility"])}(d),function(t){function e(t){t=t.trim(),r.fillStyle="#000",r.fillStyle=t;var e=r.fillStyle;if(r.fillStyle="#fff",r.fillStyle=t,e==r.fillStyle){r.fillRect(0,0,1,1);var i=r.getImageData(0,0,1,1).data;r.clearRect(0,0,1,1);var n=i[3]/255;return[i[0]*n,i[1]*n,i[2]*n,n]}}function i(e,i){return[e,i,function(e){function i(t){return Math.max(0,Math.min(255,t))}if(e[3])for(var n=0;3>n;n++)e[n]=Math.round(i(e[n]/e[3]));return e[3]=t.numberToString(t.clamp(0,1,e[3])),"rgba("+e.join(",")+")"}]}var n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");n.width=n.height=1;var r=n.getContext("2d");t.addPropertiesHandler(e,i,["background-color","border-bottom-color","border-left-color","border-right-color","border-top-color","color","outline-color","text-decoration-color"]),t.consumeColor=t.consumeParenthesised.bind(null,e),t.mergeColors=i}(d,f),function(a,b){function c(a,b){if(b=b.trim().toLowerCase(),"0"==b&&"px".search(a)>=0)return{px:0};if(/^[^(]*$|^calc/.test(b)){b=b.replace(/calc\(/g,"(");var c={};b=b.replace(a,function(t){return c[t]=null,"U"+t});for(var d="U("+a.source+")",e=b.replace(/[-+]?(\d*\.)?\d+/g,"N").replace(new RegExp("N"+d,"g"),"D").replace(/\s[+-]\s/g,"O").replace(/\s/g,""),f=[/N\*(D)/g,/(N|D)[*/]N/g,/(N|D)O\1/g,/\((N|D)\)/g],g=0;g<f.length;)f[g].test(e)?(e=e.replace(f[g],"$1"),g=0):g++;if("D"==e){for(var h in c){var i=eval(b.replace(new RegExp("U"+h,"g"),"").replace(new RegExp(d,"g"),"*0"));if(!isFinite(i))return;c[h]=i}return c}}}function d(t,i){return e(t,i,!0)}function e(t,e,i){var n,r=[];for(n in t)r.push(n);for(n in e)r.indexOf(n)<0&&r.push(n);return t=r.map(function(e){return t[e]||0}),e=r.map(function(t){return e[t]||0}),[t,e,function(t){var e=t.map(function(e,n){return 1==t.length&&i&&(e=Math.max(e,0)),a.numberToString(e)+r[n]}).join(" + ");return t.length>1?"calc("+e+")":e}]}var f="px|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc",g=c.bind(null,new RegExp(f,"g")),h=c.bind(null,new RegExp(f+"|%","g")),i=c.bind(null,/deg|rad|grad|turn/g);a.parseLength=g,a.parseLengthOrPercent=h,a.consumeLengthOrPercent=a.consumeParenthesised.bind(null,h),a.parseAngle=i,a.mergeDimensions=e;var j=a.consumeParenthesised.bind(null,g),k=a.consumeRepeated.bind(void 0,j,/^/),l=a.consumeRepeated.bind(void 0,k,/^,/);a.consumeSizePairList=l;var m=function(t){var e=l(t);return e&&""==e[1]?e[0]:void 0},n=a.mergeNestedRepeated.bind(void 0,d," "),o=a.mergeNestedRepeated.bind(void 0,n,",");a.mergeNonNegativeSizePair=n,a.addPropertiesHandler(m,o,["background-size"]),a.addPropertiesHandler(h,d,["border-bottom-width","border-image-width","border-left-width","border-right-width","border-top-width","flex-basis","font-size","height","line-height","max-height","max-width","outline-width","width"]),a.addPropertiesHandler(h,e,["border-bottom-left-radius","border-bottom-right-radius","border-top-left-radius","border-top-right-radius","bottom","left","letter-spacing","margin-bottom","margin-left","margin-right","margin-top","min-height","min-width","outline-offset","padding-bottom","padding-left","padding-right","padding-top","perspective","right","shape-margin","text-indent","top","vertical-align","word-spacing"])}(d,f),function(t){function e(e){return t.consumeLengthOrPercent(e)||t.consumeToken(/^auto/,e)}function i(i){var n=t.consumeList([t.ignore(t.consumeToken.bind(null,/^rect/)),t.ignore(t.consumeToken.bind(null,/^\(/)),t.consumeRepeated.bind(null,e,/^,/),t.ignore(t.consumeToken.bind(null,/^\)/))],i);return n&&4==n[0].length?n[0]:void 0}function n(e,i){return"auto"==e||"auto"==i?[!0,!1,function(n){var r=n?e:i;if("auto"==r)return"auto";var o=t.mergeDimensions(r,r);return o[2](o[0])}]:t.mergeDimensions(e,i)}function r(t){return"rect("+t+")"}var o=t.mergeWrappedNestedRepeated.bind(null,r,n,", ");t.parseBox=i,t.mergeBoxes=o,t.addPropertiesHandler(i,o,["clip"])}(d,f),function(t){function e(t){return function(e){var i=0;return t.map(function(t){return t===c?e[i++]:t})}}function i(t){return t}function n(e){if(e=e.toLowerCase().trim(),"none"==e)return[];for(var i,n=/\s*(\w+)\(([^)]*)\)/g,r=[],o=0;i=n.exec(e);){if(i.index!=o)return;o=i.index+i[0].length;var a=i[1],s=h[a];if(!s)return;var u=i[2].split(","),c=s[0];if(c.length<u.length)return;for(var m=[],d=0;d<c.length;d++){var p,_=u[d],g=c[d];if(p=_?{A:function(e){return"0"==e.trim()?l:t.parseAngle(e)},N:t.parseNumber,T:t.parseLengthOrPercent,L:t.parseLength}[g.toUpperCase()](_):{a:l,n:m[0],t:f}[g],void 0===p)return;m.push(p)}if(r.push({t:a,d:m}),n.lastIndex==e.length)return r}}function r(t){return t.toFixed(6).replace(".000000","")}function o(e,i){if(e.decompositionPair!==i){e.decompositionPair=i;var n=t.makeMatrixDecomposition(e)}if(i.decompositionPair!==e){i.decompositionPair=e;var o=t.makeMatrixDecomposition(i)}return null==n[0]||null==o[0]?[[!1],[!0],function(t){return t?i[0].d:e[0].d}]:(n[0].push(0),o[0].push(1),[n,o,function(e){var i=t.quat(n[0][3],o[0][3],e[5]),a=t.composeMatrix(e[0],e[1],e[2],i,e[4]),s=a.map(r).join(",");return s}])}function a(t){return t.replace(/[xy]/,"")}function s(t){return t.replace(/(x|y|z|3d)?$/,"3d")}function u(e,i){var n=t.makeMatrixDecomposition&&!0,r=!1;if(!e.length||!i.length){e.length||(r=!0,e=i,i=[]);for(var u=0;u<e.length;u++){var c=e[u].t,f=e[u].d,l="scale"==c.substr(0,5)?1:0;i.push({t:c,d:f.map(function(t){if("number"==typeof t)return l;var e={};for(var i in t)e[i]=l;return e})})}}var m=function(t,e){return"perspective"==t&&"perspective"==e||("matrix"==t||"matrix3d"==t)&&("matrix"==e||"matrix3d"==e)},d=[],p=[],_=[];if(e.length!=i.length){if(!n)return;var g=o(e,i);d=[g[0]],p=[g[1]],_=[["matrix",[g[2]]]]}else for(var u=0;u<e.length;u++){var c,b=e[u].t,v=i[u].t,y=e[u].d,T=i[u].d,w=h[b],x=h[v];if(m(b,v)){if(!n)return;var g=o([e[u]],[i[u]]);d.push(g[0]),p.push(g[1]),_.push(["matrix",[g[2]]])}else{if(b==v)c=b;else if(w[2]&&x[2]&&a(b)==a(v))c=a(b),y=w[2](y),T=x[2](T);else{if(!w[1]||!x[1]||s(b)!=s(v)){if(!n)return;var g=o(e,i);d=[g[0]],p=[g[1]],_=[["matrix",[g[2]]]];break}c=s(b),y=w[1](y),T=x[1](T)}for(var E=[],P=[],A=[],R=0;R<y.length;R++){var j="number"==typeof y[R]?t.mergeNumbers:t.mergeDimensions,g=j(y[R],T[R]);E[R]=g[0],P[R]=g[1],A.push(g[2])}d.push(E),p.push(P),_.push([c,A])}}if(r){var N=d;d=p,p=N}return[d,p,function(t){return t.map(function(t,e){var i=t.map(function(t,i){return _[e][1][i](t)}).join(",");return"matrix"==_[e][0]&&16==i.split(",").length&&(_[e][0]="matrix3d"),_[e][0]+"("+i+")"}).join(" ")}]}var c=null,f={px:0},l={deg:0},h={matrix:["NNNNNN",[c,c,0,0,c,c,0,0,0,0,1,0,c,c,0,1],i],matrix3d:["NNNNNNNNNNNNNNNN",i],rotate:["A"],rotatex:["A"],rotatey:["A"],rotatez:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",e([c,c,1]),i],scalex:["N",e([c,1,1]),e([c,1])],scaley:["N",e([1,c,1]),e([1,c])],scalez:["N",e([1,1,c])],scale3d:["NNN",i],skew:["Aa",null,i],skewx:["A",null,e([c,l])],skewy:["A",null,e([l,c])],translate:["Tt",e([c,c,f]),i],translatex:["T",e([c,f,f]),e([c,f])],translatey:["T",e([f,c,f]),e([f,c])],translatez:["L",e([f,f,c])],translate3d:["TTL",i]};t.addPropertiesHandler(n,u,["transform"])}(d,f),function(t){function e(t,e){e.concat([t]).forEach(function(e){e in document.documentElement.style&&(i[t]=e)})}var i={};e("transform",["webkitTransform","msTransform"]),e("transformOrigin",["webkitTransformOrigin"]),e("perspective",["webkitPerspective"]),e("perspectiveOrigin",["webkitPerspectiveOrigin"]),t.propertyName=function(t){return i[t]||t}}(d,f)}(),!function(t,e){function i(t){var e=window.document.timeline;e.currentTime=t,e._discardAnimations(),0==e._animations.length?r=!1:requestAnimationFrame(i)}var n=window.requestAnimationFrame;window.requestAnimationFrame=function(t){return n(function(e){window.document.timeline._updateAnimationsPromises(),t(e),window.document.timeline._updateAnimationsPromises()})},e.AnimationTimeline=function(){this._animations=[],this.currentTime=void 0},e.AnimationTimeline.prototype={getAnimations:function(){return this._discardAnimations(),this._animations.slice()},_updateAnimationsPromises:function(){e.animationsWithPromises=e.animationsWithPromises.filter(function(t){return t._updatePromises()})},_discardAnimations:function(){this._updateAnimationsPromises(),this._animations=this._animations.filter(function(t){return"finished"!=t.playState&&"idle"!=t.playState})},_play:function(t){var i=new e.Animation(t,this);return this._animations.push(i),e.restartWebAnimationsNextTick(),i._updatePromises(),i._animation.play(),i._updatePromises(),i},play:function(t){return t&&t.remove(),this._play(t)}};var r=!1;e.restartWebAnimationsNextTick=function(){r||(r=!0,requestAnimationFrame(i))};var o=new e.AnimationTimeline;e.timeline=o;try{Object.defineProperty(window.document,"timeline",{configurable:!0,get:function(){return o}})}catch(a){}try{window.document.timeline=o}catch(a){}}(c,e,f),function(t,e){e.animationsWithPromises=[],e.Animation=function(e,i){if(this.effect=e,e&&(e._animation=this),!i)throw new Error("Animation with null timeline is not supported");this._timeline=i,this._sequenceNumber=t.sequenceNumber++,this._holdTime=0,this._paused=!1,this._isGroup=!1,this._animation=null,this._childAnimations=[],this._callback=null,this._oldPlayState="idle",this._rebuildUnderlyingAnimation(),this._animation.cancel(),this._updatePromises()},e.Animation.prototype={_updatePromises:function(){var t=this._oldPlayState,e=this.playState;return this._readyPromise&&e!==t&&("idle"==e?(this._rejectReadyPromise(),this._readyPromise=void 0):"pending"==t?this._resolveReadyPromise():"pending"==e&&(this._readyPromise=void 0)),this._finishedPromise&&e!==t&&("idle"==e?(this._rejectFinishedPromise(),this._finishedPromise=void 0):"finished"==e?this._resolveFinishedPromise():"finished"==t&&(this._finishedPromise=void 0)),this._oldPlayState=this.playState,this._readyPromise||this._finishedPromise},_rebuildUnderlyingAnimation:function(){this._updatePromises();var t,i,n,r,o=this._animation?!0:!1;o&&(t=this.playbackRate,i=this._paused,n=this.startTime,r=this.currentTime,this._animation.cancel(),this._animation._wrapper=null,this._animation=null),(!this.effect||this.effect instanceof window.KeyframeEffect)&&(this._animation=e.newUnderlyingAnimationForKeyframeEffect(this.effect),e.bindAnimationForKeyframeEffect(this)),
(this.effect instanceof window.SequenceEffect||this.effect instanceof window.GroupEffect)&&(this._animation=e.newUnderlyingAnimationForGroup(this.effect),e.bindAnimationForGroup(this)),this.effect&&this.effect._onsample&&e.bindAnimationForCustomEffect(this),o&&(1!=t&&(this.playbackRate=t),null!==n?this.startTime=n:null!==r?this.currentTime=r:null!==this._holdTime&&(this.currentTime=this._holdTime),i&&this.pause()),this._updatePromises()},_updateChildren:function(){if(this.effect&&"idle"!=this.playState){var t=this.effect._timing.delay;this._childAnimations.forEach(function(i){this._arrangeChildren(i,t),this.effect instanceof window.SequenceEffect&&(t+=e.groupChildDuration(i.effect))}.bind(this))}},_setExternalAnimation:function(t){if(this.effect&&this._isGroup)for(var e=0;e<this.effect.children.length;e++)this.effect.children[e]._animation=t,this._childAnimations[e]._setExternalAnimation(t)},_constructChildAnimations:function(){if(this.effect&&this._isGroup){var t=this.effect._timing.delay;this._removeChildAnimations(),this.effect.children.forEach(function(i){var n=window.document.timeline._play(i);this._childAnimations.push(n),n.playbackRate=this.playbackRate,this._paused&&n.pause(),i._animation=this.effect._animation,this._arrangeChildren(n,t),this.effect instanceof window.SequenceEffect&&(t+=e.groupChildDuration(i))}.bind(this))}},_arrangeChildren:function(t,e){null===this.startTime?t.currentTime=this.currentTime-e/this.playbackRate:t.startTime!==this.startTime+e/this.playbackRate&&(t.startTime=this.startTime+e/this.playbackRate)},get timeline(){return this._timeline},get playState(){return this._animation?this._animation.playState:"idle"},get finished(){return window.Promise?(this._finishedPromise||(-1==e.animationsWithPromises.indexOf(this)&&e.animationsWithPromises.push(this),this._finishedPromise=new Promise(function(t,e){this._resolveFinishedPromise=function(){t(this)},this._rejectFinishedPromise=function(){e({type:DOMException.ABORT_ERR,name:"AbortError"})}}.bind(this)),"finished"==this.playState&&this._resolveFinishedPromise()),this._finishedPromise):(void 0,null)},get ready(){return window.Promise?(this._readyPromise||(-1==e.animationsWithPromises.indexOf(this)&&e.animationsWithPromises.push(this),this._readyPromise=new Promise(function(t,e){this._resolveReadyPromise=function(){t(this)},this._rejectReadyPromise=function(){e({type:DOMException.ABORT_ERR,name:"AbortError"})}}.bind(this)),"pending"!==this.playState&&this._resolveReadyPromise()),this._readyPromise):(void 0,null)},get onfinish(){return this._onfinish},set onfinish(t){"function"==typeof t?(this._onfinish=t,this._animation.onfinish=function(e){e.target=this,t.call(this,e)}.bind(this)):(this._animation.onfinish=t,this.onfinish=this._animation.onfinish)},get currentTime(){this._updatePromises();var t=this._animation.currentTime;return this._updatePromises(),t},set currentTime(t){this._updatePromises(),this._animation.currentTime=isFinite(t)?t:Math.sign(t)*Number.MAX_VALUE,this._register(),this._forEachChild(function(e,i){e.currentTime=t-i}),this._updatePromises()},get startTime(){return this._animation.startTime},set startTime(t){this._updatePromises(),this._animation.startTime=isFinite(t)?t:Math.sign(t)*Number.MAX_VALUE,this._register(),this._forEachChild(function(e,i){e.startTime=t+i}),this._updatePromises()},get playbackRate(){return this._animation.playbackRate},set playbackRate(t){this._updatePromises();var e=this.currentTime;this._animation.playbackRate=t,this._forEachChild(function(e){e.playbackRate=t}),"paused"!=this.playState&&"idle"!=this.playState&&this.play(),null!==e&&(this.currentTime=e),this._updatePromises()},play:function(){this._updatePromises(),this._paused=!1,this._animation.play(),-1==this._timeline._animations.indexOf(this)&&this._timeline._animations.push(this),this._register(),e.awaitStartTime(this),this._forEachChild(function(t){var e=t.currentTime;t.play(),t.currentTime=e}),this._updatePromises()},pause:function(){this._updatePromises(),this.currentTime&&(this._holdTime=this.currentTime),this._animation.pause(),this._register(),this._forEachChild(function(t){t.pause()}),this._paused=!0,this._updatePromises()},finish:function(){this._updatePromises(),this._animation.finish(),this._register(),this._updatePromises()},cancel:function(){this._updatePromises(),this._animation.cancel(),this._register(),this._removeChildAnimations(),this._updatePromises()},reverse:function(){this._updatePromises();var t=this.currentTime;this._animation.reverse(),this._forEachChild(function(t){t.reverse()}),null!==t&&(this.currentTime=t),this._updatePromises()},addEventListener:function(t,e){var i=e;"function"==typeof e&&(i=function(t){t.target=this,e.call(this,t)}.bind(this),e._wrapper=i),this._animation.addEventListener(t,i)},removeEventListener:function(t,e){this._animation.removeEventListener(t,e&&e._wrapper||e)},_removeChildAnimations:function(){for(;this._childAnimations.length;)this._childAnimations.pop().cancel()},_forEachChild:function(e){var i=0;if(this.effect.children&&this._childAnimations.length<this.effect.children.length&&this._constructChildAnimations(),this._childAnimations.forEach(function(t){e.call(this,t,i),this.effect instanceof window.SequenceEffect&&(i+=t.effect.activeDuration)}.bind(this)),"pending"!=this.playState){var n=this.effect._timing,r=this.currentTime;null!==r&&(r=t.calculateTimeFraction(t.calculateActiveDuration(n),r,n)),(null==r||isNaN(r))&&this._removeChildAnimations()}}},window.Animation=e.Animation}(c,e,f),function(t,e){function i(e){this._frames=t.normalizeKeyframes(e)}function n(){for(var t=!1;s.length;){var e=s.shift();e._updateChildren(),t=!0}return t}var r=function(t){if(t._animation=void 0,t instanceof window.SequenceEffect||t instanceof window.GroupEffect)for(var e=0;e<t.children.length;e++)r(t.children[e])};e.removeMulti=function(t){for(var e=[],i=0;i<t.length;i++){var n=t[i];n._parent?(-1==e.indexOf(n._parent)&&e.push(n._parent),n._parent.children.splice(n._parent.children.indexOf(n),1),n._parent=null,r(n)):n._animation&&n._animation.effect==n&&(n._animation.cancel(),n._animation.effect=new KeyframeEffect(null,[]),n._animation._callback&&(n._animation._callback._animation=null),n._animation._rebuildUnderlyingAnimation(),r(n))}for(i=0;i<e.length;i++)e[i]._rebuild()},e.KeyframeEffect=function(e,n,r){return this.target=e,this._parent=null,r=t.numericTimingToObject(r),this._timingInput=t.cloneTimingInput(r),this._timing=t.normalizeTimingInput(r),this.timing=t.makeTiming(r,!1,this),this.timing._effect=this,"function"==typeof n?(t.deprecated("Custom KeyframeEffect","2015-06-22","Use KeyframeEffect.onsample instead."),this._normalizedKeyframes=n):this._normalizedKeyframes=new i(n),this._keyframes=n,this.activeDuration=t.calculateActiveDuration(this._timing),this},e.KeyframeEffect.prototype={getFrames:function(){return"function"==typeof this._normalizedKeyframes?this._normalizedKeyframes:this._normalizedKeyframes._frames},set onsample(t){if("function"==typeof this.getFrames())throw new Error("Setting onsample on custom effect KeyframeEffect is not supported.");this._onsample=t,this._animation&&this._animation._rebuildUnderlyingAnimation()},get parent(){return this._parent},clone:function(){if("function"==typeof this.getFrames())throw new Error("Cloning custom effects is not supported.");var e=new KeyframeEffect(this.target,[],t.cloneTimingInput(this._timingInput));return e._normalizedKeyframes=this._normalizedKeyframes,e._keyframes=this._keyframes,e},remove:function(){e.removeMulti([this])}};var o=Element.prototype.animate;Element.prototype.animate=function(t,i){return e.timeline._play(new e.KeyframeEffect(this,t,i))};var a=document.createElementNS("http://www.w3.org/1999/xhtml","div");e.newUnderlyingAnimationForKeyframeEffect=function(t){if(t){var e=t.target||a,i=t._keyframes;"function"==typeof i&&(i=[]);var n=t._timingInput}else var e=a,i=[],n=0;return o.apply(e,[i,n])},e.bindAnimationForKeyframeEffect=function(t){t.effect&&"function"==typeof t.effect._normalizedKeyframes&&e.bindAnimationForCustomEffect(t)};var s=[];e.awaitStartTime=function(t){null===t.startTime&&t._isGroup&&(0==s.length&&requestAnimationFrame(n),s.push(t))};var u=window.getComputedStyle;Object.defineProperty(window,"getComputedStyle",{configurable:!0,enumerable:!0,value:function(){window.document.timeline._updateAnimationsPromises();var t=u.apply(this,arguments);return n()&&(t=u.apply(this,arguments)),window.document.timeline._updateAnimationsPromises(),t}}),window.KeyframeEffect=e.KeyframeEffect,window.Element.prototype.getAnimations=function(){return document.timeline.getAnimations().filter(function(t){return null!==t.effect&&t.effect.target==this}.bind(this))}}(c,e,f),function(t,e){function i(t){t._registered||(t._registered=!0,o.push(t),a||(a=!0,requestAnimationFrame(n)))}function n(){var t=o;o=[],t.sort(function(t,e){return t._sequenceNumber-e._sequenceNumber}),t=t.filter(function(t){t();var e=t._animation?t._animation.playState:"idle";return"running"!=e&&"pending"!=e&&(t._registered=!1),t._registered}),o.push.apply(o,t),o.length?(a=!0,requestAnimationFrame(n)):a=!1}var r=(document.createElementNS("http://www.w3.org/1999/xhtml","div"),0);e.bindAnimationForCustomEffect=function(e){var n,o=e.effect.target,a="function"==typeof e.effect.getFrames();n=a?e.effect.getFrames():e.effect._onsample;var s=e.effect.timing,u=null;s=t.normalizeTimingInput(s);var c=function(){var i=c._animation?c._animation.currentTime:null;null!==i&&(i=t.calculateTimeFraction(t.calculateActiveDuration(s),i,s),isNaN(i)&&(i=null)),i!==u&&(a?n(i,o,e.effect):n(i,e.effect,e.effect._animation)),u=i};c._animation=e,c._registered=!1,c._sequenceNumber=r++,e._callback=c,i(c)};var o=[],a=!1;e.Animation.prototype._register=function(){this._callback&&i(this._callback)}}(c,e,f),function(t,e){function i(t){return t._timing.delay+t.activeDuration+t._timing.endDelay}function n(e,i){this._parent=null,this.children=e||[],this._reparent(this.children),i=t.numericTimingToObject(i),this._timingInput=t.cloneTimingInput(i),this._timing=t.normalizeTimingInput(i,!0),this.timing=t.makeTiming(i,!0,this),this.timing._effect=this,"auto"===this._timing.duration&&(this._timing.duration=this.activeDuration)}window.SequenceEffect=function(){n.apply(this,arguments)},window.GroupEffect=function(){n.apply(this,arguments)},n.prototype={_isAncestor:function(t){for(var e=this;null!==e;){if(e==t)return!0;e=e._parent}return!1},_rebuild:function(){for(var t=this;t;)"auto"===t.timing.duration&&(t._timing.duration=t.activeDuration),t=t._parent;this._animation&&this._animation._rebuildUnderlyingAnimation()},_reparent:function(t){e.removeMulti(t);for(var i=0;i<t.length;i++)t[i]._parent=this},_putChild:function(t,e){for(var i=e?"Cannot append an ancestor or self":"Cannot prepend an ancestor or self",n=0;n<t.length;n++)if(this._isAncestor(t[n]))throw{type:DOMException.HIERARCHY_REQUEST_ERR,name:"HierarchyRequestError",message:i};for(var n=0;n<t.length;n++)e?this.children.push(t[n]):this.children.unshift(t[n]);this._reparent(t),this._rebuild()},append:function(){this._putChild(arguments,!0)},prepend:function(){this._putChild(arguments,!1)},get parent(){return this._parent},get firstChild(){return this.children.length?this.children[0]:null},get lastChild(){return this.children.length?this.children[this.children.length-1]:null},clone:function(){for(var e=t.cloneTimingInput(this._timingInput),i=[],n=0;n<this.children.length;n++)i.push(this.children[n].clone());return this instanceof GroupEffect?new GroupEffect(i,e):new SequenceEffect(i,e)},remove:function(){e.removeMulti([this])}},window.SequenceEffect.prototype=Object.create(n.prototype),Object.defineProperty(window.SequenceEffect.prototype,"activeDuration",{get:function(){var t=0;return this.children.forEach(function(e){t+=i(e)}),Math.max(t,0)}}),window.GroupEffect.prototype=Object.create(n.prototype),Object.defineProperty(window.GroupEffect.prototype,"activeDuration",{get:function(){var t=0;return this.children.forEach(function(e){t=Math.max(t,i(e))}),t}}),e.newUnderlyingAnimationForGroup=function(i){var n,r=null,o=function(e){var i=n._wrapper;return i&&"pending"!=i.playState&&i.effect?null==e?void i._removeChildAnimations():0==e&&i.playbackRate<0&&(r||(r=t.normalizeTimingInput(i.effect.timing)),e=t.calculateTimeFraction(t.calculateActiveDuration(r),-1,r),isNaN(e)||null==e)?(i._forEachChild(function(t){t.currentTime=-1}),void i._removeChildAnimations()):void 0:void 0},a=new KeyframeEffect(null,[],i._timing);return a.onsample=o,n=e.timeline._play(a)},e.bindAnimationForGroup=function(t){t._animation._wrapper=t,t._isGroup=!0,e.awaitStartTime(t),t._constructChildAnimations(),t._setExternalAnimation(t)},e.groupChildDuration=i}(c,e,f)}({},function(){return this}());
;Polymer({is:"opaque-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(e){var i=e.node;return i.style.opacity="0",this._effect=new KeyframeEffect(i,[{opacity:"1"},{opacity:"1"}],this.timingFromConfig(e)),this._effect},complete:function(e){e.node.style.opacity=""}});
;Polymer.NeonAnimatableBehavior={properties:{animationConfig:{type:Object},entryAnimation:{observer:"_entryAnimationChanged",type:String},exitAnimation:{observer:"_exitAnimationChanged",type:String}},_entryAnimationChanged:function(){this.animationConfig=this.animationConfig||{},"fade-in-animation"!==this.entryAnimation?this.animationConfig.entry=[{name:"opaque-animation",node:this},{name:this.entryAnimation,node:this}]:this.animationConfig.entry=[{name:this.entryAnimation,node:this}]},_exitAnimationChanged:function(){this.animationConfig=this.animationConfig||{},this.animationConfig.exit=[{name:this.exitAnimation,node:this}]},_copyProperties:function(i,n){for(var t in n)i[t]=n[t]},_cloneConfig:function(i){var n={isClone:!0};return this._copyProperties(n,i),n},_getAnimationConfigRecursive:function(i,n,t){if(this.animationConfig){var o;if(o=i?this.animationConfig[i]:this.animationConfig,Array.isArray(o)||(o=[o]),o)for(var e,a=0;e=o[a];a++)if(e.animatable)e.animatable._getAnimationConfigRecursive(e.type||i,n,t);else if(e.id){var r=n[e.id];r?(r.isClone||(n[e.id]=this._cloneConfig(r),r=n[e.id]),this._copyProperties(r,e)):n[e.id]=e}else t.push(e)}},getAnimationConfig:function(i){var n=[],t=[];this._getAnimationConfigRecursive(i,n,t);for(var o in n)t.push(n[o]);return t}};
;Polymer.NeonAnimationRunnerBehaviorImpl={properties:{_animationMeta:{type:Object,value:function(){return new Polymer.IronMeta({type:"animation"})}},_player:{type:Object}},_configureAnimationEffects:function(n){var i=[];if(n.length>0)for(var e,t=0;e=n[t];t++){var o=this._animationMeta.byKey(e.name);if(o){var a=o&&new o,r=a.configure(e);r&&i.push({animation:a,config:e,effect:r})}else void 0}return i},_runAnimationEffects:function(n){return document.timeline.play(new GroupEffect(n))},_completeAnimations:function(n){for(var i,e=0;i=n[e];e++)i.animation.complete(i.config)},playAnimation:function(n,i){var e=this.getAnimationConfig(n);if(e){var t=this._configureAnimationEffects(e),o=t.map(function(n){return n.effect});o.length>0?(this._player=this._runAnimationEffects(o),this._player.onfinish=function(){this._completeAnimations(t),this._player&&(this._player.cancel(),this._player=null),this.fire("neon-animation-finish",i,{bubbles:!1})}.bind(this)):this.fire("neon-animation-finish",i,{bubbles:!1})}},cancelAnimation:function(){this._player&&this._player.cancel()}},Polymer.NeonAnimationRunnerBehavior=[Polymer.NeonAnimatableBehavior,Polymer.NeonAnimationRunnerBehaviorImpl];
;Polymer.IronFitBehavior={properties:{sizingTarget:{type:Object,value:function(){return this}},fitInto:{type:Object,value:window},autoFitOnAttach:{type:Boolean,value:!1},_fitInfo:{type:Object}},get _fitWidth(){var t;return t=this.fitInto===window?this.fitInto.innerWidth:this.fitInto.getBoundingClientRect().width},get _fitHeight(){var t;return t=this.fitInto===window?this.fitInto.innerHeight:this.fitInto.getBoundingClientRect().height},get _fitLeft(){var t;return t=this.fitInto===window?0:this.fitInto.getBoundingClientRect().left},get _fitTop(){var t;return t=this.fitInto===window?0:this.fitInto.getBoundingClientRect().top},attached:function(){this.autoFitOnAttach&&("none"===window.getComputedStyle(this).display?setTimeout(function(){this.fit()}.bind(this)):this.fit())},fit:function(){this._discoverInfo(),this.constrain(),this.center()},_discoverInfo:function(){if(!this._fitInfo){var t=window.getComputedStyle(this),i=window.getComputedStyle(this.sizingTarget);this._fitInfo={inlineStyle:{top:this.style.top||"",left:this.style.left||""},positionedBy:{vertically:"auto"!==t.top?"top":"auto"!==t.bottom?"bottom":null,horizontally:"auto"!==t.left?"left":"auto"!==t.right?"right":null,css:t.position},sizedBy:{height:"none"!==i.maxHeight,width:"none"!==i.maxWidth},margin:{top:parseInt(t.marginTop,10)||0,right:parseInt(t.marginRight,10)||0,bottom:parseInt(t.marginBottom,10)||0,left:parseInt(t.marginLeft,10)||0}}}},resetFit:function(){this._fitInfo&&this._fitInfo.sizedBy.height||(this.sizingTarget.style.maxHeight="",this.style.top=this._fitInfo?this._fitInfo.inlineStyle.top:""),this._fitInfo&&this._fitInfo.sizedBy.width||(this.sizingTarget.style.maxWidth="",this.style.left=this._fitInfo?this._fitInfo.inlineStyle.left:""),this._fitInfo&&(this.style.position=this._fitInfo.positionedBy.css),this._fitInfo=null},refit:function(){this.resetFit(),this.fit()},constrain:function(){var t=this._fitInfo;this._fitInfo.positionedBy.vertically||(this.style.top="0px"),this._fitInfo.positionedBy.horizontally||(this.style.left="0px"),this.sizingTarget.style.boxSizing="border-box";var i=this.getBoundingClientRect();t.sizedBy.height||this._sizeDimension(i,t.positionedBy.vertically,"top","bottom","Height"),t.sizedBy.width||this._sizeDimension(i,t.positionedBy.horizontally,"left","right","Width")},_sizeDimension:function(t,i,n,e,o){var s=this._fitInfo,h="Width"===o?this._fitWidth:this._fitHeight,f=i===e,l=f?h-t[e]:t[n],r=s.margin[f?n:e],a="offset"+o,g=this[a]-this.sizingTarget[a];this.sizingTarget.style["max"+o]=h-r-l-g+"px"},center:function(){if(this._fitInfo.positionedBy.vertically&&this._fitInfo.positionedBy.horizontally||(this.style.position="fixed"),!this._fitInfo.positionedBy.vertically){var t=(this._fitHeight-this.offsetHeight)/2+this._fitTop;t-=this._fitInfo.margin.top,this.style.top=t+"px"}if(!this._fitInfo.positionedBy.horizontally){var i=(this._fitWidth-this.offsetWidth)/2+this._fitLeft;i-=this._fitInfo.margin.left,this.style.left=i+"px"}}};
;Polymer.IronOverlayManager=function(){function n(n){var r=u();f.push(n);var t=u();r>=t&&e(n,r)}function r(n){var r=f.indexOf(n);r>=0&&(f.splice(r,1),t(n,""))}function e(n,r){t(n,r+2)}function t(n,r){n.style.zIndex=r}function a(){return f[f.length-1]}function u(){var n,r=a();if(r){var e=window.getComputedStyle(r).zIndex;isNaN(e)||(n=Number(e))}return n||v}function i(){var n=a();n&&!n.transitioning&&n._applyFocus()}function o(n){if(n.opened)l.push(n);else{var r=l.indexOf(n);r>=0&&l.splice(r,1)}}function c(){return l}var f=[],v=10,l=[];return{addOverlay:n,removeOverlay:r,currentOverlay:a,currentOverlayZ:u,focusOverlay:i,trackBackdrop:o,getBackdrops:c}}();
;Polymer.IronOverlayBehaviorImpl={properties:{opened:{observer:"_openedChanged",type:Boolean,value:!1,notify:!0},canceled:{observer:"_canceledChanged",readOnly:!0,type:Boolean,value:!1},withBackdrop:{type:Boolean,value:!1},noAutoFocus:{type:Boolean,value:!1},noCancelOnEscKey:{type:Boolean,value:!1},noCancelOnOutsideClick:{type:Boolean,value:!1},closingReason:{type:Object},_manager:{type:Object,value:Polymer.IronOverlayManager},_boundOnCaptureClick:{type:Function,value:function(){return this._onCaptureClick.bind(this)}},_boundOnCaptureKeydown:{type:Function,value:function(){return this._onCaptureKeydown.bind(this)}}},listeners:{click:"_onClick","iron-resize":"_onIronResize"},get backdropElement(){return this._backdrop},get _focusNode(){return Polymer.dom(this).querySelector("[autofocus]")||this},registered:function(){this._backdrop=document.createElement("iron-overlay-backdrop")},ready:function(){this._ensureSetup(),this._callOpenedWhenReady&&this._openedChanged()},detached:function(){this.opened=!1,this._completeBackdrop(),this._manager.removeOverlay(this)},toggle:function(){this.opened=!this.opened},open:function(){this.opened=!0,this.closingReason={canceled:!1}},close:function(){this.opened=!1,this._setCanceled(!1)},cancel:function(){this.opened=!1,this._setCanceled(!0)},_ensureSetup:function(){this._overlaySetup||(this._overlaySetup=!0,this.style.outline="none",this.style.display="none")},_openedChanged:function(){return this.opened?this.removeAttribute("aria-hidden"):this.setAttribute("aria-hidden","true"),this._overlaySetup?(this._openChangedAsync&&this.cancelAsync(this._openChangedAsync),this._toggleListeners(),this.opened&&this._prepareRenderOpened(),void(this._openChangedAsync=this.async(function(){this.style.display="",this.offsetWidth,this.opened?this._renderOpened():this._renderClosed(),this._openChangedAsync=null}))):void(this._callOpenedWhenReady=this.opened)},_canceledChanged:function(){this.closingReason=this.closingReason||{},this.closingReason.canceled=this.canceled},_toggleListener:function(e,n,t,i,s){e?n.addEventListener(t,i,s):n.removeEventListener(t,i,s)},_toggleListeners:function(){this._toggleListenersAsync&&this.cancelAsync(this._toggleListenersAsync),this._toggleListenersAsync=this.async(function(){this._toggleListener(this.opened,document,"click",this._boundOnCaptureClick,!0),this._toggleListener(this.opened,document,"keydown",this._boundOnCaptureKeydown,!0),this._toggleListenersAsync=null})},_prepareRenderOpened:function(){this._manager.addOverlay(this),this.withBackdrop&&(this.backdropElement.prepare(),this._manager.trackBackdrop(this)),this._preparePositioning(),this.fit(),this._finishPositioning()},_renderOpened:function(){this.withBackdrop&&this.backdropElement.open(),this._finishRenderOpened()},_renderClosed:function(){this.withBackdrop&&this.backdropElement.close(),this._finishRenderClosed()},_onTransitionend:function(e){e&&e.target!==this||(this.opened?this._finishRenderOpened():this._finishRenderClosed())},_finishRenderOpened:function(){this.noAutoFocus||this._focusNode.focus(),this.fire("iron-overlay-opened"),this._squelchNextResize=!0,this.async(this.notifyResize)},_finishRenderClosed:function(){this.resetFit(),this.style.display="none",this._completeBackdrop(),this._manager.removeOverlay(this),this._focusNode.blur(),this._manager.focusOverlay(),this.fire("iron-overlay-closed",this.closingReason),this._squelchNextResize=!0,this.async(this.notifyResize)},_completeBackdrop:function(){this.withBackdrop&&(this._manager.trackBackdrop(this),this.backdropElement.complete())},_preparePositioning:function(){this.style.transition=this.style.webkitTransition="none",this.style.transform=this.style.webkitTransform="none",this.style.display=""},_finishPositioning:function(){this.style.display="none",this.style.transform=this.style.webkitTransform="",this.offsetWidth,this.style.transition=this.style.webkitTransition=""},_applyFocus:function(){this.opened?this.noAutoFocus||this._focusNode.focus():(this._focusNode.blur(),this._manager.focusOverlay())},_onCaptureClick:function(e){this.noCancelOnOutsideClick||this._manager.currentOverlay()!=this||(this._cancelJob=this.async(function(){this.cancel()},10))},_onClick:function(e){this._cancelJob&&(this.cancelAsync(this._cancelJob),this._cancelJob=null)},_onCaptureKeydown:function(e){var n=27;this.noCancelOnEscKey||e.keyCode!==n||(this.cancel(),e.stopPropagation())},_onIronResize:function(){return this._squelchNextResize?void(this._squelchNextResize=!1):void(this.opened&&this.refit())}},Polymer.IronOverlayBehavior=[Polymer.IronFitBehavior,Polymer.IronResizableBehavior,Polymer.IronOverlayBehaviorImpl];
;Polymer.PaperDialogBehaviorImpl={hostAttributes:{role:"dialog",tabindex:"-1"},properties:{modal:{observer:"_modalChanged",type:Boolean,value:!1},_lastFocusedElement:{type:Object},_boundOnFocus:{type:Function,value:function(){return this._onFocus.bind(this)}},_boundOnBackdropClick:{type:Function,value:function(){return this._onBackdropClick.bind(this)}}},listeners:{click:"_onDialogClick","iron-overlay-opened":"_onIronOverlayOpened","iron-overlay-closed":"_onIronOverlayClosed"},attached:function(){this._observer=this._observe(this),this._updateAriaLabelledBy()},detached:function(){this._observer&&this._observer.disconnect()},_observe:function(e){var t=new MutationObserver(function(){this._updateAriaLabelledBy()}.bind(this));return t.observe(e,{childList:!0,subtree:!0}),t},_modalChanged:function(){this.modal?this.setAttribute("aria-modal","true"):this.setAttribute("aria-modal","false"),this.modal&&(this.noCancelOnOutsideClick=!0,this.withBackdrop=!0)},_updateAriaLabelledBy:function(){var e=Polymer.dom(this).querySelector("h2");if(!e)return void this.removeAttribute("aria-labelledby");var t=e.getAttribute("id");if(!t||this.getAttribute("aria-labelledby")!==t){var o;t?o=t:(o="paper-dialog-header-"+(new Date).getUTCMilliseconds(),e.setAttribute("id",o)),this.setAttribute("aria-labelledby",o)}},_updateClosingReasonConfirmed:function(e){this.closingReason=this.closingReason||{},this.closingReason.confirmed=e},_onDialogClick:function(e){for(var t=e.target;t&&t!==this;){if(t.hasAttribute){if(t.hasAttribute("dialog-dismiss")){this._updateClosingReasonConfirmed(!1),this.close();break}if(t.hasAttribute("dialog-confirm")){this._updateClosingReasonConfirmed(!0),this.close();break}}t=t.parentNode}},_onIronOverlayOpened:function(){this.modal&&(document.body.addEventListener("focus",this._boundOnFocus,!0),this.backdropElement.addEventListener("click",this._boundOnBackdropClick))},_onIronOverlayClosed:function(){document.body.removeEventListener("focus",this._boundOnFocus,!0),this.backdropElement.removeEventListener("click",this._boundOnBackdropClick)},_onFocus:function(e){if(this.modal){for(var t=e.target;t&&t!==this&&t!==document.body;)t=t.parentNode;t&&(t===document.body?this._lastFocusedElement?this._lastFocusedElement.focus():this._focusNode.focus():this._lastFocusedElement=e.target)}},_onBackdropClick:function(){this.modal&&(this._lastFocusedElement?this._lastFocusedElement.focus():this._focusNode.focus())}},Polymer.PaperDialogBehavior=[Polymer.IronOverlayBehavior,Polymer.PaperDialogBehaviorImpl];
;Polymer.IronValidatableBehavior={properties:{validatorType:{type:String,value:"validator"},validator:{type:String},invalid:{notify:!0,reflectToAttribute:!0,type:Boolean,value:!1},_validatorMeta:{type:Object}},observers:["_invalidChanged(invalid)"],get _validator(){return this._validatorMeta&&this._validatorMeta.byKey(this.validator)},ready:function(){this._validatorMeta=new Polymer.IronMeta({type:this.validatorType})},_invalidChanged:function(){this.invalid?this.setAttribute("aria-invalid","true"):this.removeAttribute("aria-invalid")},hasValidator:function(){return null!=this._validator},validate:function(t){return this.invalid=!this._getValidity(t),!this.invalid},_getValidity:function(t){return this.hasValidator()?this._validator.validate(t):!0}};
;Polymer({is:"iron-input","extends":"input",behaviors:[Polymer.IronValidatableBehavior],properties:{bindValue:{observer:"_bindValueChanged",type:String},preventInvalidInput:{type:Boolean},allowedPattern:{type:String},_previousValidInput:{type:String,value:""},_patternAlreadyChecked:{type:Boolean,value:!1}},listeners:{input:"_onInput",keypress:"_onKeypress"},get _patternRegExp(){var e;if(this.allowedPattern)e=new RegExp(this.allowedPattern);else if(this.pattern)e=new RegExp(this.pattern);else switch(this.type){case"number":e=/[0-9.,e-]/}return e},ready:function(){this.bindValue=this.value},_bindValueChanged:function(){this.value!==this.bindValue&&(this.value=this.bindValue||0===this.bindValue?this.bindValue:""),this.fire("bind-value-changed",{value:this.bindValue})},_onInput:function(){if(this.preventInvalidInput&&!this._patternAlreadyChecked){var e=this._checkPatternValidity();e||(this.value=this._previousValidInput)}this.bindValue=this.value,this._previousValidInput=this.value,this._patternAlreadyChecked=!1},_isPrintable:function(e){var t=8==e.keyCode||9==e.keyCode||13==e.keyCode||27==e.keyCode,i=19==e.keyCode||20==e.keyCode||45==e.keyCode||46==e.keyCode||144==e.keyCode||145==e.keyCode||e.keyCode>32&&e.keyCode<41||e.keyCode>111&&e.keyCode<124;return!(t||0==e.charCode&&i)},_onKeypress:function(e){if(this.preventInvalidInput||"number"===this.type){var t=this._patternRegExp;if(t&&!(e.metaKey||e.ctrlKey||e.altKey)){this._patternAlreadyChecked=!0;var i=String.fromCharCode(e.charCode);this._isPrintable(e)&&!t.test(i)&&e.preventDefault()}}},_checkPatternValidity:function(){var e=this._patternRegExp;if(!e)return!0;for(var t=0;t<this.value.length;t++)if(!e.test(this.value[t]))return!1;return!0},validate:function(){if(!this.required&&""==this.value)return this.invalid=!1,!0;var e;return this.hasValidator()?e=Polymer.IronValidatableBehavior.validate.call(this,this.value):(this.invalid=!this.validity.valid,e=this.validity.valid),this.fire("iron-input-validate"),e}});
;Polymer.IronFormElementBehavior={properties:{name:{type:String},value:{notify:!0,type:String},required:{type:Boolean,value:!1},_parentForm:{type:Object}},attached:function(){this.fire("iron-form-element-register")},detached:function(){this._parentForm&&this._parentForm.fire("iron-form-element-unregister",{target:this})}};
;Polymer.PaperInputBehaviorImpl={properties:{label:{type:String},value:{notify:!0,type:String},disabled:{type:Boolean,value:!1},invalid:{type:Boolean,value:!1},preventInvalidInput:{type:Boolean},allowedPattern:{type:String},type:{type:String},list:{type:String},pattern:{type:String},required:{type:Boolean,value:!1},errorMessage:{type:String},charCounter:{type:Boolean,value:!1},noLabelFloat:{type:Boolean,value:!1},alwaysFloatLabel:{type:Boolean,value:!1},autoValidate:{type:Boolean,value:!1},validator:{type:String},autocomplete:{type:String,value:"off"},autofocus:{type:Boolean},inputmode:{type:String},minlength:{type:Number},maxlength:{type:Number},min:{type:String},max:{type:String},step:{type:String},name:{type:String},placeholder:{type:String,value:""},readonly:{type:Boolean,value:!1},size:{type:Number},autocapitalize:{type:String,value:"none"},autocorrect:{type:String,value:"off"},_ariaDescribedBy:{type:String,value:""}},listeners:{"addon-attached":"_onAddonAttached"},observers:["_focusedControlStateChanged(focused)"],get inputElement(){return this.$.input},attached:function(){this._updateAriaLabelledBy()},_appendStringWithSpace:function(e,t){return e=e?e+" "+t:t},_onAddonAttached:function(e){var t=e.path?e.path[0]:e.target;if(t.id)this._ariaDescribedBy=this._appendStringWithSpace(this._ariaDescribedBy,t.id);else{var a="paper-input-add-on-"+Math.floor(1e5*Math.random());t.id=a,this._ariaDescribedBy=this._appendStringWithSpace(this._ariaDescribedBy,a)}},validate:function(){return this.inputElement.validate()},_handleAutoValidate:function(){this.autoValidate&&this.validate()},updateValueAndPreserveCaret:function(e){try{var t=this.inputElement.selectionStart;this.value=e,this.inputElement.selectionStart=t,this.inputElement.selectionEnd=t}catch(a){this.value=e}},_computeAlwaysFloatLabel:function(e,t){return t||e},_focusedControlStateChanged:function(e){(this.$.container||(this.$.container=Polymer.dom(this.root).querySelector("paper-input-container"),this.$.container))&&(e?this.$.container._onFocus():this.$.container._onBlur())},_updateAriaLabelledBy:function(){var e=Polymer.dom(this.root).querySelector("label");if(!e)return void(this._ariaLabelledBy="");var t;e.id?t=e.id:(t="paper-input-label-"+(new Date).getUTCMilliseconds(),e.id=t),this._ariaLabelledBy=t}},Polymer.PaperInputBehavior=[Polymer.IronControlState,Polymer.PaperInputBehaviorImpl];
;Polymer.PaperInputAddonBehavior={hostAttributes:{"add-on":""},attached:function(){this.fire("addon-attached")},update:function(t){}};
;Polymer.IronRangeBehavior={properties:{value:{type:Number,value:0,notify:!0,reflectToAttribute:!0},min:{type:Number,value:0,notify:!0},max:{type:Number,value:100,notify:!0},step:{type:Number,value:1,notify:!0},ratio:{type:Number,value:0,readOnly:!0,notify:!0}},observers:["_update(value, min, max, step)"],_calcRatio:function(t){return(this._clampValue(t)-this.min)/(this.max-this.min)},_clampValue:function(t){return Math.min(this.max,Math.max(this.min,this._calcStep(t)))},_calcStep:function(t){return this.step?Math.round(t/this.step)/(1/this.step):t},_validateValue:function(){var t=this._clampValue(this.value);return this.value=this.oldValue=isNaN(t)?this.oldValue:t,this.value!==t},_update:function(){this._validateValue(),this._setRatio(100*this._calcRatio(this.value))}};
;!function(){"use strict";Polymer.IronDropdownScrollManager={get currentLockingElement(){return this._lockingElements[this._lockingElements.length-1]},elementIsScrollLocked:function(e){var o,n=this.currentLockingElement;return this._hasCachedLockedElement(e)?!0:this._hasCachedUnlockedElement(e)?!1:(o=!!n&&n!==e&&!this._composedTreeContains(n,e),o?this._lockedElementCache.push(e):this._unlockedElementCache.push(e),o)},pushScrollLock:function(e){0===this._lockingElements.length&&this._lockScrollInteractions(),this._lockingElements.push(e),this._lockedElementCache=[],this._unlockedElementCache=[]},removeScrollLock:function(e){var o=this._lockingElements.indexOf(e);-1!==o&&(this._lockingElements.splice(o,1),this._lockedElementCache=[],this._unlockedElementCache=[],0===this._lockingElements.length&&this._unlockScrollInteractions())},_lockingElements:[],_lockedElementCache:null,_unlockedElementCache:null,_originalBodyStyles:{},_isScrollingKeypress:function(e){return Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(e,"pageup pagedown home end up left down right")},_hasCachedLockedElement:function(e){return this._lockedElementCache.indexOf(e)>-1},_hasCachedUnlockedElement:function(e){return this._unlockedElementCache.indexOf(e)>-1},_composedTreeContains:function(e,o){var n,t,l,r;if(e.contains(o))return!0;for(n=Polymer.dom(e).querySelectorAll("content"),l=0;l<n.length;++l)for(t=Polymer.dom(n[l]).getDistributedNodes(),r=0;r<t.length;++r)if(this._composedTreeContains(t[r],o))return!0;return!1},_scrollInteractionHandler:function(e){if(Polymer.IronDropdownScrollManager.elementIsScrollLocked(e.target)){if("keydown"===e.type&&!Polymer.IronDropdownScrollManager._isScrollingKeypress(e))return;e.preventDefault()}},_lockScrollInteractions:function(){this._originalBodyStyles.overflow=document.body.style.overflow,this._originalBodyStyles.overflowX=document.body.style.overflowX,this._originalBodyStyles.overflowY=document.body.style.overflowY,document.body.style.overflow="hidden",document.body.style.overflowX="hidden",document.body.style.overflowY="hidden",window.addEventListener("wheel",this._scrollInteractionHandler,!0),window.addEventListener("mousewheel",this._scrollInteractionHandler,!0),window.addEventListener("DOMMouseScroll",this._scrollInteractionHandler,!0),window.addEventListener("touchmove",this._scrollInteractionHandler,!0),document.addEventListener("keydown",this._scrollInteractionHandler,!0)},_unlockScrollInteractions:function(){document.body.style.overflow=this._originalBodyStyles.overflow,document.body.style.overflowX=this._originalBodyStyles.overflowX,document.body.style.overflowY=this._originalBodyStyles.overflowY,window.removeEventListener("wheel",this._scrollInteractionHandler,!0),window.removeEventListener("mousewheel",this._scrollInteractionHandler,!0),window.removeEventListener("DOMMouseScroll",this._scrollInteractionHandler,!0),window.removeEventListener("touchmove",this._scrollInteractionHandler,!0),document.removeEventListener("keydown",this._scrollInteractionHandler,!0)}}}();
;Polymer({is:"fade-in-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(i){var e=i.node;return this._effect=new KeyframeEffect(e,[{opacity:"0"},{opacity:"1"}],this.timingFromConfig(i)),this._effect}});
;Polymer({is:"fade-out-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(e){var i=e.node;return this._effect=new KeyframeEffect(i,[{opacity:"1"},{opacity:"0"}],this.timingFromConfig(e)),this._effect}});
;Polymer({is:"paper-menu-grow-height-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(e){var i=e.node,t=i.getBoundingClientRect(),n=t.height;return this._effect=new KeyframeEffect(i,[{height:n/2+"px"},{height:n+"px"}],this.timingFromConfig(e)),this._effect}}),Polymer({is:"paper-menu-grow-width-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(e){var i=e.node,t=i.getBoundingClientRect(),n=t.width;return this._effect=new KeyframeEffect(i,[{width:n/2+"px"},{width:n+"px"}],this.timingFromConfig(e)),this._effect}}),Polymer({is:"paper-menu-shrink-width-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(e){var i=e.node,t=i.getBoundingClientRect(),n=t.width;return this._effect=new KeyframeEffect(i,[{width:n+"px"},{width:n-n/20+"px"}],this.timingFromConfig(e)),this._effect}}),Polymer({is:"paper-menu-shrink-height-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(e){var i=e.node,t=i.getBoundingClientRect(),n=t.height;t.top;return this.setPrefixedProperty(i,"transformOrigin","0 0"),this._effect=new KeyframeEffect(i,[{height:n+"px",transform:"translateY(0)"},{height:n/2+"px",transform:"translateY(-20px)"}],this.timingFromConfig(e)),this._effect}});
;Polymer({is:"cascaded-animation",behaviors:[Polymer.NeonAnimationBehavior],properties:{_animationMeta:{type:Object,value:function(){return new Polymer.IronMeta({type:"animation"})}}},configure:function(i){var n=this._animationMeta.byKey(i.animation);if(!n)return void void 0;this._animations=[];var t=i.nodes,e=[],o=i.nodeDelay||50;i.timing=i.timing||{},i.timing.delay=i.timing.delay||0;for(var a,r=i.timing.delay,m=0;a=t[m];m++){i.timing.delay+=o,i.node=a;var s=new n,c=s.configure(i);this._animations.push(s),e.push(c)}return i.timing.delay=r,this._effect=new GroupEffect(e),this._effect},complete:function(){for(var i,n=0;i=this._animations[n];n++)i.complete(i.config)}});
;Polymer.NeonSharedElementAnimationBehaviorImpl={properties:{sharedElements:{type:Object}},findSharedElements:function(e){var n=e.fromPage,r=e.toPage;if(!n||!r)return void 0,null;if(!n.sharedElements||!r.sharedElements)return void 0,null;var t=n.sharedElements[e.id],i=r.sharedElements[e.id];return t&&i?(this.sharedElements={from:t,to:i},this.sharedElements):(void 0,null)}},Polymer.NeonSharedElementAnimationBehavior=[Polymer.NeonAnimationBehavior,Polymer.NeonSharedElementAnimationBehaviorImpl];
;Polymer({is:"hero-animation",behaviors:[Polymer.NeonSharedElementAnimationBehavior],configure:function(e){var t=this.findSharedElements(e);if(t){var i=t.from.getBoundingClientRect(),n=t.to.getBoundingClientRect(),o=i.left-n.left,r=i.top-n.top,f=i.width/n.width,s=i.height/n.height;return this.setPrefixedProperty(t.to,"transformOrigin","0 0"),t.to.style.zIndex=1e4,t.from.style.visibility="hidden",this._effect=new KeyframeEffect(t.to,[{transform:"translate("+o+"px,"+r+"px) scale("+f+","+s+")"},{transform:"none"}],this.timingFromConfig(e)),this._effect}},complete:function(e){var t=this.findSharedElements(e);return t?(t.to.style.zIndex="",void(t.from.style.visibility="")):null}});
;Polymer({is:"ripple-animation",behaviors:[Polymer.NeonSharedElementAnimationBehavior],configure:function(t){var e=this.findSharedElements(t);if(!e)return null;var i,r,s=e.to.getBoundingClientRect();if(t.gesture)i=t.gesture.x-(s.left+s.width/2),r=t.gesture.y-(s.top+s.height/2);else{var h=e.from.getBoundingClientRect();i=h.left+h.width/2-(s.left+s.width/2),r=h.top+h.height/2-(s.top+s.height/2)}var n="translate("+i+"px,"+r+"px)",o=Math.max(s.width+2*Math.abs(i),s.height+2*Math.abs(r)),a=Math.sqrt(2*o*o),f=a/s.width,l=a/s.height,d="scale("+f+","+l+")";return this.setPrefixedProperty(e.to,"transformOrigin","50% 50%"),e.to.style.borderRadius="50%",this._effect=new KeyframeEffect(e.to,[{transform:n+" scale(0)"},{transform:n+" "+d}],this.timingFromConfig(t)),this._effect},complete:function(){this.sharedElements&&(this.setPrefixedProperty(this.sharedElements.to,"transformOrigin",""),this.sharedElements.to.style.borderRadius="")}});
;Polymer({is:"reverse-ripple-animation",behaviors:[Polymer.NeonSharedElementAnimationBehavior],configure:function(e){var t=this.findSharedElements(e);if(!t)return null;var r,i,s=t.from.getBoundingClientRect();if(e.gesture)r=e.gesture.x-(s.left+s.width/2),i=e.gesture.y-(s.top+s.height/2);else{var h=t.to.getBoundingClientRect();r=h.left+h.width/2-(s.left+s.width/2),i=h.top+h.height/2-(s.top+s.height/2)}var n="translate("+r+"px,"+i+"px)",o=Math.max(s.width+2*Math.abs(r),s.height+2*Math.abs(i)),a=Math.sqrt(2*o*o),f=a/s.width,m=a/s.height,l="scale("+f+","+m+")";return this.setPrefixedProperty(t.from,"transformOrigin","50% 50%"),t.from.style.borderRadius="50%",this._effect=new KeyframeEffect(t.from,[{transform:n+" "+l},{transform:n+" scale(0)"}],this.timingFromConfig(e)),this._effect},complete:function(){this.sharedElements&&(this.setPrefixedProperty(this.sharedElements.from,"transformOrigin",""),this.sharedElements.from.style.borderRadius="")}});
;Polymer({is:"scale-down-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(r){var e=r.node;r.transformOrigin&&this.setPrefixedProperty(e,"transformOrigin",r.transformOrigin);var i="scale(0, 0)";return"x"===r.axis?i="scale(0, 1)":"y"===r.axis&&(i="scale(1, 0)"),this._effect=new KeyframeEffect(e,[{transform:"scale(1,1)"},{transform:i}],this.timingFromConfig(r)),this._effect}});
;Polymer({is:"scale-up-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(r){var e=r.node;r.transformOrigin&&this.setPrefixedProperty(e,"transformOrigin",r.transformOrigin);var i="scale(0)";return"x"===r.axis?i="scale(0, 1)":"y"===r.axis&&(i="scale(1, 0)"),this._effect=new KeyframeEffect(e,[{transform:i},{transform:"scale(1, 1)"}],this.timingFromConfig(r)),this._effect}});
;Polymer({is:"slide-from-left-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(r){var e=r.node;return r.transformOrigin?this.setPrefixedProperty(e,"transformOrigin",r.transformOrigin):this.setPrefixedProperty(e,"transformOrigin","0 50%"),this._effect=new KeyframeEffect(e,[{transform:"translateX(-100%)"},{transform:"none"}],this.timingFromConfig(r)),this._effect}});
;Polymer({is:"slide-from-right-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(r){var i=r.node;return r.transformOrigin?this.setPrefixedProperty(i,"transformOrigin",r.transformOrigin):this.setPrefixedProperty(i,"transformOrigin","0 50%"),this._effect=new KeyframeEffect(i,[{transform:"translateX(100%)"},{transform:"none"}],this.timingFromConfig(r)),this._effect}});
;Polymer({is:"slide-left-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(r){var e=r.node;return r.transformOrigin?this.setPrefixedProperty(e,"transformOrigin",r.transformOrigin):this.setPrefixedProperty(e,"transformOrigin","0 50%"),this._effect=new KeyframeEffect(e,[{transform:"none"},{transform:"translateX(-100%)"}],this.timingFromConfig(r)),this._effect}});
;Polymer({is:"slide-right-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(r){var i=r.node;return r.transformOrigin?this.setPrefixedProperty(i,"transformOrigin",r.transformOrigin):this.setPrefixedProperty(i,"transformOrigin","0 50%"),this._effect=new KeyframeEffect(i,[{transform:"none"},{transform:"translateX(100%)"}],this.timingFromConfig(r)),this._effect}});
;Polymer({is:"slide-up-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(r){var i=r.node;return r.transformOrigin?this.setPrefixedProperty(i,"transformOrigin",r.transformOrigin):this.setPrefixedProperty(i,"transformOrigin","50% 0"),this._effect=new KeyframeEffect(i,[{transform:"translate(0)"},{transform:"translateY(-100%)"}],this.timingFromConfig(r)),this._effect}});
;Polymer({is:"slide-down-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(r){var i=r.node;return r.transformOrigin?this.setPrefixedProperty(i,"transformOrigin",r.transformOrigin):this.setPrefixedProperty(i,"transformOrigin","50% 0"),this._effect=new KeyframeEffect(i,[{transform:"translateY(-100%)"},{transform:"none"}],this.timingFromConfig(r)),this._effect}});
;Polymer({is:"transform-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(r){var n=r.node,o=r.transformFrom||"none",i=r.transformTo||"none";return r.transformOrigin&&this.setPrefixedProperty(n,"transformOrigin",r.transformOrigin),this._effect=new KeyframeEffect(n,[{transform:o},{transform:i}],this.timingFromConfig(r)),this._effect}});
;Polymer({is:"firebase-auth",properties:{location:{type:String,reflectToAttribute:!0,observer:"_locationChanged"},provider:{type:String,reflectToAttribute:!0,value:"anonymous"},user:{type:Object,readOnly:!0,notify:!0},autoLogin:{type:Boolean,value:!1,reflectToAttribute:!0},statusKnown:{type:Boolean,value:!1,notify:!0,readOnly:!0,reflectToAttribute:!0},redirect:{type:Boolean,value:!1,reflectToAttribute:!0},params:{type:Object},options:{type:Object},ref:{type:Object,readOnly:!0,notify:!0},_boundAuthHandler:{value:function(){return this._authHandler.bind(this)}},_boundOnlineHandler:{value:function(){return this._onlineHandler.bind(this)}},_queuedLogin:{type:Object}},attached:function(){window.addEventListener("online",this._boundOnlineHandler)},detached:function(){window.removeEventListener("online",this._boundOnlineHandler),this.ref.offAuth(this._boundAuthHandler)},_locationChanged:function(e){this.debounce("locationChanged",function(){this.ref&&this.ref.offAuth(this._boundAuthHandler),e?(this._setRef(new Firebase(e)),this.ref.onAuth(this._boundAuthHandler)):this._setRef(null)},1)},_loginHandler:function(e,t){e?this.fire("error",e):this._authHandler(t)},_authHandler:function(e){e?(this._setUser(e),this._setStatusKnown(!0),this.fire("login",{user:e})):(this._setUser(null),this.statusKnown&&(this._setStatusKnown(!1),this.fire("logout")),this._queuedLogin?(this.login(this._queuedLogin.params,this._queuedLogin.options),this._queuedLogin=null):!this.statusKnown&&this.autoLogin&&this.login(),this._setStatusKnown(!0))},login:function(e,t){if(this.ref&&navigator.onLine!==!1)switch(e=e||this.params||void 0,t=t||this.options||void 0,this.provider){case"password":this.ref.authWithPassword(e,this._loginHandler.bind(this),t);break;case"anonymous":this.ref.authAnonymously(this._loginHandler.bind(this),e);break;case"custom":this.ref.authWithCustomToken(e.token,this._loginHandler.bind(this));break;case"facebook":case"google":case"github":case"twitter":this.redirect?this.ref.authWithOAuthRedirect(this.provider,this._loginHandler.bind(this),e):this.ref.authWithOAuthPopup(this.provider,this._loginHandler.bind(this),e);break;default:throw"Unknown provider: "+this.provider}else this._queuedLogin={params:e,options:t}},logout:function(){navigator.onLine===!1?this.queuedLogout=!0:this.ref.unauth()},_onlineHandler:function(){this.queuedLogout?(this.queuedLogout=!1,this.logout()):this.queuedLogin&&(this.login(this.queuedLogin.params,this.queuedLogin.options),this.queuedLogin=null)},createUser:function(e,t){this.ref.createUser({email:e,password:t},function(e){e?this.fire("error",e):this.fire("user-created")}.bind(this))},changePassword:function(e,t,i){this.ref.changePassword({email:e,oldPassword:t,newPassword:i},function(e){e?this.fire("error",e):this.fire("password-changed")}.bind(this))},sendPasswordResetEmail:function(e){this.ref.resetPassword({email:e},function(e){e?this.fire("error",e):this.fire("password-reset")}.bind(this))},changeEmail:function(e,t,i){this.ref.changeEmail({oldEmail:e,newEmail:t,password:i},function(e){e?this.fire("error",e):this.fire("email-changed")}.bind(this))},removeUser:function(e,t){this.ref.removeUser({email:e,password:t},function(e,t){e?this.fire("error",e):this.fire("user-removed")}.bind(this))}});
;Polymer({is:"platinum-sw-cache",properties:{cacheConfigFile:String,cacheId:String,defaultCacheStrategy:{type:String,value:"networkFirst"},disabled:{type:Boolean,value:!1},precache:{type:Array,value:function(){return[]}}},_getParameters:function(e){return new Promise(function(t){var c={importscriptLate:new URL("bootstrap/sw-toolbox-setup.js",e).href,defaultCacheStrategy:this.defaultCacheStrategy,precache:this.precache};this.cacheConfigFile?(c.cacheConfigFile=this.cacheConfigFile,window.fetch(this.cacheConfigFile).then(function(e){if(!e.ok)throw Error("unable to load "+this.cacheConfigFile);return e.json()}.bind(this)).then(function(e){this.disabled=e.disabled,this.disabled?c={}:(e.precacheFingerprint?c.precacheFingerprint=e.precacheFingerprint:c.precache=c.precache.concat(e.precache),c.cacheId=e.cacheId||c.cacheId,c.defaultCacheStrategy=e.defaultCacheStrategy||c.defaultCacheStrategy)}.bind(this))["catch"](function(e){void 0}).then(function(){t(c)})):t(c)}.bind(this))}});
;Polymer({is:"platinum-sw-register",_version:"1.0",properties:{autoRegister:{type:Boolean,value:!1},baseUri:{type:String,value:document.currentScript?document.currentScript.baseURI:"./"},clientsClaim:{type:Boolean,value:!1},href:{type:String,value:"sw-import.js"},reloadOnInstall:{type:Boolean,value:!1},scope:{type:String,value:"./"},skipWaiting:{type:Boolean,value:!1},state:{notify:!0,readOnly:!0,type:String}},register:function(){"serviceWorker"in navigator?this._constructServiceWorkerUrl().then(function(e){this._registerServiceWorker(e)}.bind(this)):(this._setState("unsupported"),this.fire("service-worker-error","Service workers are not available in the current browser."))},_constructServiceWorkerUrl:function(){for(var e=[],t=Polymer.dom(this).children,r=0;r<t.length;r++)"function"==typeof t[r]._getParameters&&e.push(t[r]._getParameters(this.baseUri));return Promise.all(e).then(function(e){var t={baseURI:this.baseUri,version:this._version};return e.forEach(function(e){Object.keys(e).forEach(function(r){Array.isArray(t[r])?t[r]=t[r].concat(e[r]):t[r]=[].concat(e[r])})}),t}.bind(this)).then(function(e){e.importscriptLate&&(e.importscript?e.importscript=e.importscript.concat(e.importscriptLate):e.importscript=e.importscriptLate),e.importscript&&(e.importscript=this._unique(e.importscript)),delete e.importscriptLate,e.clientsClaim=this.clientsClaim,e.skipWaiting=this.skipWaiting;var t=new URL(this.href,window.location);return t.search=this._serializeUrlParams(e),t}.bind(this))},_unique:function(e){return e.filter(function(t,r){return e.indexOf(t)===r})},_serializeUrlParams:function(e){return Object.keys(e).sort().map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")},_registerServiceWorker:function(e){navigator.serviceWorker.register(e,{scope:this.scope}).then(function(e){e.active&&this._setState("installed"),e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){switch(t.state){case"installed":navigator.serviceWorker.controller?(this._setState("updated"),this.fire("service-worker-updated","A new service worker was installed, replacing the old service worker.")):this.reloadOnInstall?window.location.reload():(this._setState("installed"),this.fire("service-worker-installed","A new service worker was installed."));break;case"redundant":this._setState("error"),this.fire("service-worker-error","The installing service worker became redundant.")}}.bind(this)}.bind(this)}.bind(this))["catch"](function(t){if(this._setState("error"),this.fire("service-worker-error",t.toString()),"NetworkError"===t.name){var r=e.origin+e.pathname;void 0}}.bind(this))},attached:function(){this.autoRegister&&this.async(this.register)}});
;TinavgBehavior={properties:{gameLang:{type:String,notify:!0}}};
;function MakePromise(t){function e(t){if("object"!=typeof this||"function"!=typeof t)throw new TypeError;this._state=null,this._value=null,this._deferreds=[],u(t,i.bind(this),r.bind(this))}function n(e){var n=this;return null===this._state?void this._deferreds.push(e):void t(function(){var t=n._state?e.onFulfilled:e.onRejected;if("function"!=typeof t)return void(n._state?e.resolve:e.reject)(n._value);var i;try{i=t(n._value)}catch(r){return void e.reject(r)}e.resolve(i)})}function i(t){try{if(t===this)throw new TypeError;if(t&&("object"==typeof t||"function"==typeof t)){var e=t.then;if("function"==typeof e)return void u(e.bind(t),i.bind(this),r.bind(this))}this._state=!0,this._value=t,o.call(this)}catch(n){r.call(this,n)}}function r(t){this._state=!1,this._value=t,o.call(this)}function o(){for(var t=0,e=this._deferreds.length;e>t;t++)n.call(this,this._deferreds[t]);this._deferreds=null}function u(t,e,n){var i=!1;try{t(function(t){i||(i=!0,e(t))},function(t){i||(i=!0,n(t))})}catch(r){if(i)return;i=!0,n(r)}}return e.prototype["catch"]=function(t){return this.then(null,t)},e.prototype.then=function(t,i){var r=this;return new e(function(e,o){n.call(r,{onFulfilled:t,onRejected:i,resolve:e,reject:o})})},e.resolve=function(t){return t&&"object"==typeof t&&t.constructor===e?t:new e(function(e){e(t)})},e.reject=function(t){return new e(function(e,n){n(t)})},e}"undefined"!=typeof module&&(module.exports=MakePromise);
;window.Promise||(window.Promise=MakePromise(Polymer.Base.async));
;"use strict";Polymer({is:"iron-request",properties:{xhr:{type:Object,notify:!0,readOnly:!0,value:function(){return new XMLHttpRequest}},response:{type:Object,notify:!0,readOnly:!0,value:function(){return null}},status:{type:Number,notify:!0,readOnly:!0,value:0},statusText:{type:String,notify:!0,readOnly:!0,value:""},completes:{type:Object,readOnly:!0,notify:!0,value:function(){return new Promise(function(e,t){this.resolveCompletes=e,this.rejectCompletes=t}.bind(this))}},progress:{type:Object,notify:!0,readOnly:!0,value:function(){return{}}},aborted:{type:Boolean,notify:!0,readOnly:!0,value:!1}},get succeeded(){var e=this.xhr.status||0;return 0===e||e>=200&&300>e},send:function(e){var t=this.xhr;if(t.readyState>0)return null;t.addEventListener("readystatechange",function(){if(4===t.readyState&&!this.aborted){if(this._updateStatus(),!this.succeeded)return void this.rejectCompletes(new Error("The request failed with status code: "+this.xhr.status));this._setResponse(this.parseResponse()),this.resolveCompletes(this)}}.bind(this)),t.addEventListener("progress",function(e){this._setProgress({lengthComputable:e.lengthComputable,loaded:e.loaded,total:e.total})}.bind(this)),t.addEventListener("error",function(e){this._updateStatus(),this.rejectCompletes(e)}.bind(this)),t.addEventListener("abort",function(){this._updateStatus(),this.rejectCompletes(new Error("Request aborted."))}.bind(this)),t.open(e.method||"GET",e.url,e.async!==!1),e.headers&&Object.keys(e.headers).forEach(function(s){t.setRequestHeader(s,e.headers[s])},this);var s;e.headers&&(s=e.headers["Content-Type"]);var r=this._encodeBodyObject(e.body,s);return t.responseType=t._responseType=e.handleAs||"text",t.withCredentials=!!e.withCredentials,t.send(r),this.completes},parseResponse:function(){var e=this.xhr,t=this.xhr.responseType||this.xhr._responseType,s=!this.xhr.responseType;try{switch(t){case"json":if(s||void 0===e.response){try{e.responseText}catch(r){return e.response}if(e.responseText)return JSON.parse(e.responseText)}return e.response;case"xml":return e.responseXML;case"blob":case"document":case"arraybuffer":return e.response;case"text":default:return e.responseText}}catch(r){this.rejectCompletes(new Error("Could not parse response. "+r.message))}},abort:function(){this._setAborted(!0),this.xhr.abort()},_encodeBodyObject:function(e,t){if("string"==typeof e)return e;var s=e;switch(t){case"application/json":return JSON.stringify(s);case"application/x-www-form-urlencoded":return this._wwwFormUrlEncode(s)}return e},_wwwFormUrlEncode:function(e){if(!e)return"";var t=[];return Object.keys(e).forEach(function(s){t.push(this._wwwFormUrlEncodePiece(s)+"="+this._wwwFormUrlEncodePiece(e[s]))},this),t.join("&")},_wwwFormUrlEncodePiece:function(e){return encodeURIComponent(e.toString().replace(/\r?\n/g,"\r\n")).replace(/%20/g,"+")},_updateStatus:function(){this._setStatus(this.xhr.status),this._setStatusText(void 0===this.xhr.statusText?"":this.xhr.statusText)}});
;"use strict";Polymer({is:"iron-ajax",properties:{url:{type:String,value:""},params:{type:Object,value:function(){return{}}},method:{type:String,value:"GET"},headers:{type:Object,value:function(){return{}}},contentType:{type:String,value:null},body:{type:Object,value:null},sync:{type:Boolean,value:!1},handleAs:{type:String,value:"json"},withCredentials:{type:Boolean,value:!1},auto:{type:Boolean,value:!1},verbose:{type:Boolean,value:!1},loading:{type:Boolean,notify:!0,readOnly:!0},lastRequest:{type:Object,notify:!0,readOnly:!0},lastResponse:{type:Object,notify:!0,readOnly:!0},lastError:{type:Object,notify:!0,readOnly:!0},activeRequests:{type:Array,notify:!0,readOnly:!0,value:function(){return[]}},debounceDuration:{type:Number,value:0,notify:!0},_boundHandleResponse:{type:Function,value:function(){return this._handleResponse.bind(this)}}},observers:["_requestOptionsChanged(url, method, params, headers,contentType, body, sync, handleAs, withCredentials, auto)"],get queryString(){var e,t,n=[];for(e in this.params)t=this.params[e],e=window.encodeURIComponent(e),null!==t&&(e+="="+window.encodeURIComponent(t)),n.push(e);return n.join("&")},get requestUrl(){var e=this.queryString;return e?this.url+"?"+e:this.url},get requestHeaders(){var e={},t=this.contentType;null==t&&"string"==typeof this.body&&(t="application/x-www-form-urlencoded"),t&&(e["Content-Type"]=t);var n;if(this.headers instanceof Object)for(n in this.headers)e[n]=this.headers[n].toString();return e},toRequestOptions:function(){return{url:this.requestUrl,method:this.method,headers:this.requestHeaders,body:this.body,async:!this.sync,handleAs:this.handleAs,withCredentials:this.withCredentials}},generateRequest:function(){var e=document.createElement("iron-request"),t=this.toRequestOptions();return this.activeRequests.push(e),e.completes.then(this._boundHandleResponse)["catch"](this._handleError.bind(this,e)).then(this._discardRequest.bind(this,e)),e.send(t),this._setLastRequest(e),this._setLoading(!0),this.fire("request",{request:e,options:t}),e},_handleResponse:function(e){this._setLastResponse(e.response),this.fire("response",e)},_handleError:function(e,t){this.verbose&&void 0,this._setLastError({request:e,error:t}),this.fire("error",{request:e,error:t})},_discardRequest:function(e){var t=this.activeRequests.indexOf(e);t>-1&&this.activeRequests.splice(t,1),0===this.activeRequests.length&&this._setLoading(!1)},_requestOptionsChanged:function(){this.debounce("generate-request",function(){(this.url||""===this.url)&&this.auto&&this.generateRequest()},this.debounceDuration)}});
;!function(){"use strict";function n(n){for(var t=n.length,e={0:0},r=0;t>r;r++)n[r]&&(e[n[r].charCodeAt(0)]=r);return e}function t(n){for(var t,e,r=n.length,o={},i=0;r>i;i++)t=n[i][0].charCodeAt(0),e=n[i][1].charCodeAt(0),"undefined"==typeof o[t]&&(o[t]={}),o[t][e]=n[i][2].charCodeAt(0);return o}function e(n){return a[n]}function r(n){return"undefined"!=typeof s[n]}function o(n){return"undefined"!=typeof h[n]}function i(n){return"undefined"!=typeof p[n]}function f(n){return n>=44032&&55203>=n}function u(n,t){return g[n]&&g[n][t]?g[n][t]:!1}function c(n,t){return C[n]&&C[n][t]?C[n][t]:!1}function d(n){this.string=n,this.disassembled=H(n).join("")}var a,s,h,p,C,g,y=["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],A=["ㅏ","ㅐ","ㅑ","ㅒ","ㅓ","ㅔ","ㅕ","ㅖ","ㅗ",["ㅗ","ㅏ"],["ㅗ","ㅐ"],["ㅗ","ㅣ"],"ㅛ","ㅜ",["ㅜ","ㅓ"],["ㅜ","ㅔ"],["ㅜ","ㅣ"],"ㅠ","ㅡ",["ㅡ","ㅣ"],"ㅣ"],l=["","ㄱ","ㄲ",["ㄱ","ㅅ"],"ㄴ",["ㄴ","ㅈ"],["ㄴ","ㅎ"],"ㄷ","ㄹ",["ㄹ","ㄱ"],["ㄹ","ㅁ"],["ㄹ","ㅂ"],["ㄹ","ㅅ"],["ㄹ","ㅌ"],["ㄹ","ㅍ"],["ㄹ","ㅎ"],"ㅁ","ㅂ",["ㅂ","ㅅ"],"ㅅ","ㅆ","ㅇ","ㅈ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],v=44032,m=["ㄱ","ㄲ","ㄳ","ㄴ","ㄵ","ㄶ","ㄷ","ㄸ","ㄹ","ㄺ","ㄻ","ㄼ","ㄽ","ㄾ","ㄿ","ㅀ","ㅁ","ㅂ","ㅃ","ㅄ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],j=["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],b=["ㅏ","ㅐ","ㅑ","ㅒ","ㅓ","ㅔ","ㅕ","ㅖ","ㅗ","ㅘ","ㅙ","ㅚ","ㅛ","ㅜ","ㅝ","ㅞ","ㅟ","ㅠ","ㅡ","ㅢ","ㅣ"],S=["","ㄱ","ㄲ","ㄳ","ㄴ","ㄵ","ㄶ","ㄷ","ㄹ","ㄺ","ㄻ","ㄼ","ㄽ","ㄾ","ㄿ","ㅀ","ㅁ","ㅂ","ㅄ","ㅅ","ㅆ","ㅇ","ㅈ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],w=[["ㄱ","ㅅ","ㄳ"],["ㄴ","ㅈ","ㄵ"],["ㄴ","ㅎ","ㄶ"],["ㄹ","ㄱ","ㄺ"],["ㄹ","ㅁ","ㄻ"],["ㄹ","ㅂ","ㄼ"],["ㄹ","ㅅ","ㄽ"],["ㄹ","ㅌ","ㄾ"],["ㄹ","ㅍ","ㄿ"],["ㄹ","ㅎ","ㅀ"],["ㅂ","ㅅ","ㅄ"]],x=[["ㅗ","ㅏ","ㅘ"],["ㅗ","ㅐ","ㅙ"],["ㅗ","ㅣ","ㅚ"],["ㅜ","ㅓ","ㅝ"],["ㅜ","ㅔ","ㅞ"],["ㅜ","ㅣ","ㅟ"],["ㅡ","ㅣ","ㅢ"]];a=n(m),s=n(j),h=n(b),p=n(S),C=t(w),g=t(x);var H=function(n){"object"==typeof n&&(n=n.join(""));for(var t,i,u,c,d,a=[],C=n.length,g=0;C>g;g++)c=n.charCodeAt(g),f(c)?(c-=v,u=c%28,i=(c-u)/28%21,t=parseInt((c-u)/28/21),a.push(y[t]),"object"==typeof A[i]?a=a.concat(A[i]):a.push(A[i]),u>0&&("object"==typeof l[u]?a=a.concat(l[u]):a.push(l[u]))):e(c)?(d=r(c)?y[s[c]]:l[p[c]],"string"==typeof d?a.push(d):a=a.concat(d)):o(c)?(d=A[h[c]],"string"==typeof d?a.push(d):a=a.concat(d)):a.push(n.charAt(g));return a},O=function(n){function t(t){var e,i,f,a,C=0,y="";if(!(g+1>t))for(var A=1;;A++){if(1===A){if(e=n[g+A].charCodeAt(0),o(e))return t>=g+A+1&&o(i=n[g+A+1].charCodeAt(0))?(d.push(String.fromCharCode(u(e,i))),void(g=t)):(d.push(n[g+A]),void(g=t));if(!r(e))return d.push(n[g+A]),void(g=t);y=n[g+A]}else if(2===A){if(i=n[g+A].charCodeAt(0),r(i))return e=c(e,i),y=String.fromCharCode(e),d.push(y),void(g=t);y=String.fromCharCode(28*(21*s[e]+h[i])+v)}else 3===A?(f=n[g+A].charCodeAt(0),u(i,f)?i=u(i,f):C=f,y=String.fromCharCode(28*(21*s[e]+h[i])+p[C]+v)):4===A?(a=n[g+A].charCodeAt(0),C=c(C,a)?c(C,a):a,y=String.fromCharCode(28*(21*s[e]+h[i])+p[C]+v)):5===A&&(a=n[g+A].charCodeAt(0),C=c(C,a),y=String.fromCharCode(28*(21*s[e]+h[i])+p[C]+v));if(g+A>=t)return d.push(y),void(g=t)}}"string"==typeof n&&(n=H(n));for(var e,f,d=[],a=n.length,C=0,g=-1,y=0;a>y;y++)e=n[y].charCodeAt(0),r(e)||o(e)||i(e)?(0===C?r(e)?C=1:o(e)&&(C=4):1==C?o(e)?C=2:c(f,e)?C=5:t(y-1):2==C?i(e)?C=3:o(e)?u(f,e)||(t(y-1),C=4):(t(y-1),C=1):3==C?i(e)?c(f,e)||(t(y-1),C=1):r(e)?(t(y-1),C=1):o(e)&&(t(y-2),C=2):4==C?o(e)?u(f,e)?(t(y),C=0):t(y-1):(t(y-1),C=1):5==C&&(o(e)?(t(y-2),C=2):(t(y-1),C=1)),f=e):(t(y-1),t(y),C=0);return t(y-1),d.join("")},I=function(n,t){var e=H(n).join(""),r=H(t).join("");return e.indexOf(r)};d.prototype.search=function(n){return H(n).join("").indexOf(this.disassembled)};var J=function(n){"object"==typeof n&&(n=n.join(""));var t=n.charCodeAt(n.length-1);if(f(t)){t-=v;var r=t%28;if(r>0)return!0}else if("undefined"!=typeof e(t))return!0;return!1},V={disassemble:H,assemble:O,search:I,Searcher:d,endsWithConsonant:J,isHangul:function(n){return"string"==typeof n&&(n=n.charCodeAt(0)),f(n)},isConsonant:function(n){return"string"==typeof n&&(n=n.charCodeAt(0)),"undefined"!=typeof e(n)},isVowel:function(n){return"string"==typeof n&&(n=n.charCodeAt(0)),o(n)},isCho:function(n){return"string"==typeof n&&(n=n.charCodeAt(0)),r(n)},isJong:function(n){return"string"==typeof n&&(n=n.charCodeAt(0)),i(n)}};"function"==typeof define&&define.amd?define(function(){return V}):"undefined"!=typeof module?module.exports=V:window.Hangul=V}();
;!function(){"use strict";function n(n){for(var t=n.length,e={0:0},r=0;t>r;r++)n[r]&&(e[n[r].charCodeAt(0)]=r);return e}function t(n){for(var t,e,r=n.length,o={},i=0;r>i;i++)t=n[i][0].charCodeAt(0),e=n[i][1].charCodeAt(0),"undefined"==typeof o[t]&&(o[t]={}),o[t][e]=n[i][2].charCodeAt(0);return o}function e(n){return a[n]}function r(n){return"undefined"!=typeof s[n]}function o(n){return"undefined"!=typeof h[n]}function i(n){return"undefined"!=typeof p[n]}function f(n){return n>=44032&&55203>=n}function u(n,t){return g[n]&&g[n][t]?g[n][t]:!1}function c(n,t){return C[n]&&C[n][t]?C[n][t]:!1}function d(n){this.string=n,this.disassembled=H(n).join("")}var a,s,h,p,C,g,y=["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],A=["ㅏ","ㅐ","ㅑ","ㅒ","ㅓ","ㅔ","ㅕ","ㅖ","ㅗ",["ㅗ","ㅏ"],["ㅗ","ㅐ"],["ㅗ","ㅣ"],"ㅛ","ㅜ",["ㅜ","ㅓ"],["ㅜ","ㅔ"],["ㅜ","ㅣ"],"ㅠ","ㅡ",["ㅡ","ㅣ"],"ㅣ"],l=["","ㄱ","ㄲ",["ㄱ","ㅅ"],"ㄴ",["ㄴ","ㅈ"],["ㄴ","ㅎ"],"ㄷ","ㄹ",["ㄹ","ㄱ"],["ㄹ","ㅁ"],["ㄹ","ㅂ"],["ㄹ","ㅅ"],["ㄹ","ㅌ"],["ㄹ","ㅍ"],["ㄹ","ㅎ"],"ㅁ","ㅂ",["ㅂ","ㅅ"],"ㅅ","ㅆ","ㅇ","ㅈ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],v=44032,m=["ㄱ","ㄲ","ㄳ","ㄴ","ㄵ","ㄶ","ㄷ","ㄸ","ㄹ","ㄺ","ㄻ","ㄼ","ㄽ","ㄾ","ㄿ","ㅀ","ㅁ","ㅂ","ㅃ","ㅄ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],j=["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],b=["ㅏ","ㅐ","ㅑ","ㅒ","ㅓ","ㅔ","ㅕ","ㅖ","ㅗ","ㅘ","ㅙ","ㅚ","ㅛ","ㅜ","ㅝ","ㅞ","ㅟ","ㅠ","ㅡ","ㅢ","ㅣ"],S=["","ㄱ","ㄲ","ㄳ","ㄴ","ㄵ","ㄶ","ㄷ","ㄹ","ㄺ","ㄻ","ㄼ","ㄽ","ㄾ","ㄿ","ㅀ","ㅁ","ㅂ","ㅄ","ㅅ","ㅆ","ㅇ","ㅈ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],w=[["ㄱ","ㅅ","ㄳ"],["ㄴ","ㅈ","ㄵ"],["ㄴ","ㅎ","ㄶ"],["ㄹ","ㄱ","ㄺ"],["ㄹ","ㅁ","ㄻ"],["ㄹ","ㅂ","ㄼ"],["ㄹ","ㅅ","ㄽ"],["ㄹ","ㅌ","ㄾ"],["ㄹ","ㅍ","ㄿ"],["ㄹ","ㅎ","ㅀ"],["ㅂ","ㅅ","ㅄ"]],x=[["ㅗ","ㅏ","ㅘ"],["ㅗ","ㅐ","ㅙ"],["ㅗ","ㅣ","ㅚ"],["ㅜ","ㅓ","ㅝ"],["ㅜ","ㅔ","ㅞ"],["ㅜ","ㅣ","ㅟ"],["ㅡ","ㅣ","ㅢ"]];a=n(m),s=n(j),h=n(b),p=n(S),C=t(w),g=t(x);var H=function(n){"object"==typeof n&&(n=n.join(""));for(var t,i,u,c,d,a=[],C=n.length,g=0;C>g;g++)c=n.charCodeAt(g),f(c)?(c-=v,u=c%28,i=(c-u)/28%21,t=parseInt((c-u)/28/21),a.push(y[t]),"object"==typeof A[i]?a=a.concat(A[i]):a.push(A[i]),u>0&&("object"==typeof l[u]?a=a.concat(l[u]):a.push(l[u]))):e(c)?(d=r(c)?y[s[c]]:l[p[c]],"string"==typeof d?a.push(d):a=a.concat(d)):o(c)?(d=A[h[c]],"string"==typeof d?a.push(d):a=a.concat(d)):a.push(n.charAt(g));return a},O=function(n){function t(t){var e,i,f,a,C=0,y="";if(!(g+1>t))for(var A=1;;A++){if(1===A){if(e=n[g+A].charCodeAt(0),o(e))return t>=g+A+1&&o(i=n[g+A+1].charCodeAt(0))?(d.push(String.fromCharCode(u(e,i))),void(g=t)):(d.push(n[g+A]),void(g=t));if(!r(e))return d.push(n[g+A]),void(g=t);y=n[g+A]}else if(2===A){if(i=n[g+A].charCodeAt(0),r(i))return e=c(e,i),y=String.fromCharCode(e),d.push(y),void(g=t);y=String.fromCharCode(28*(21*s[e]+h[i])+v)}else 3===A?(f=n[g+A].charCodeAt(0),u(i,f)?i=u(i,f):C=f,y=String.fromCharCode(28*(21*s[e]+h[i])+p[C]+v)):4===A?(a=n[g+A].charCodeAt(0),C=c(C,a)?c(C,a):a,y=String.fromCharCode(28*(21*s[e]+h[i])+p[C]+v)):5===A&&(a=n[g+A].charCodeAt(0),C=c(C,a),y=String.fromCharCode(28*(21*s[e]+h[i])+p[C]+v));if(g+A>=t)return d.push(y),void(g=t)}}"string"==typeof n&&(n=H(n));for(var e,f,d=[],a=n.length,C=0,g=-1,y=0;a>y;y++)e=n[y].charCodeAt(0),r(e)||o(e)||i(e)?(0===C?r(e)?C=1:o(e)&&(C=4):1==C?o(e)?C=2:c(f,e)?C=5:t(y-1):2==C?i(e)?C=3:o(e)?u(f,e)||(t(y-1),C=4):(t(y-1),C=1):3==C?i(e)?c(f,e)||(t(y-1),C=1):r(e)?(t(y-1),C=1):o(e)&&(t(y-2),C=2):4==C?o(e)?u(f,e)?(t(y),C=0):t(y-1):(t(y-1),C=1):5==C&&(o(e)?(t(y-2),C=2):(t(y-1),C=1)),f=e):(t(y-1),t(y),C=0);return t(y-1),d.join("")},I=function(n,t){var e=H(n).join(""),r=H(t).join("");return e.indexOf(r)};d.prototype.search=function(n){return H(n).join("").indexOf(this.disassembled)};var J=function(n){"object"==typeof n&&(n=n.join(""));var t=n.charCodeAt(n.length-1);if(f(t)){t-=v;var r=t%28;if(r>0)return!0}else if("undefined"!=typeof e(t))return!0;return!1},V={disassemble:H,assemble:O,search:I,Searcher:d,endsWithConsonant:J,isHangul:function(n){return"string"==typeof n&&(n=n.charCodeAt(0)),f(n)},isConsonant:function(n){return"string"==typeof n&&(n=n.charCodeAt(0)),"undefined"!=typeof e(n)},isVowel:function(n){return"string"==typeof n&&(n=n.charCodeAt(0)),o(n)},isCho:function(n){return"string"==typeof n&&(n=n.charCodeAt(0)),r(n)},isJong:function(n){return"string"==typeof n&&(n=n.charCodeAt(0)),i(n)}};"function"==typeof define&&define.amd?define(function(){return V}):"undefined"!=typeof module?module.exports=V:window.Hangul=V}();
;!function(e,t){"function"==typeof define&&define.amd?define("p5",[],function(){return e.returnExportsGlobal=t()}):"object"==typeof exports?module.exports=t():e.p5=t()}(this,function(){var amdclean={};return amdclean.core_shim=function(e){window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)}}(),window.performance=window.performance||{},window.performance.now=function(){var e=Date.now();return window.performance.now||window.performance.mozNow||window.performance.msNow||window.performance.oNow||window.performance.webkitNow||function(){return Date.now()-e}}(),function(){"use strict";"undefined"!=typeof Uint8ClampedArray&&(Uint8ClampedArray.prototype.slice=Array.prototype.slice)}()}({}),amdclean.core_constants=function(e){var t=Math.PI;return{P2D:"p2d",WEBGL:"webgl",ARROW:"default",CROSS:"crosshair",HAND:"pointer",MOVE:"move",TEXT:"text",WAIT:"wait",HALF_PI:t/2,PI:t,QUARTER_PI:t/4,TAU:2*t,TWO_PI:2*t,DEGREES:"degrees",RADIANS:"radians",CORNER:"corner",CORNERS:"corners",RADIUS:"radius",RIGHT:"right",LEFT:"left",CENTER:"center",TOP:"top",BOTTOM:"bottom",BASELINE:"alphabetic",POINTS:"points",LINES:"lines",TRIANGLES:"triangles",TRIANGLE_FAN:"triangles_fan",TRIANGLE_STRIP:"triangles_strip",QUADS:"quads",QUAD_STRIP:"quad_strip",CLOSE:"close",OPEN:"open",CHORD:"chord",PIE:"pie",PROJECT:"square",SQUARE:"butt",ROUND:"round",BEVEL:"bevel",MITER:"miter",RGB:"rgb",HSB:"hsb",HSL:"hsl",AUTO:"auto",ALT:18,BACKSPACE:8,CONTROL:17,DELETE:46,DOWN_ARROW:40,ENTER:13,ESCAPE:27,LEFT_ARROW:37,OPTION:18,RETURN:13,RIGHT_ARROW:39,SHIFT:16,TAB:9,UP_ARROW:38,BLEND:"normal",ADD:"lighter",DARKEST:"darken",LIGHTEST:"lighten",DIFFERENCE:"difference",EXCLUSION:"exclusion",MULTIPLY:"multiply",SCREEN:"screen",REPLACE:"source-over",OVERLAY:"overlay",HARD_LIGHT:"hard-light",SOFT_LIGHT:"soft-light",DODGE:"color-dodge",BURN:"color-burn",THRESHOLD:"threshold",GRAY:"gray",OPAQUE:"opaque",INVERT:"invert",POSTERIZE:"posterize",DILATE:"dilate",ERODE:"erode",BLUR:"blur",NORMAL:"normal",ITALIC:"italic",BOLD:"bold",_DEFAULT_TEXT_FILL:"#000000",_DEFAULT_LEADMULT:1.25,_CTX_MIDDLE:"middle",LINEAR:"linear",QUADRATIC:"quadratic",BEZIER:"bezier",CURVE:"curve",_DEFAULT_STROKE:"#000000",_DEFAULT_FILL:"#FFFFFF"}}({}),amdclean.core_core=function(e,t,r){"use strict";var n=r,o=function(e,t,r){2===arguments.length&&"boolean"==typeof t&&(r=t,t=void 0),this._setupDone=!1,this.pixelDensity=window.devicePixelRatio||1,this._userNode=t,this._curElement=null,this._elements=[],this._preloadCount=0,this._updateInterval=0,this._isGlobal=!1,this._loop=!0,this._styles=[],this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,click:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},window.DeviceOrientationEvent?this._events.deviceorientation=null:window.DeviceMotionEvent?this._events.devicemotion=null:this._events.MozOrientation=null,/Firefox/i.test(navigator.userAgent)?this._events.DOMMouseScroll=null:this._events.mousewheel=null,this._loadingScreenId="p5_loading",this._start=function(){if(this._userNode&&"string"==typeof this._userNode&&(this._userNode=document.getElementById(this._userNode)),this._loadingScreen=document.getElementById(this._loadingScreenId),!this._loadingScreen){this._loadingScreen=document.createElement("loadingDiv"),this._loadingScreen.innerHTML="loading...",this._loadingScreen.style.position="absolute";var e=this._userNode||document.body;e.appendChild(this._loadingScreen)}this.createCanvas(this._defaultCanvasSize.width,this._defaultCanvasSize.height,"p2d",!0);var t=this.preload||window.preload,r=this._isGlobal?window:this;t?(this._preloadMethods.forEach(function(e){r[e]=function(){var t=Array.prototype.slice.call(arguments);return r._preload(e,t)}}),t(),0===this._preloadCount&&(this._setup(),this._runFrames(),this._draw())):(this._setup(),this._runFrames(),this._draw())}.bind(this),this._preload=function(e,t){var r=this._isGlobal?window:this;r._setProperty("_preloadCount",r._preloadCount+1);var n=function(e){r._setProperty("_preloadCount",r._preloadCount-1),0===r._preloadCount&&(r._setup(),r._runFrames(),r._draw())};return t.push(n),o.prototype[e].apply(r,t)}.bind(this),this._setup=function(){var e=this._isGlobal?window:this;"function"==typeof e.preload&&this._preloadMethods.forEach(function(t){e[t]=o.prototype[t]}),"function"==typeof e.setup&&e.setup();for(var t=new RegExp(/(^|\s)p5_hidden(?!\S)/g),r=document.getElementsByClassName("p5_hidden"),n=0;n<r.length;n++){var a=r[n];a.style.visibility="",a.className=a.className.replace(t,"")}this._setupDone=!0,this._loadingScreen.parentNode.removeChild(this._loadingScreen)}.bind(this),this._draw=function(){var e=window.performance.now(),t=e-this._lastFrameTime,r=1e3/this._targetFrameRate,n=5;(!this.loop||t>=r-n)&&(this._setProperty("frameCount",this.frameCount+1),this.redraw(),this._updatePAccelerations(),this._updatePMouseCoords(),this._updatePTouchCoords(),this._frameRate=1e3/(e-this._lastFrameTime),this._lastFrameTime=e),this._loop&&window.requestAnimationFrame(this._draw)}.bind(this),this._runFrames=function(){this._updateInterval&&clearInterval(this._updateInterval)}.bind(this),this._setProperty=function(e,t){this[e]=t,this._isGlobal&&(window[e]=t)}.bind(this),this.remove=function(){if(this._curElement){this._loop=!1,this._updateInterval&&clearTimeout(this._updateInterval);for(var e in this._events)window.removeEventListener(e,this._events[e]);for(var t=0;t<this._elements.length;t++){var r=this._elements[t];r.elt.parentNode&&r.elt.parentNode.removeChild(r.elt);for(var n in r._events)r.elt.removeEventListener(n,r._events[n])}var a=this;if(this._registeredMethods.remove.forEach(function(e){"undefined"!=typeof e&&e.call(a)}),this._isGlobal){for(var i in o.prototype)try{delete window[i]}catch(s){window[i]=void 0}for(var l in this)if(this.hasOwnProperty(l))try{delete window[l]}catch(s){window[l]=void 0}}}}.bind(this);for(var a in n)o.prototype[a]=n[a];if(e)e(this);else{this._isGlobal=!0;for(var i in o.prototype)if("function"==typeof o.prototype[i]){var s=i.substring(2);this._events.hasOwnProperty(s)||(window[i]=o.prototype[i].bind(this))}else window[i]=o.prototype[i];for(var l in this)this.hasOwnProperty(l)&&(window[l]=this[l])}for(var h in this._events){var p=this["_on"+h];if(p){var u=p.bind(this);window.addEventListener(h,u),this._events[h]=u}}var c=this;window.addEventListener("focus",function(){c._setProperty("focused",!0)}),window.addEventListener("blur",function(){c._setProperty("focused",!1)}),r?this._start():"complete"===document.readyState?this._start():window.addEventListener("load",this._start.bind(this),!1)};return o.prototype._preloadMethods=["loadJSON","loadImage","loadStrings","loadXML","loadShape","loadTable","loadFont"],o.prototype._registeredMethods={pre:[],post:[],remove:[]},o.prototype.registerPreloadMethod=function(e){o.prototype._preloadMethods.push(e)}.bind(this),o.prototype.registerMethod=function(e,t){o.prototype._registeredMethods.hasOwnProperty(e)||(o.prototype._registeredMethods[e]=[]),o.prototype._registeredMethods[e].push(t)}.bind(this),o}({},amdclean.core_shim,amdclean.core_constants),amdclean.color_color_utils=function(e,t){var r=t;return r.ColorUtils={},r.ColorUtils.hsbaToRGBA=function(e,t){var r=e[0],n=e[1],o=e[2],a=e[3]||t[3];r/=t[0],n/=t[1],o/=t[2],a/=t[3];var i=[];if(0===n)i=[Math.round(255*o),Math.round(255*o),Math.round(255*o),255*a];else{var s=6*r;6===s&&(s=0);var l,h,p,u=Math.floor(s),c=o*(1-n),f=o*(1-n*(s-u)),d=o*(1-n*(1-(s-u)));0===u?(l=o,h=d,p=c):1===u?(l=f,h=o,p=c):2===u?(l=c,h=o,p=d):3===u?(l=c,h=f,p=o):4===u?(l=d,h=c,p=o):(l=o,h=c,p=f),i=[Math.round(255*l),Math.round(255*h),Math.round(255*p),255*a]}return i},r.ColorUtils.rgbaToHSBA=function(e,t){var r,n,o=e[0]/t[0],a=e[1]/t[1],i=e[2]/t[2],s=e[3]/t[3],l=Math.min(o,a,i),h=Math.max(o,a,i),p=h-l,u=h;if(0===p)r=0,n=0;else{n=p/h;var c=((h-o)/6+p/2)/p,f=((h-a)/6+p/2)/p,d=((h-i)/6+p/2)/p;o===h?r=d-f:a===h?r=1/3+c-d:i===h&&(r=2/3+f-c),0>r&&(r+=1),r>1&&(r-=1)}return[Math.round(360*r),Math.round(100*n),Math.round(100*u),1*s]},r.ColorUtils.hslaToRGBA=function(e,t){var r=e[0],n=e[1],o=e[2],a=e[3]||t[3];r/=t[0],n/=t[1],o/=t[2],a/=t[3];var i=[];if(0===n)i=[Math.round(255*o),Math.round(255*o),Math.round(255*o),a];else{var s,l,h,p,u;l=.5>o?o*(1+n):o+n-n*o,s=2*o-l;var c=function(e,t,r){return 0>r?r+=1:r>1&&(r-=1),1>6*r?e+6*(t-e)*r:1>2*r?t:2>3*r?e+(t-e)*(2/3-r)*6:e};h=c(s,l,r+1/3),p=c(s,l,r),u=c(s,l,r-1/3),i=[Math.round(255*h),Math.round(255*p),Math.round(255*u),Math.round(255*a)]}return i},r.ColorUtils.rgbaToHSLA=function(e,t){var r,n,o,a,i,s=e[0]/t[0],l=e[1]/t[1],h=e[2]/t[2],p=e[3]/t[3],u=Math.min(s,l,h),c=Math.max(s,l,h),f=c-u,d=(c+u)/2;return 0===f?(r=0,n=0):(o=((c-s)/6+f/2)/f,a=((c-l)/6+f/2)/f,i=((c-h)/6+f/2)/f,s===c?r=i-a:l===c?r=1/3+o-i:h===c&&(r=2/3+a-o),0>r&&(r+=1),r>1&&(r-=1),n=.5>d?f/(c+u):f/(2-c-u)),[Math.round(360*r),Math.round(100*n),Math.round(100*d),1*p]},r.ColorUtils}({},amdclean.core_core),amdclean.color_p5Color=function(e,t,r,n){var o=t,a=r,i=n;o.Color=function(e,t){this.maxArr=e._colorMaxes[e._colorMode],this.color_array=o.Color._getFormattedColor.apply(e,t);var r=e._colorMode===i.HSB,n=e._colorMode===i.RGB,s=e._colorMode===i.HSL;if(n)this.rgba=this.color_array;else if(s)this.hsla=this.color_array,this.rgba=a.hslaToRGBA(this.color_array,this.maxArr);else{if(!r)throw new Error(e._colorMode+"is an invalid colorMode.");this.hsba=this.color_array,this.rgba=a.hsbaToRGBA(this.color_array,this.maxArr)}return this},o.Color.prototype.getHue=function(){return this.hsla||this.hsba?this.hsla?this.hsla[0]:this.hsba[0]:(this.hsla=a.rgbaToHSLA(this.color_array,this.maxArr),this.hsla[0])},o.Color.prototype.getSaturation=function(){return this.hsla?this.hsla[1]:this.hsba?this.hsba[1]:(this.hsla=a.rgbaToHSLA(this.color_array,this.maxArr),this.hsla[1])},o.Color.prototype.getBrightness=function(){return this.hsba?this.hsba[2]:(this.hsba=a.rgbaToHSBA(this.color_array,this.maxArr),this.hsba[2])},o.Color.prototype.getLightness=function(){return this.hsla?this.hsla[2]:(this.hsla=a.rgbaToHSLA(this.color_array,this.maxArr),this.hsla[2])},o.Color.prototype.getRed=function(){return this.rgba[0]},o.Color.prototype.getGreen=function(){return this.rgba[1]},o.Color.prototype.getBlue=function(){return this.rgba[2]},o.Color.prototype.getAlpha=function(){return this.hsba||this.hsla?this.hsla?this.hsla[3]:this.hsba[3]:this.rgba[3]},o.Color.prototype.toString=function(){for(var e=this.rgba,t=0;3>t;t++)e[t]=Math.floor(e[t]);var r="undefined"!=typeof e[3]?e[3]/255:1;return"rgba("+e[0]+","+e[1]+","+e[2]+","+r+")"};var s=/\s*/,l=/(\d{1,3})/,h=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,p=new RegExp(h.source+"%"),u={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},c={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",l.source,",",l.source,",",l.source,"\\)$"].join(s.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",p.source,",",p.source,",",p.source,"\\)$"].join(s.source),"i"),RGBA:new RegExp(["^rgba\\(",l.source,",",l.source,",",l.source,",",h.source,"\\)$"].join(s.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",p.source,",",p.source,",",p.source,",",h.source,"\\)$"].join(s.source),"i"),HSL:new RegExp(["^hsl\\(",l.source,",",p.source,",",p.source,"\\)$"].join(s.source),"i"),HSLA:new RegExp(["^hsla\\(",l.source,",",p.source,",",p.source,",",h.source,"\\)$"].join(s.source),"i")};return o.Color._getFormattedColor=function(){var e,t,r,n,a,s,l=arguments.length,h=this._colorMode;if(l>=3)e=arguments[0],t=arguments[1],r=arguments[2],n="number"==typeof arguments[3]?arguments[3]:this._colorMaxes[h][3];else{if(1===l&&"string"==typeof arguments[0])return a=arguments[0].trim().toLowerCase(),u[a]?o.Color._getFormattedColor.apply(this,[u[a]]):(s=c.HEX3.test(a)?c.HEX3.exec(a).slice(1).map(function(e){return parseInt(e+e,16)}):c.HEX6.test(a)?c.HEX6.exec(a).slice(1).map(function(e){return parseInt(e,16)}):c.RGB.test(a)?c.RGB.exec(a).slice(1).map(function(e){return parseInt(e,10)}):c.RGB_PERCENT.test(a)?c.RGB_PERCENT.exec(a).slice(1).map(function(e){return parseInt(parseFloat(e)/100*255,10)}):c.RGBA.test(a)?c.RGBA.exec(a).slice(1).map(function(e,t){return 3===t?parseInt(255*parseFloat(e),10):parseInt(e,10)}):c.RGBA_PERCENT.test(a)?c.RGBA_PERCENT.exec(a).slice(1).map(function(e,t){return 3===t?parseInt(255*parseFloat(e),10):parseInt(parseFloat(e)/100*255,10)}):c.HSL.test(a)?c.HSL.exec(a).slice(1).map(function(e){return parseInt(e,10)}):c.HSLA.test(a)?c.HSLA.exec(a).slice(1).map(function(e){return parseFloat(e,10)}):[255],o.Color._getFormattedColor.apply(this,s));if(1===l&&"number"==typeof arguments[0])h===i.RGB?e=t=r=arguments[0]:(h===i.HSB||h===i.HSL)&&(e=r=arguments[0],t=0),n="number"==typeof arguments[1]?arguments[1]:this._colorMaxes[h][3];else{if(2!==l||"number"!=typeof arguments[0]||"number"!=typeof arguments[1])throw new Error(arguments+"is not a valid color representation.");h===i.RGB?e=t=r=arguments[0]:(h===i.HSB||h===i.HSL)&&(e=r=arguments[0],t=0),n=arguments[1]}}return[e,t,r,n]},o.Color}({},amdclean.core_core,amdclean.color_color_utils,amdclean.core_constants),amdclean.core_p5Element=function(e,t){function r(e,t,r){var n=t.bind(r);r.elt.addEventListener(e,n,!1),r._events[e]=n}var n=t;return n.Element=function(e,t){this.elt=e,this._pInst=t,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight},n.Element.prototype.parent=function(e){return"string"==typeof e?e=document.getElementById(e):e instanceof n.Element&&(e=e.elt),e.appendChild(this.elt),this},n.Element.prototype.id=function(e){return this.elt.id=e,this},n.Element.prototype["class"]=function(e){return this.elt.className+=" "+e,this},n.Element.prototype.mousePressed=function(e){return r("mousedown",e,this),r("touchstart",e,this),this},n.Element.prototype.mouseWheel=function(e){return r("mousewheel",e,this),this},n.Element.prototype.mouseReleased=function(e){return r("mouseup",e,this),r("touchend",e,this),this},n.Element.prototype.mouseClicked=function(e){return r("click",e,this),this},n.Element.prototype.mouseMoved=function(e){return r("mousemove",e,this),r("touchmove",e,this),this},n.Element.prototype.mouseOver=function(e){return r("mouseover",e,this),this},n.Element.prototype.mouseOut=function(e){return r("mouseout",e,this),this},n.Element.prototype.touchStarted=function(e){return r("touchstart",e,this),r("mousedown",e,this),this},n.Element.prototype.touchMoved=function(e){return r("touchmove",e,this),r("mousemove",e,this),this},n.Element.prototype.touchEnded=function(e){return r("touchend",e,this),r("mouseup",e,this),this},n.Element.prototype.dragOver=function(e){return r("dragover",e,this),this},n.Element.prototype.dragLeave=function(e){return r("dragleave",e,this),this},n.Element.prototype.drop=function(e,t){function o(t){var r=new n.File(t);return function(t){r.data=t.target.result,e(r)}}return window.File&&window.FileReader&&window.FileList&&window.Blob?(r("dragover",function(e){e.stopPropagation(),e.preventDefault()},this),r("dragleave",function(e){e.stopPropagation(),e.preventDefault()},this),arguments.length>1&&r("drop",t,this),r("drop",function(e){e.stopPropagation(),e.preventDefault();for(var t=e.dataTransfer.files,r=0;r<t.length;r++){var n=t[r],a=new FileReader;a.onload=o(n),"text"===n.type?a.readAsText(n):a.readAsDataURL(n)}},this)):void 0,this},n.Element.prototype._setProperty=function(e,t){this[e]=t},n.Element}({},amdclean.core_core),amdclean.typography_p5Font=function(e,t,r){"use strict";function n(){for(var e=Array.prototype.slice.call(arguments),t=e.length,r="";t--;)r+=e[t]===Object(e[t])?JSON.stringify(e[t]):e[t];return r}var o=t,a=r;return o.Font=function(e){this.parent=e,this.cache={},this.font=void 0},o.Font.prototype._getGlyphs=function(e){return this.font.stringToGlyphs(e)},o.Font.prototype._getPath=function(e,t,r,n){var o=this.parent,a=o._graphics.drawingContext,i=this._handleAlignment(o,a,e,t,r);return this.font.getPath(e,i.x,i.y,o._textSize,n)},o.Font.prototype._getPathData=function(e,t,r,n){var o=3;return"string"==typeof e&&arguments.length>2?e=this._getPath(e,t,r,n):"object"==typeof t&&(n=t),n&&"number"==typeof n.decimals&&(o=n.decimals),e.toPathData(o)},o.Font.prototype._getSVG=function(e,t,r,n){var o=3;return"string"==typeof e&&arguments.length>2?e=this._getPath(e,t,r,n):"object"==typeof t&&(n=t),n&&("number"==typeof n.decimals&&(o=n.decimals),"number"==typeof n.strokeWidth&&(e.strokeWidth=n.strokeWidth),void 0!==typeof n.fill&&(e.fill=n.fill),void 0!==typeof n.stroke&&(e.stroke=n.stroke)),e.toSVG(o)},o.Font.prototype._renderPath=function(e,t,r,n){var o,i=this.parent,s=i._graphics,l=s.drawingContext;o="object"==typeof e&&e.commands?e.commands:this._getPath(e,t,r,i._textSize,n).commands,l.beginPath();for(var h=0;h<o.length;h+=1){var p=o[h];"M"===p.type?l.moveTo(p.x,p.y):"L"===p.type?l.lineTo(p.x,p.y):"C"===p.type?l.bezierCurveTo(p.x1,p.y1,p.x2,p.y2,p.x,p.y):"Q"===p.type?l.quadraticCurveTo(p.x1,p.y1,p.x,p.y):"Z"===p.type&&l.closePath()}return i._doStroke&&i._strokeSet&&l.stroke(),i._doFill&&(l.fillStyle=i._fillSet?l.fillStyle:a._DEFAULT_TEXT_FILL,l.fill()),this},o.Font.prototype._textWidth=function(e){if(" "===e)return this.font.charToGlyph(" ").advanceWidth*this._scale();var t=this.textBounds(e);return t.w+t.advance},o.Font.prototype._textAscent=function(){var e=this.textBounds("ABCjgq|");return Math.abs(e.y)},o.Font.prototype._textDescent=function(){var e=this.textBounds("ABCjgq|");return e.h-Math.abs(e.y)},o.Font.prototype._scale=function(e){return 1/this.font.unitsPerEm*(e||this.parent._textSize)},o.Font.prototype.textBounds=function(e,t,r,o,a){t=void 0!==t?t:0,r=void 0!==r?r:0,o=o||this.parent._textSize;var i=this.cache[n("textBounds",e,t,r,o)];if(!i){if(" "!==e){var s,l,h,p,u=[],c=[],f=this._scale(o);this.font.forEachGlyph(e,t,r,o,a,function(e,t,r,n){if("space"!==e.name){t=void 0!==t?t:0,r=void 0!==r?r:0;var o=e.getMetrics();u.push(t+o.xMin*f),c.push(r+-o.yMin*f),u.push(t+o.xMax*f),c.push(r+-o.yMax*f)}}),s=Math.min.apply(null,u),l=Math.min.apply(null,c),h=Math.max.apply(null,u),p=Math.max.apply(null,c),i={x:s,y:l,h:p-l,w:h-s,advance:s-t}}else{var d=this._textWidth(e);i={x:t,y:r,h:0,w:d,advance:0}}this.cache[n("textBounds",e,t,r,o)]=i}return i},o.Font.prototype._drawPoints=function(e,t,r,n){function o(e,t,r,n){for(var o=0;o<e.length;o++)l.ellipse(t+e[o].x*n,r+e[o].y*n,3,3)}var a,i,s,l=this.parent,h=this._scale();t=void 0!==t?t:0,r=void 0!==r?r:0,this.font.forEachGlyph(e,t,r,l._textSize,n,function(e,t,r,n){i=[],s=[],a=e.path.commands;for(var p=0;p<a.length;p+=1){var u=a[p];void 0!==u.x&&i.push({x:u.x,y:-u.y}),void 0!==u.x1&&s.push({x:u.x1,y:-u.y1}),void 0!==u.x2&&s.push({x:u.x2,y:-u.y2})}l.noStroke(),l.fill(0,0,255),o(i,t,r,h),l.fill(255,0,0),o(s,t,r,h)})},o.Font.prototype.list=function(){throw"not yet implemented"},o.Font.prototype._handleAlignment=function(e,t,r,n,o){var i=this._textWidth(r),s=this._textAscent(),l=this._textDescent(),h=s+l;return t.textAlign===a.CENTER?n-=i/2:t.textAlign===a.RIGHT&&(n-=i),t.textBaseline===a.TOP?o+=h:t.textBaseline===a._CTX_MIDDLE?o+=h/2-l:t.textBaseline===a.BOTTOM&&(o-=l),{x:n,y:o}},o.Font}({},amdclean.core_core,amdclean.core_constants),amdclean.core_p5Graphics=function(e,t,r){var n=t,o=r;return n.Graphics=function(e,t,r,a){var i=r||o.P2D,s=document.createElement("canvas"),l=this._userNode||document.body;l.appendChild(s),n.Element.call(this,s,a,!1),this._styles=[],this.width=e,this.height=t,this.pixelDensity=a.pixelDensity,i===o.WEBGL?this._graphics=new n.Renderer3D(s,this,!1):this._graphics=new n.Renderer2D(s,this,!1),this._graphics.resize(e,t),this._graphics._applyDefaults(),a._elements.push(this);for(var h in n.prototype)this[h]||("function"==typeof n.prototype[h]?this[h]=n.prototype[h].bind(this):this[h]=n.prototype[h]);return this},n.Graphics.prototype=Object.create(n.Element.prototype),n.Graphics}({},amdclean.core_core,amdclean.core_constants),amdclean.core_canvas=function(e,t){var r=t;return{modeAdjust:function(e,t,n,o,a){return a===r.CORNER?{x:e,y:t,w:n,h:o}:a===r.CORNERS?{x:e,y:t,w:n-e,h:o-t}:a===r.RADIUS?{x:e-n,y:t-o,w:2*n,h:2*o}:a===r.CENTER?{x:e-.5*n,y:t-.5*o,w:n,h:o}:void 0},arcModeAdjust:function(e,t,n,o,a){return a===r.CORNER?{x:e+.5*n,y:t+.5*o,w:n,h:o}:a===r.CORNERS?{x:e,y:t,w:n+e,h:o+t}:a===r.RADIUS?{x:e,y:t,w:2*n,h:2*o}:a===r.CENTER?{x:e,y:t,w:n,h:o}:void 0}}}({},amdclean.core_constants),amdclean.image_filters=function(e){"use strict";function t(e){var t=3.5*e|0;if(t=1>t?1:248>t?t:248,o!==t){o=t,a=1+o<<1,i=new Int32Array(a),s=new Array(a);for(var r=0;a>r;r++)s[r]=new Int32Array(256);for(var n,l,h,p,u=1,c=t-1;t>u;u++){i[t+u]=i[c]=l=c*c,h=s[t+u],p=s[c--];for(var f=0;256>f;f++)h[f]=p[f]=l*f}n=i[t]=t*t,h=s[t];for(var d=0;256>d;d++)h[d]=n*d}}function r(e,r){for(var l=n._toPixels(e),h=e.width,p=e.height,u=h*p,c=new Int32Array(u),f=0;u>f;f++)c[f]=n._getARGB(l,f);var d,m,g,y,v,_,x,b,w,S,T=new Int32Array(u),R=new Int32Array(u),C=new Int32Array(u),M=new Int32Array(u),E=0;t(r);var I,D,O,A;for(D=0;p>D;D++){for(I=0;h>I;I++){if(y=g=m=v=d=0,_=I-o,0>_)S=-_,_=0;else{if(_>=h)break;S=0}for(O=S;a>O&&!(_>=h);O++){var P=c[_+E];A=s[O],v+=A[(-16777216&P)>>>24],m+=A[(16711680&P)>>16],g+=A[(65280&P)>>8],y+=A[255&P],d+=i[O],_++}x=E+I,T[x]=v/d,R[x]=m/d,C[x]=g/d,M[x]=y/d}E+=h}for(E=0,b=-o,w=b*h,D=0;p>D;D++){for(I=0;h>I;I++){if(y=g=m=v=d=0,0>b)S=x=-b,_=I;else{if(b>=p)break;S=0,x=b,_=I+w}for(O=S;a>O&&!(x>=p);O++)A=s[O],v+=A[T[_]],m+=A[R[_]],g+=A[C[_]],y+=A[M[_]],d+=i[O],x++,_+=h;c[I+E]=v/d<<24|m/d<<16|g/d<<8|y/d}E+=h,w+=h,b++}n._setPixels(l,c)}var n={};n._toPixels=function(e){return e instanceof ImageData?e.data:e.getContext("2d").getImageData(0,0,e.width,e.height).data},n._getARGB=function(e,t){var r=4*t;return e[r+3]<<24&4278190080|e[r]<<16&16711680|e[r+1]<<8&65280|255&e[r+2]},n._setPixels=function(e,t){for(var r=0,n=0,o=e.length;o>n;n++)r=4*n,e[r+0]=(16711680&t[n])>>>16,e[r+1]=(65280&t[n])>>>8,e[r+2]=255&t[n],e[r+3]=(4278190080&t[n])>>>24},n._toImageData=function(e){return e instanceof ImageData?e:e.getContext("2d").getImageData(0,0,e.width,e.height)},n._createImageData=function(e,t){return n._tmpCanvas=document.createElement("canvas"),n._tmpCtx=n._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(e,t)},n.apply=function(e,t,r){var n=e.getContext("2d"),o=n.getImageData(0,0,e.width,e.height),a=t(o,r);a instanceof ImageData?n.putImageData(a,0,0,0,0,e.width,e.height):n.putImageData(o,0,0,0,0,e.width,e.height)},n.threshold=function(e,t){var r=n._toPixels(e);void 0===t&&(t=.5);for(var o=Math.floor(255*t),a=0;a<r.length;a+=4){var i,s=r[a],l=r[a+1],h=r[a+2],p=.2126*s+.7152*l+.0722*h;i=p>=o?255:0,r[a]=r[a+1]=r[a+2]=i}},n.gray=function(e){for(var t=n._toPixels(e),r=0;r<t.length;r+=4){var o=t[r],a=t[r+1],i=t[r+2],s=.2126*o+.7152*a+.0722*i;t[r]=t[r+1]=t[r+2]=s}},n.opaque=function(e){for(var t=n._toPixels(e),r=0;r<t.length;r+=4)t[r+3]=255;return t},n.invert=function(e){for(var t=n._toPixels(e),r=0;r<t.length;r+=4)t[r]=255-t[r],t[r+1]=255-t[r+1],t[r+2]=255-t[r+2]},n.posterize=function(e,t){var r=n._toPixels(e);if(2>t||t>255)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var o=t-1,a=0;a<r.length;a+=4){var i=r[a],s=r[a+1],l=r[a+2];r[a]=255*(i*t>>8)/o,r[a+1]=255*(s*t>>8)/o,r[a+2]=255*(l*t>>8)/o}},n.dilate=function(e){for(var t,r,o,a,i,s,l,h,p,u,c,f,d,m,g,y,v,_=n._toPixels(e),x=0,b=_.length?_.length/4:0,w=new Int32Array(b);b>x;)for(t=x,r=x+e.width;r>x;)o=a=n._getARGB(_,x),l=x-1,s=x+1,h=x-e.width,p=x+e.width,t>l&&(l=x),s>=r&&(s=x),0>h&&(h=0),p>=b&&(p=x),f=n._getARGB(_,h),c=n._getARGB(_,l),d=n._getARGB(_,p),u=n._getARGB(_,s),i=77*(o>>16&255)+151*(o>>8&255)+28*(255&o),g=77*(c>>16&255)+151*(c>>8&255)+28*(255&c),m=77*(u>>16&255)+151*(u>>8&255)+28*(255&u),y=77*(f>>16&255)+151*(f>>8&255)+28*(255&f),v=77*(d>>16&255)+151*(d>>8&255)+28*(255&d),g>i&&(a=c,i=g),m>i&&(a=u,i=m),y>i&&(a=f,i=y),v>i&&(a=d,i=v),w[x++]=a;n._setPixels(_,w)},n.erode=function(e){for(var t,r,o,a,i,s,l,h,p,u,c,f,d,m,g,y,v,_=n._toPixels(e),x=0,b=_.length?_.length/4:0,w=new Int32Array(b);b>x;)for(t=x,r=x+e.width;r>x;)o=a=n._getARGB(_,x),l=x-1,s=x+1,h=x-e.width,p=x+e.width,t>l&&(l=x),s>=r&&(s=x),0>h&&(h=0),p>=b&&(p=x),f=n._getARGB(_,h),c=n._getARGB(_,l),d=n._getARGB(_,p),u=n._getARGB(_,s),i=77*(o>>16&255)+151*(o>>8&255)+28*(255&o),g=77*(c>>16&255)+151*(c>>8&255)+28*(255&c),m=77*(u>>16&255)+151*(u>>8&255)+28*(255&u),y=77*(f>>16&255)+151*(f>>8&255)+28*(255&f),v=77*(d>>16&255)+151*(d>>8&255)+28*(255&d),i>g&&(a=c,i=g),i>m&&(a=u,i=m),i>y&&(a=f,i=y),i>v&&(a=d,i=v),w[x++]=a;n._setPixels(_,w)};var o,a,i,s;return n.blur=function(e,t){r(e,t)},n}({}),amdclean.core_p5Renderer=function(e,t){var r=t;return r.Renderer=function(e,t,n){r.Element.call(this,e,t),this.canvas=e,this._pInst=t,n?(this._isMainCanvas=!0,this._pInst._setProperty("_curElement",this),this._pInst._setProperty("canvas",this.canvas),this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height)):(this.canvas.style.display="none",this._styles=[])},r.Renderer.prototype=Object.create(r.Element.prototype),r.Renderer.prototype.resize=function(e,t){this.width=e,this.height=t,this.elt.width=e*this._pInst.pixelDensity,this.elt.height=t*this._pInst.pixelDensity,this.elt.style.width=e+"px",this.elt.style.height=t+"px",this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))},r.Renderer}({},amdclean.core_core),amdclean.core_p5Renderer2D=function(e,t,r,n,o,a){var i=t,s=r,l=n,h=o,p="rgba(0,0,0,0)";return i.Renderer2D=function(e,t,r){return i.Renderer.call(this,e,t,r),this.drawingContext=this.canvas.getContext("2d"),this._pInst._setProperty("drawingContext",this.drawingContext),this},i.Renderer2D.prototype=Object.create(i.Renderer.prototype),i.Renderer2D.prototype._applyDefaults=function(){this.drawingContext.fillStyle=l._DEFAULT_FILL,this.drawingContext.strokeStyle=l._DEFAULT_STROKE,this.drawingContext.lineCap=l.ROUND,this.drawingContext.font="normal 12px sans-serif"},i.Renderer2D.prototype.resize=function(e,t){i.Renderer.prototype.resize.call(this,e,t),this.drawingContext.scale(this._pInst.pixelDensity,this._pInst.pixelDensity)},i.Renderer2D.prototype.background=function(){if(this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst.pixelDensity,this._pInst.pixelDensity),arguments[0]instanceof i.Image)this._pInst.image(arguments[0],0,0,this.width,this.height);else{var e=this.drawingContext.fillStyle,t=this._pInst.color.apply(this._pInst,arguments),r=t.toString();this.drawingContext.fillStyle=r,this.drawingContext.fillRect(0,0,this.width,this.height),this.drawingContext.fillStyle=e}this.drawingContext.restore()},i.Renderer2D.prototype.clear=function(){this.drawingContext.clearRect(0,0,this.width,this.height)},i.Renderer2D.prototype.fill=function(){var e=this.drawingContext,t=this._pInst.color.apply(this._pInst,arguments);e.fillStyle=t.toString()},i.Renderer2D.prototype.stroke=function(){var e=this.drawingContext,t=this._pInst.color.apply(this._pInst,arguments);e.strokeStyle=t.toString()},i.Renderer2D.prototype.image=function(e,t,r,n,o){var a=e.canvas||e.elt;try{this._pInst._tint&&e.canvas?this.drawingContext.drawImage(this._getTintedImageCanvas(e),t,r,n,o):this.drawingContext.drawImage(a,t,r,n,o)}catch(i){if("NS_ERROR_NOT_AVAILABLE"!==i.name)throw i}},i.Renderer2D.prototype._getTintedImageCanvas=function(e){if(!e.canvas)return e;var t=h._toPixels(e.canvas),r=document.createElement("canvas");r.width=e.canvas.width,r.height=e.canvas.height;for(var n=r.getContext("2d"),o=n.createImageData(e.canvas.width,e.canvas.height),a=o.data,i=0;i<t.length;i+=4){var s=t[i],l=t[i+1],p=t[i+2],u=t[i+3];a[i]=s*this._pInst._tint[0]/255,a[i+1]=l*this._pInst._tint[1]/255,a[i+2]=p*this._pInst._tint[2]/255,a[i+3]=u*this._pInst._tint[3]/255}return n.putImageData(o,0,0),r},i.Renderer2D.prototype.blendMode=function(e){this.drawingContext.globalCompositeOperation=e},i.Renderer2D.prototype.blend=function(){var e=this.drawingContext.globalCompositeOperation,t=arguments[arguments.length-1],r=Array.prototype.slice.call(arguments,0,arguments.length-1);this.drawingContext.globalCompositeOperation=t,this._pInst.copy.apply(this._pInst,r),this.drawingContext.globalCompositeOperation=e},i.Renderer2D.prototype.copy=function(){var e,t,r,n,o,a,s,l,h;if(9===arguments.length)e=arguments[0],t=arguments[1],r=arguments[2],n=arguments[3],o=arguments[4],a=arguments[5],s=arguments[6],l=arguments[7],h=arguments[8];else{if(8!==arguments.length)throw new Error("Signature not supported");e=this._pInst,t=arguments[0],r=arguments[1],n=arguments[2],o=arguments[3],a=arguments[4],s=arguments[5],l=arguments[6],h=arguments[7]}i.Renderer2D._copyHelper(e,t,r,n,o,a,s,l,h)},i.Renderer2D._copyHelper=function(e,t,r,n,o,a,i,s,l){var h=e.canvas.width/e.width;this.drawingContext.drawImage(e.canvas,h*t,h*r,h*n,h*o,a,i,s,l)},i.Renderer2D.prototype.get=function(e,t,r,n){
if(void 0===e&&void 0===t&&void 0===r&&void 0===n?(e=0,t=0,r=this.width,n=this.height):void 0===r&&void 0===n&&(r=1,n=1),e>this.width||t>this.height||0>e||0>t)return[0,0,0,255];var o=this.pixelDensity||this._pInst.pixelDensity;if(1===r&&1===n){for(var a=this.drawingContext.getImageData(e*o,t*o,r,n),s=a.data,l=[],h=0;h<s.length;h+=4)l.push(s[h],s[h+1],s[h+2],s[h+3]);return l}var p=e*o,u=t*o,c=Math.min(r,this.width),f=Math.min(n,this.height),d=c*o,m=f*o,g=new i.Image(c,f);return g.canvas.getContext("2d").drawImage(this.canvas,p,u,d,m,0,0,c,f),g},i.Renderer2D.prototype.loadPixels=function(){var e=this.pixelDensity||this._pInst.pixelDensity,t=this.width*e,r=this.height*e,n=this.drawingContext.getImageData(0,0,t,r);this._pInst?(this._pInst._setProperty("imageData",n),this._pInst._setProperty("pixels",n.data)):(this._setProperty("imageData",n),this._setProperty("pixels",n.data))},i.Renderer2D.prototype.set=function(e,t,r){if(r instanceof i.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst.pixelDensity,this._pInst.pixelDensity),this.drawingContext.drawImage(r.canvas,e,t),this.loadPixels.call(this._pInst),this.drawingContext.restore();else{var n=this._pInst||this,o=0,a=0,s=0,l=0,h=4*(t*n.pixelDensity*this.width*n.pixelDensity+e*n.pixelDensity);if(n.imageData||n.loadPixels.call(n),"number"==typeof r)h<n.pixels.length&&(o=r,a=r,s=r,l=255);else if(r instanceof Array){if(r.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");h<n.pixels.length&&(o=r[0],a=r[1],s=r[2],l=r[3])}else r instanceof i.Color&&h<n.pixels.length&&(o=r.rgba[0],a=r.rgba[1],s=r.rgba[2],l=r.rgba[3]);for(var p=0;p<n.pixelDensity;p++)for(var u=0;u<n.pixelDensity;u++)h=4*((t*n.pixelDensity+u)*this.width*n.pixelDensity+(e*n.pixelDensity+p)),n.pixels[h]=o,n.pixels[h+1]=a,n.pixels[h+2]=s,n.pixels[h+3]=l}},i.Renderer2D.prototype.updatePixels=function(e,t,r,n){var o=this.pixelDensity||this._pInst.pixelDensity;void 0===e&&void 0===t&&void 0===r&&void 0===n&&(e=0,t=0,r=this.width,n=this.height),r*=o,n*=o,this._pInst?this.drawingContext.putImageData(this._pInst.imageData,e,t,0,0,r,n):this.drawingContext.putImageData(this.imageData,e,t,0,0,r,n)},i.Renderer2D.prototype.arc=function(e,t,r,n,o,a,i,h){if(this._pInst._doStroke||this._pInst._doFill){var p=this.drawingContext,u=s.arcModeAdjust(e,t,r,n,this._pInst._ellipseMode),c=u.w/2,f=u.h/2;return p.beginPath(),h.forEach(function(e,t){0===t&&p.moveTo(u.x+e.x1*c,u.y+e.y1*f),p.bezierCurveTo(u.x+e.x2*c,u.y+e.y2*f,u.x+e.x3*c,u.y+e.y3*f,u.x+e.x4*c,u.y+e.y4*f)}),this._pInst._doFill&&((i===l.PIE||null==i)&&p.lineTo(u.x,u.y),p.closePath(),p.fill(),this._pInst._doStroke&&(i===l.CHORD||i===l.PIE))?(p.stroke(),this):(this._pInst._doStroke&&(i===l.OPEN||null==i)&&(p.beginPath(),h.forEach(function(e,t){0===t&&p.moveTo(u.x+e.x1*c,u.y+e.y1*f),p.bezierCurveTo(u.x+e.x2*c,u.y+e.y2*f,u.x+e.x3*c,u.y+e.y3*f,u.x+e.x4*c,u.y+e.y4*f)}),p.stroke()),this)}},i.Renderer2D.prototype.ellipse=function(e,t,r,n){var o=this.drawingContext,a=this._pInst._doFill,i=this._pInst._doStroke;if(a&&!i){if(o.fillStyle===p)return this}else if(!a&&i&&o.strokeStyle===p)return this;var l=s.modeAdjust(e,t,r,n,this._pInst._ellipseMode),h=.5522848,u=l.w/2*h,c=l.h/2*h,f=l.x+l.w,d=l.y+l.h,m=l.x+l.w/2,g=l.y+l.h/2;o.beginPath(),o.moveTo(l.x,g),o.bezierCurveTo(l.x,g-c,m-u,l.y,m,l.y),o.bezierCurveTo(m+u,l.y,f,g-c,f,g),o.bezierCurveTo(f,g+c,m+u,d,m,d),o.bezierCurveTo(m-u,d,l.x,g+c,l.x,g),o.closePath(),a&&o.fill(),i&&o.stroke()},i.Renderer2D.prototype.line=function(e,t,r,n){var o=this.drawingContext;return this._pInst._doStroke?o.strokeStyle===p?this:(o.lineWidth%2===1&&o.translate(.5,.5),o.beginPath(),o.moveTo(e,t),o.lineTo(r,n),o.stroke(),o.lineWidth%2===1&&o.translate(-.5,-.5),this):this},i.Renderer2D.prototype.point=function(e,t){var r=this.drawingContext,n=r.strokeStyle,o=r.fillStyle;return this._pInst._doStroke?r.strokeStyle===p?this:(e=Math.round(e),t=Math.round(t),r.fillStyle=n,r.lineWidth>1?(r.beginPath(),r.arc(e,t,r.lineWidth/2,0,l.TWO_PI,!1),r.fill()):r.fillRect(e,t,1,1),void(r.fillStyle=o)):this},i.Renderer2D.prototype.quad=function(e,t,r,n,o,a,i,s){var l=this.drawingContext,h=this._pInst._doFill,u=this._pInst._doStroke;if(h&&!u){if(l.fillStyle===p)return this}else if(!h&&u&&l.strokeStyle===p)return this;return l.beginPath(),l.moveTo(e,t),l.lineTo(r,n),l.lineTo(o,a),l.lineTo(i,s),l.closePath(),h&&l.fill(),u&&l.stroke(),this},i.Renderer2D.prototype.rect=function(e,t,r,n,o,a,i,l){var h=this.drawingContext,u=this._pInst._doFill,c=this._pInst._doStroke;if(u&&!c){if(h.fillStyle===p)return this}else if(!u&&c&&h.strokeStyle===p)return this;var f=s.modeAdjust(e,t,r,n,this._pInst._rectMode);if(this._pInst._doStroke&&h.lineWidth%2===1&&h.translate(.5,.5),h.beginPath(),"undefined"==typeof o)h.rect(f.x,f.y,f.w,f.h);else{"undefined"==typeof a&&(a=o),"undefined"==typeof i&&(i=a),"undefined"==typeof l&&(l=i);var d=f.x,m=f.y,g=f.w,y=f.h,v=g/2,_=y/2;2*o>g&&(o=v),2*o>y&&(o=_),2*a>g&&(a=v),2*a>y&&(a=_),2*i>g&&(i=v),2*i>y&&(i=_),2*l>g&&(l=v),2*l>y&&(l=_),h.beginPath(),h.moveTo(d+o,m),h.arcTo(d+g,m,d+g,m+y,a),h.arcTo(d+g,m+y,d,m+y,i),h.arcTo(d,m+y,d,m,l),h.arcTo(d,m,d+g,m,o),h.closePath()}return this._pInst._doFill&&h.fill(),this._pInst._doStroke&&h.stroke(),this._pInst._doStroke&&h.lineWidth%2===1&&h.translate(-.5,-.5),this},i.Renderer2D.prototype.triangle=function(e,t,r,n,o,a){var i=this.drawingContext,s=this._pInst._doFill,l=this._pInst._doStroke;if(s&&!l){if(i.fillStyle===p)return this}else if(!s&&l&&i.strokeStyle===p)return this;i.beginPath(),i.moveTo(e,t),i.lineTo(r,n),i.lineTo(o,a),i.closePath(),s&&i.fill(),l&&i.stroke()},i.Renderer2D.prototype.endShape=function(e,t,r,n,o,a,i){if(0===t.length)return this;if(!this._pInst._doStroke&&!this._pInst._doFill)return this;var s,h=e===l.CLOSE;h&&!a&&t.push(t[0]);var p,u,c=t.length;if(!r||i!==l.POLYGON&&null!==i)if(!n||i!==l.POLYGON&&null!==i)if(!o||i!==l.POLYGON&&null!==i)if(i===l.POINTS)for(p=0;c>p;p++)s=t[p],this._pInst._doStroke&&this._pInst.stroke(s[6]),this._pInst.point(s[0],s[1]);else if(i===l.LINES)for(p=0;c>p+1;p+=2)s=t[p],this._pInst._doStroke&&this._pInst.stroke(t[p+1][6]),this._pInst.line(s[0],s[1],t[p+1][0],t[p+1][1]);else if(i===l.TRIANGLES)for(p=0;c>p+2;p+=3)s=t[p],this.drawingContext.beginPath(),this.drawingContext.moveTo(s[0],s[1]),this.drawingContext.lineTo(t[p+1][0],t[p+1][1]),this.drawingContext.lineTo(t[p+2][0],t[p+2][1]),this.drawingContext.lineTo(s[0],s[1]),this._pInst._doFill&&(this._pInst.fill(t[p+2][5]),this.drawingContext.fill()),this._pInst._doStroke&&(this._pInst.stroke(t[p+2][6]),this.drawingContext.stroke()),this.drawingContext.closePath();else if(i===l.TRIANGLE_STRIP)for(p=0;c>p+1;p++)s=t[p],this.drawingContext.beginPath(),this.drawingContext.moveTo(t[p+1][0],t[p+1][1]),this.drawingContext.lineTo(s[0],s[1]),this._pInst._doStroke&&this._pInst.stroke(t[p+1][6]),this._pInst._doFill&&this._pInst.fill(t[p+1][5]),c>p+2&&(this.drawingContext.lineTo(t[p+2][0],t[p+2][1]),this._pInst._doStroke&&this._pInst.stroke(t[p+2][6]),this._pInst._doFill&&this._pInst.fill(t[p+2][5])),this._doFillStrokeClose();else if(i===l.TRIANGLE_FAN){if(c>2)for(this.drawingContext.beginPath(),this.drawingContext.moveTo(t[0][0],t[0][1]),this.drawingContext.lineTo(t[1][0],t[1][1]),this.drawingContext.lineTo(t[2][0],t[2][1]),this._pInst._doFill&&this._pInst.fill(t[2][5]),this._pInst._doStroke&&this._pInst.stroke(t[2][6]),this._doFillStrokeClose(),p=3;c>p;p++)s=t[p],this.drawingContext.beginPath(),this.drawingContext.moveTo(t[0][0],t[0][1]),this.drawingContext.lineTo(t[p-1][0],t[p-1][1]),this.drawingContext.lineTo(s[0],s[1]),this._pInst._doFill&&this._pInst.fill(s[5]),this._pInst._doStroke&&this._pInst.stroke(s[6]),this._doFillStrokeClose()}else if(i===l.QUADS)for(p=0;c>p+3;p+=4){for(s=t[p],this.drawingContext.beginPath(),this.drawingContext.moveTo(s[0],s[1]),u=1;4>u;u++)this.drawingContext.lineTo(t[p+u][0],t[p+u][1]);this.drawingContext.lineTo(s[0],s[1]),this._pInst._doFill&&this._pInst.fill(t[p+3][5]),this._pInst._doStroke&&this._pInst.stroke(t[p+3][6]),this._doFillStrokeClose()}else if(i===l.QUAD_STRIP){if(c>3)for(p=0;c>p+1;p+=2)s=t[p],this.drawingContext.beginPath(),c>p+3?(this.drawingContext.moveTo(t[p+2][0],t[p+2][1]),this.drawingContext.lineTo(s[0],s[1]),this.drawingContext.lineTo(t[p+1][0],t[p+1][1]),this.drawingContext.lineTo(t[p+3][0],t[p+3][1]),this._pInst._doFill&&this._pInst.fill(t[p+3][5]),this._pInst._doStroke&&this._pInst.stroke(t[p+3][6])):(this.drawingContext.moveTo(s[0],s[1]),this.drawingContext.lineTo(t[p+1][0],t[p+1][1])),this._doFillStrokeClose()}else{for(this.drawingContext.beginPath(),this.drawingContext.moveTo(t[0][0],t[0][1]),p=1;c>p;p++)s=t[p],s.isVert&&(s.moveTo?this.drawingContext.moveTo(s[0],s[1]):this.drawingContext.lineTo(s[0],s[1]));this._doFillStrokeClose()}else{for(this.drawingContext.beginPath(),p=0;c>p;p++)t[p].isVert?t[p].moveTo?this.drawingContext.moveTo([0],t[p][1]):this.drawingContext.lineTo(t[p][0],t[p][1]):this.drawingContext.quadraticCurveTo(t[p][0],t[p][1],t[p][2],t[p][3]);this._doFillStrokeClose()}else{for(this.drawingContext.beginPath(),p=0;c>p;p++)t[p].isVert?t[p].moveTo?this.drawingContext.moveTo(t[p][0],t[p][1]):this.drawingContext.lineTo(t[p][0],t[p][1]):this.drawingContext.bezierCurveTo(t[p][0],t[p][1],t[p][2],t[p][3],t[p][4],t[p][5]);this._doFillStrokeClose()}else if(c>3){var f=[],d=1-this._pInst._curveTightness;for(this.drawingContext.beginPath(),this.drawingContext.moveTo(t[1][0],t[1][1]),p=1;c>p+2;p++)s=t[p],f[0]=[s[0],s[1]],f[1]=[s[0]+(d*t[p+1][0]-d*t[p-1][0])/6,s[1]+(d*t[p+1][1]-d*t[p-1][1])/6],f[2]=[t[p+1][0]+(d*t[p][0]-d*t[p+2][0])/6,t[p+1][1]+(d*t[p][1]-d*t[p+2][1])/6],f[3]=[t[p+1][0],t[p+1][1]],this.drawingContext.bezierCurveTo(f[1][0],f[1][1],f[2][0],f[2][1],f[3][0],f[3][1]);h&&this.drawingContext.lineTo(t[p+1][0],t[p+1][1]),this._doFillStrokeClose()}return r=!1,n=!1,o=!1,a=!1,h&&t.pop(),this},i.Renderer2D.prototype.noSmooth=function(){return"imageSmoothingEnabled"in this.drawingContext?this.drawingContext.imageSmoothingEnabled=!1:"mozImageSmoothingEnabled"in this.drawingContext?this.drawingContext.mozImageSmoothingEnabled=!1:"webkitImageSmoothingEnabled"in this.drawingContext?this.drawingContext.webkitImageSmoothingEnabled=!1:"msImageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.msImageSmoothingEnabled=!1),this},i.Renderer2D.prototype.smooth=function(){return"imageSmoothingEnabled"in this.drawingContext?this.drawingContext.imageSmoothingEnabled=!0:"mozImageSmoothingEnabled"in this.drawingContext?this.drawingContext.mozImageSmoothingEnabled=!0:"webkitImageSmoothingEnabled"in this.drawingContext?this.drawingContext.webkitImageSmoothingEnabled=!0:"msImageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.msImageSmoothingEnabled=!0),this},i.Renderer2D.prototype.strokeCap=function(e){return(e===l.ROUND||e===l.SQUARE||e===l.PROJECT)&&(this.drawingContext.lineCap=e),this},i.Renderer2D.prototype.strokeJoin=function(e){return(e===l.ROUND||e===l.BEVEL||e===l.MITER)&&(this.drawingContext.lineJoin=e),this},i.Renderer2D.prototype.strokeWeight=function(e){return"undefined"==typeof e||0===e?this.drawingContext.lineWidth=1e-4:this.drawingContext.lineWidth=e,this},i.Renderer2D.prototype._getFill=function(){return this.drawingContext.fillStyle},i.Renderer2D.prototype._getStroke=function(){return this.drawingContext.strokeStyle},i.Renderer2D.prototype.bezier=function(e,t,r,n,o,a,i,s){return this._pInst.beginShape(),this._pInst.vertex(e,t),this._pInst.bezierVertex(r,n,o,a,i,s),this._pInst.endShape(),this},i.Renderer2D.prototype.curve=function(e,t,r,n,o,a,i,s){return this._pInst.beginShape(),this._pInst.curveVertex(e,t),this._pInst.curveVertex(r,n),this._pInst.curveVertex(o,a),this._pInst.curveVertex(i,s),this._pInst.endShape(),this},i.Renderer2D.prototype._doFillStrokeClose=function(){this._pInst._doFill&&this.drawingContext.fill(),this._pInst._doStroke&&this.drawingContext.stroke(),this.drawingContext.closePath()},i.Renderer2D.prototype.applyMatrix=function(e,t,r,n,o,a){this.drawingContext.transform(e,t,r,n,o,a)},i.Renderer2D.prototype.resetMatrix=function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this},i.Renderer2D.prototype.rotate=function(e){this.drawingContext.rotate(e)},i.Renderer2D.prototype.scale=function(){var e=1,t=1;return 1===arguments.length?e=t=arguments[0]:(e=arguments[0],t=arguments[1]),this.drawingContext.scale(e,t),this},i.Renderer2D.prototype.shearX=function(e){return this._pInst._angleMode===l.DEGREES&&(e=this._pInst.radians(e)),this.drawingContext.transform(1,0,this._pInst.tan(e),1,0,0),this},i.Renderer2D.prototype.shearY=function(e){return this._pInst._angleMode===l.DEGREES&&(e=this._pInst.radians(e)),this.drawingContext.transform(1,this._pInst.tan(e),0,1,0,0),this},i.Renderer2D.prototype.translate=function(e,t){return this.drawingContext.translate(e,t),this},i.Renderer2D.prototype.text=function(e,t,r,n,o){var a,i,s,h,p,u,c,f,d,m,g=this._pInst;if(g._doFill||g._doStroke){if("string"!=typeof e&&(e=e.toString()),e=e.replace(/(\t)/g,"  "),a=e.split("\n"),"undefined"!=typeof n){for(d=0,s=0;s<a.length;s++)for(p="",f=a[s].split(" "),i=0;i<f.length;i++)u=p+f[i]+" ",c=this.textWidth(u),c>n?(p=f[i]+" ",d+=g.textLeading()):p=u;switch(this.drawingContext.textAlign){case l.CENTER:t+=n/2;break;case l.RIGHT:t+=n}if("undefined"!=typeof o)switch(this.drawingContext.textBaseline){case l.BOTTOM:r+=o-d;break;case l._CTX_MIDDLE:r+=(o-d)/2;break;case l.BASELINE:m=!0,this.drawingContext.textBaseline=l.TOP}for(s=0;s<a.length;s++){for(p="",f=a[s].split(" "),i=0;i<f.length;i++)u=p+f[i]+" ",c=this.textWidth(u),c>n?(this._renderText(g,p,t,r),p=f[i]+" ",r+=g.textLeading()):p=u;this._renderText(g,p,t,r),r+=g.textLeading()}}else for(h=0;h<a.length;h++)this._renderText(g,a[h],t,r),r+=g.textLeading();return m&&(this.drawingContext.textBaseline=l.BASELINE),g}},i.Renderer2D.prototype._renderText=function(e,t,r,n){return e._isOpenType()?e._textFont._renderPath(t,r,n):(e._doStroke&&e._strokeSet&&this.drawingContext.strokeText(t,r,n),e._doFill&&(this.drawingContext.fillStyle=e._fillSet?this.drawingContext.fillStyle:l._DEFAULT_TEXT_FILL,this.drawingContext.fillText(t,r,n)),e)},i.Renderer2D.prototype.textWidth=function(e){return this._pInst._isOpenType()?this._pInst._textFont._textWidth(e):this.drawingContext.measureText(e).width},i.Renderer2D.prototype.textAlign=function(e,t){if(arguments.length)return(e===l.LEFT||e===l.RIGHT||e===l.CENTER)&&(this.drawingContext.textAlign=e),(t===l.TOP||t===l.BOTTOM||t===l.CENTER||t===l.BASELINE)&&(t===l.CENTER?this.drawingContext.textBaseline=l._CTX_MIDDLE:this.drawingContext.textBaseline=t),this._pInst;var r=this.drawingContext.textBaseline;return r===l._CTX_MIDDLE&&(r=l.CENTER),{horizontal:this.drawingContext.textAlign,vertical:r}},i.Renderer2D.prototype._applyTextProperties=function(){var e,t=this._pInst;return t._setProperty("_textAscent",null),t._setProperty("_textDescent",null),e=t._textFont,t._isOpenType()&&(e=t._textFont.font.familyName,t._setProperty("_textStyle",t._textFont.font.styleName)),this.drawingContext.font=t._textStyle+" "+t._textSize+"px "+e,t},i.Renderer2D.prototype.push=function(){this.drawingContext.save()},i.Renderer2D.prototype.pop=function(){this.drawingContext.restore()},i.Renderer2D}({},amdclean.core_core,amdclean.core_canvas,amdclean.core_constants,amdclean.image_filters,amdclean.core_p5Renderer),amdclean.image_p5Image=function(e,t,r){"use strict";var n=t,o=r;return n.Image=function(e,t){this.width=e,this.height=t,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),this.pixelDensity=1,this.pixels=[]},n.Image.prototype._setProperty=function(e,t){this[e]=t},n.Image.prototype.loadPixels=function(){n.Renderer2D.prototype.loadPixels.call(this)},n.Image.prototype.updatePixels=function(e,t,r,o){n.Renderer2D.prototype.updatePixels.call(this,e,t,r,o)},n.Image.prototype.get=function(e,t,r,o){return n.Renderer2D.prototype.get.call(this,e,t,r,o)},n.Image.prototype.set=function(e,t,r){n.Renderer2D.prototype.set.call(this,e,t,r)},n.Image.prototype.resize=function(e,t){e=e||this.canvas.width,t=t||this.canvas.height;var r=document.createElement("canvas");r.width=e,r.height=t,r.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,r.width,r.height),this.canvas.width=this.width=e,this.canvas.height=this.height=t,this.drawingContext.drawImage(r,0,0,e,t,0,0,e,t),this.pixels.length>0&&this.loadPixels()},n.Image.prototype.copy=function(){n.prototype.copy.apply(this,arguments)},n.Image.prototype.mask=function(e){void 0===e&&(e=this);var t=this.drawingContext.globalCompositeOperation,r=1;e instanceof n.Renderer&&(r=e._pInst.pixelDensity);var o=[e,0,0,r*e.width,r*e.height,0,0,this.width,this.height];this.drawingContext.globalCompositeOperation="destination-in",this.copy.apply(this,o),this.drawingContext.globalCompositeOperation=t},n.Image.prototype.filter=function(e,t){o.apply(this.canvas,o[e.toLowerCase()],t)},n.Image.prototype.blend=function(){n.prototype.blend.apply(this,arguments)},n.Image.prototype.save=function(e,t){var r;if(t)switch(t.toLowerCase()){case"png":r="image/png";break;case"jpeg":r="image/jpeg";break;case"jpg":r="image/jpeg";break;default:r="image/png"}else t="png",r="image/png";var o="image/octet-stream",a=this.canvas.toDataURL(r);a=a.replace(r,o),n.prototype.downloadFile(a,e,t)},n.Image}({},amdclean.core_core,amdclean.image_filters),amdclean.math_polargeometry=function(e){return{degreesToRadians:function(e){return 2*Math.PI*e/360},radiansToDegrees:function(e){return 360*e/(2*Math.PI)}}}({}),amdclean.math_p5Vector=function(e,t,r,n){"use strict";var o=t,a=r,i=n;return o.Vector=function(){var e,t,r;arguments[0]instanceof o?(this.p5=arguments[0],e=arguments[1][0]||0,t=arguments[1][1]||0,r=arguments[1][2]||0):(e=arguments[0]||0,t=arguments[1]||0,r=arguments[2]||0),this.x=e,this.y=t,this.z=r},o.Vector.prototype.toString=function(){return"p5.Vector Object : ["+this.x+", "+this.y+", "+this.z+"]"},o.Vector.prototype.set=function(e,t,r){return e instanceof o.Vector?(this.x=e.x||0,this.y=e.y||0,this.z=e.z||0,this):e instanceof Array?(this.x=e[0]||0,this.y=e[1]||0,this.z=e[2]||0,this):(this.x=e||0,this.y=t||0,this.z=r||0,this)},o.Vector.prototype.copy=function(){return this.p5?new o.Vector(this.p5,[this.x,this.y,this.z]):new o.Vector(this.x,this.y,this.z)},o.Vector.prototype.add=function(e,t,r){return e instanceof o.Vector?(this.x+=e.x||0,this.y+=e.y||0,this.z+=e.z||0,this):e instanceof Array?(this.x+=e[0]||0,this.y+=e[1]||0,this.z+=e[2]||0,this):(this.x+=e||0,this.y+=t||0,this.z+=r||0,this)},o.Vector.prototype.sub=function(e,t,r){return e instanceof o.Vector?(this.x-=e.x||0,this.y-=e.y||0,this.z-=e.z||0,this):e instanceof Array?(this.x-=e[0]||0,this.y-=e[1]||0,this.z-=e[2]||0,this):(this.x-=e||0,this.y-=t||0,this.z-=r||0,this)},o.Vector.prototype.mult=function(e){return this.x*=e||0,this.y*=e||0,this.z*=e||0,this},o.Vector.prototype.div=function(e){return this.x/=e,this.y/=e,this.z/=e,this},o.Vector.prototype.mag=function(){return Math.sqrt(this.magSq())},o.Vector.prototype.magSq=function(){var e=this.x,t=this.y,r=this.z;return e*e+t*t+r*r},o.Vector.prototype.dot=function(e,t,r){return e instanceof o.Vector?this.dot(e.x,e.y,e.z):this.x*(e||0)+this.y*(t||0)+this.z*(r||0)},o.Vector.prototype.cross=function(e){var t=this.y*e.z-this.z*e.y,r=this.z*e.x-this.x*e.z,n=this.x*e.y-this.y*e.x;return this.p5?new o.Vector(this.p5,[t,r,n]):new o.Vector(t,r,n)},o.Vector.prototype.dist=function(e){var t=e.copy().sub(this);return t.mag()},o.Vector.prototype.normalize=function(){return this.div(this.mag())},o.Vector.prototype.limit=function(e){var t=this.magSq();return t>e*e&&(this.div(Math.sqrt(t)),this.mult(e)),this},o.Vector.prototype.setMag=function(e){return this.normalize().mult(e)},o.Vector.prototype.heading=function(){var e=Math.atan2(this.y,this.x);return this.p5?this.p5._angleMode===i.RADIANS?e:a.radiansToDegrees(e):e},o.Vector.prototype.rotate=function(e){this.p5&&this.p5._angleMode===i.DEGREES&&(e=a.degreesToRadians(e));var t=this.heading()+e,r=this.mag();return this.x=Math.cos(t)*r,this.y=Math.sin(t)*r,this},o.Vector.prototype.lerp=function(e,t,r,n){return e instanceof o.Vector?this.lerp(e.x,e.y,e.z,t):(this.x+=(e-this.x)*n||0,this.y+=(t-this.y)*n||0,this.z+=(r-this.z)*n||0,this)},o.Vector.prototype.array=function(){return[this.x||0,this.y||0,this.z||0]},o.Vector.prototype.equals=function(e,t,r){var n,a,i;return e instanceof o.Vector?(n=e.x||0,a=e.y||0,i=e.z||0):e instanceof Array?(n=e[0]||0,a=e[1]||0,i=e[2]||0):(n=e||0,a=t||0,i=r||0),this.x===n&&this.y===a&&this.z===i},o.Vector.fromAngle=function(e){return this.p5&&this.p5._angleMode===i.DEGREES&&(e=a.degreesToRadians(e)),this.p5?new o.Vector(this.p5,[Math.cos(e),Math.sin(e),0]):new o.Vector(Math.cos(e),Math.sin(e),0)},o.Vector.random2D=function(){var e;return e=this.p5?this.p5._angleMode===i.DEGREES?this.p5.random(360):this.p5.random(i.TWO_PI):Math.random()*Math.PI*2,this.fromAngle(e)},o.Vector.random3D=function(){var e,t;this.p5?(e=this.p5.random(0,i.TWO_PI),t=this.p5.random(-1,1)):(e=Math.random()*Math.PI*2,t=2*Math.random()-1);var r=Math.sqrt(1-t*t)*Math.cos(e),n=Math.sqrt(1-t*t)*Math.sin(e);return this.p5?new o.Vector(this.p5,[r,n,t]):new o.Vector(r,n,t)},o.Vector.add=function(e,t,r){return r?r.set(e):r=e.copy(),r.add(t),r},o.Vector.sub=function(e,t,r){return r?r.set(e):r=e.copy(),r.sub(t),r},o.Vector.mult=function(e,t,r){return r?r.set(e):r=e.copy(),r.mult(t),r},o.Vector.div=function(e,t,r){return r?r.set(e):r=e.copy(),r.div(t),r},o.Vector.dot=function(e,t){return e.dot(t)},o.Vector.cross=function(e,t){return e.cross(t)},o.Vector.dist=function(e,t){return e.dist(t)},o.Vector.lerp=function(e,t,r,n){return n?n.set(e):n=e.copy(),n.lerp(t,r),n},o.Vector.angleBetween=function(e,t){var r=Math.acos(e.dot(t)/(e.mag()*t.mag()));return this.p5&&this.p5._angleMode===i.DEGREES&&(r=a.radiansToDegrees(r)),r},o.Vector}({},amdclean.core_core,amdclean.math_polargeometry,amdclean.core_constants),amdclean.io_p5TableRow=function(e,t){"use strict";var r=t;return r.TableRow=function(e,t){var r=[],n={};e&&(t=t||",",r=e.split(t));for(var o=0;o<r.length;o++){var a=o,i=r[o];n[a]=i}this.arr=r,this.obj=n,this.table=null},r.TableRow.prototype.set=function(e,t){if("string"==typeof e){var r=this.table.columns.indexOf(e);if(!(r>=0))throw'This table has no column named "'+e+'"';this.obj[e]=t,this.arr[r]=t}else{if(!(e<this.table.columns.length))throw"Column #"+e+" is out of the range of this table";this.arr[e]=t;var n=this.table.columns[e];this.obj[n]=t}},r.TableRow.prototype.setNum=function(e,t){var r=parseFloat(t,10);this.set(e,r)},r.TableRow.prototype.setString=function(e,t){var r=t.toString();this.set(e,r)},r.TableRow.prototype.get=function(e){return"string"==typeof e?this.obj[e]:this.arr[e]},r.TableRow.prototype.getNum=function(e){var t;if(t="string"==typeof e?parseFloat(this.obj[e],10):parseFloat(this.arr[e],10),"NaN"===t.toString())throw"Error: "+this.obj[e]+" is NaN (Not a Number)";return t},r.TableRow.prototype.getString=function(e){return"string"==typeof e?this.obj[e].toString():this.arr[e].toString()},r.TableRow}({},amdclean.core_core),amdclean.io_p5Table=function(e,t){"use strict";var r=t;return r.Table=function(e){this.columns=[],this.rows=[]},r.Table.prototype.addRow=function(e){var t=e||new r.TableRow;if("undefined"==typeof t.arr||"undefined"==typeof t.obj)throw"invalid TableRow: "+t;return t.table=this,this.rows.push(t),t},r.Table.prototype.removeRow=function(e){this.rows[e].table=null;var t=this.rows.splice(e+1,this.rows.length);this.rows.pop(),this.rows=this.rows.concat(t)},r.Table.prototype.getRow=function(e){return this.rows[e]},r.Table.prototype.getRows=function(){return this.rows},r.Table.prototype.findRow=function(e,t){if("string"==typeof t){for(var r=0;r<this.rows.length;r++)if(this.rows[r].obj[t]===e)return this.rows[r]}else for(var n=0;n<this.rows.length;n++)if(this.rows[n].arr[t]===e)return this.rows[n];return null},r.Table.prototype.findRows=function(e,t){var r=[];if("string"==typeof t)for(var n=0;n<this.rows.length;n++)this.rows[n].obj[t]===e&&r.push(this.rows[n]);else for(var o=0;o<this.rows.length;o++)this.rows[o].arr[t]===e&&r.push(this.rows[o]);return r},r.Table.prototype.matchRow=function(e,t){if("number"==typeof t){for(var r=0;r<this.rows.length;r++)if(this.rows[r].arr[t].match(e))return this.rows[r]}else for(var n=0;n<this.rows.length;n++)if(this.rows[n].obj[t].match(e))return this.rows[n];return null},r.Table.prototype.matchRows=function(e,t){var r=[];if("number"==typeof t)for(var n=0;n<this.rows.length;n++)this.rows[n].arr[t].match(e)&&r.push(this.rows[n]);else for(var o=0;o<this.rows.length;o++)this.rows[o].obj[t].match(e)&&r.push(this.rows[o]);return r},r.Table.prototype.getColumn=function(e){var t=[];if("string"==typeof e)for(var r=0;r<this.rows.length;r++)t.push(this.rows[r].obj[e]);else for(var n=0;n<this.rows.length;n++)t.push(this.rows[n].arr[e]);return t},r.Table.prototype.clearRows=function(){delete this.rows,this.rows=[]},r.Table.prototype.addColumn=function(e){var t=e||null;this.columns.push(t)},r.Table.prototype.getColumnCount=function(){return this.columns.length},r.Table.prototype.getRowCount=function(){return this.rows.length},r.Table.prototype.removeTokens=function(e,t){for(var r=function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},n=[],o=0;o<e.length;o++)n.push(r(e.charAt(o)));var a=new RegExp(n.join("|"),"g");if("undefined"==typeof t)for(var i=0;i<this.columns.length;i++)for(var s=0;s<this.rows.length;s++){var l=this.rows[s].arr[i];l=l.replace(a,""),this.rows[s].arr[i]=l,this.rows[s].obj[this.columns[i]]=l}else if("string"==typeof t)for(var h=0;h<this.rows.length;h++){var p=this.rows[h].obj[t];p=p.replace(a,""),this.rows[h].obj[t]=p;var u=this.columns.indexOf(t);this.rows[h].arr[u]=p}else for(var c=0;c<this.rows.length;c++){var f=this.rows[c].arr[t];f=f.replace(a,""),this.rows[c].arr[t]=f,this.rows[c].obj[this.columns[t]]=f}},r.Table.prototype.trim=function(e){var t=new RegExp(" ","g");if("undefined"==typeof e)for(var r=0;r<this.columns.length;r++)for(var n=0;n<this.rows.length;n++){var o=this.rows[n].arr[r];o=o.replace(t,""),this.rows[n].arr[r]=o,this.rows[n].obj[this.columns[r]]=o}else if("string"==typeof e)for(var a=0;a<this.rows.length;a++){var i=this.rows[a].obj[e];i=i.replace(t,""),this.rows[a].obj[e]=i;var s=this.columns.indexOf(e);this.rows[a].arr[s]=i}else for(var l=0;l<this.rows.length;l++){var h=this.rows[l].arr[e];h=h.replace(t,""),this.rows[l].arr[e]=h,this.rows[l].obj[this.columns[e]]=h}},r.Table.prototype.removeColumn=function(e){var t,r;"string"==typeof e?(t=e,r=this.columns.indexOf(e),void 0):(r=e,t=this.columns[e]);var n=this.columns.splice(r+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(n);for(var o=0;o<this.rows.length;o++){var a=this.rows[o].arr,i=a.splice(r+1,a.length);a.pop(),this.rows[o].arr=a.concat(i),delete this.rows[o].obj[t]}},r.Table.prototype.set=function(e,t,r){this.rows[e].set(t,r)},r.Table.prototype.setNum=function(e,t,r){this.rows[e].set(t,r)},r.Table.prototype.setString=function(e,t,r){this.rows[e].set(t,r)},r.Table.prototype.get=function(e,t){return this.rows[e].get(t)},r.Table.prototype.getNum=function(e,t){return this.rows[e].getNum(t)},r.Table.prototype.getString=function(e,t){return this.rows[e].getString(t)},r.Table.prototype.getObject=function(e){for(var t,r,n,o={},a=0;a<this.rows.length;a++)if(t=this.rows[a].obj,"string"==typeof e){if(r=this.columns.indexOf(e),!(r>=0))throw'This table has no column named "'+e+'"';n=t[e],o[n]=t}else o[a]=this.rows[a].obj;return o},r.Table.prototype.getArray=function(){for(var e=[],t=0;t<this.rows.length;t++)e.push(this.rows[t].arr);return e},r.Table}({},amdclean.core_core),amdclean.color_creating_reading=function(e,t,r){"use strict";var n=t;return n.prototype.alpha=function(e){if(e instanceof n.Color||e instanceof Array)return this.color(e).getAlpha();throw new Error("Needs p5.Color or pixel array as argument.")},n.prototype.blue=function(e){if(e instanceof n.Color||e instanceof Array)return this.color(e).getBlue();throw new Error("Needs p5.Color or pixel array as argument.")},n.prototype.brightness=function(e){if(e instanceof n.Color||e instanceof Array)return this.color(e).getBrightness();throw new Error("Needs p5.Color or pixel array as argument.")},n.prototype.color=function(){if(arguments[0]instanceof n.Color)return arguments[0];if(arguments[0]instanceof Array)return new n.Color(this,arguments[0]);var e=Array.prototype.slice.call(arguments);return new n.Color(this,e)},n.prototype.green=function(e){if(e instanceof n.Color||e instanceof Array)return this.color(e).getGreen();throw new Error("Needs p5.Color or pixel array as argument.")},n.prototype.hue=function(e){if(!e instanceof n.Color)throw new Error("Needs p5.Color as argument.");return e.getHue()},n.prototype.lerpColor=function(e,t,r){if(r=Math.max(Math.min(r,1),0),e instanceof Array){for(var o=[],a=0;a<e.length;a++)o.push(Math.sqrt(n.prototype.lerp(e[a]*e[a],t[a]*t[a],r)));return o}if(e instanceof n.Color){for(var i=[],s=0;4>s;s++)i.push(Math.sqrt(n.prototype.lerp(e.rgba[s]*e.rgba[s],t.rgba[s]*t.rgba[s],r)));return new n.Color(this,i)}return Math.sqrt(n.prototype.lerp(e*e,t*t,r))},n.prototype.lightness=function(e){if(e instanceof n.Color||e instanceof Array)return this.color(e).getLightness();throw new Error("Needs p5.Color or pixel array as argument.")},n.prototype.red=function(e){if(e instanceof n.Color||e instanceof Array)return this.color(e).getRed();throw new Error("Needs p5.Color or pixel array as argument.")},n.prototype.saturation=function(e){if(!e instanceof n.Color)throw new Error("Needs p5.Color as argument.");return e.getSaturation()},n}({},amdclean.core_core,amdclean.color_p5Color),amdclean.color_setting=function(e,t,r,n){"use strict";var o=t,a=r;return o.prototype._doStroke=!0,o.prototype._doFill=!0,o.prototype._strokeSet=!1,o.prototype._fillSet=!1,o.prototype._colorMode=a.RGB,o.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},o.prototype.background=function(){return arguments[0]instanceof o.Image?this.image(arguments[0],0,0,this.width,this.height):this._graphics.background.apply(this._graphics,arguments),this},o.prototype.clear=function(){return this._graphics.clear(),this},o.prototype.colorMode=function(){if(arguments[0]===a.RGB||arguments[0]===a.HSB||arguments[0]===a.HSL){this._colorMode=arguments[0];var e=this._colorMaxes[this._colorMode];2===arguments.length?(e[0]=arguments[1],e[1]=arguments[1],e[2]=arguments[1],e[3]=arguments[1]):arguments.length>2&&(e[0]=arguments[1],e[1]=arguments[2],e[2]=arguments[3]),5===arguments.length&&(e[3]=arguments[4])}return this},o.prototype.fill=function(){return this._setProperty("_fillSet",!0),this._setProperty("_doFill",!0),this._graphics.fill.apply(this._graphics,arguments),this},o.prototype.noFill=function(){return this._setProperty("_doFill",!1),this},o.prototype.noStroke=function(){return this._setProperty("_doStroke",!1),this},o.prototype.stroke=function(){return this._setProperty("_strokeSet",!0),this._setProperty("_doStroke",!0),this._graphics.stroke.apply(this._graphics,arguments),this},o}({},amdclean.core_core,amdclean.core_constants,amdclean.color_p5Color),amdclean.utilities_conversion=function(e,t){"use strict";var r=t;return r.prototype["float"]=function(e){return parseFloat(e)},r.prototype["int"]=function(e,t){return"string"==typeof e?(t=t||10,parseInt(e,t)):"number"==typeof e?0|e:"boolean"==typeof e?e?1:0:e instanceof Array?e.map(function(e){return r.prototype["int"](e,t)}):void 0},r.prototype.str=function(e){return e instanceof Array?e.map(r.prototype.str):String(e)},r.prototype["boolean"]=function(e){return"number"==typeof e?0!==e:"string"==typeof e?"true"===e.toLowerCase():"boolean"==typeof e?e:e instanceof Array?e.map(r.prototype["boolean"]):void 0},r.prototype["byte"]=function(e){var t=r.prototype["int"](e,10);return"number"==typeof t?(t+128)%256-128:t instanceof Array?t.map(r.prototype["byte"]):void 0;
},r.prototype["char"]=function(e){return"number"!=typeof e||isNaN(e)?e instanceof Array?e.map(r.prototype["char"]):"string"==typeof e?r.prototype["char"](parseInt(e,10)):void 0:String.fromCharCode(e)},r.prototype.unchar=function(e){return"string"==typeof e&&1===e.length?e.charCodeAt(0):e instanceof Array?e.map(r.prototype.unchar):void 0},r.prototype.hex=function(e,t){if(t=void 0===t||null===t?t=8:t,e instanceof Array)return e.map(function(e){return r.prototype.hex(e,t)});if("number"==typeof e){0>e&&(e=4294967295+e+1);for(var n=Number(e).toString(16).toUpperCase();n.length<t;)n="0"+n;return n.length>=t&&(n=n.substring(n.length-t,n.length)),n}},r.prototype.unhex=function(e){return e instanceof Array?e.map(r.prototype.unhex):parseInt("0x"+e,16)},r}({},amdclean.core_core),amdclean.utilities_array_functions=function(e,t){"use strict";var r=t;return r.prototype.append=function(e,t){return e.push(t),e},r.prototype.arrayCopy=function(e,t,r,n,o){var a,i;"undefined"!=typeof o?(i=Math.min(o,e.length),a=n,e=e.slice(t,i+t)):("undefined"!=typeof r?(i=r,i=Math.min(i,e.length)):i=e.length,a=0,r=t,e=e.slice(0,i)),Array.prototype.splice.apply(r,[a,i].concat(e))},r.prototype.concat=function(e,t){return e.concat(t)},r.prototype.reverse=function(e){return e.reverse()},r.prototype.shorten=function(e){return e.pop(),e},r.prototype.shuffle=function(e,t){e=t||ArrayBuffer.isView(e)?e:e.slice();for(var r,n,o=e.length;o>1;)r=Math.random()*o|0,n=e[--o],e[o]=e[r],e[r]=n;return e},r.prototype.sort=function(e,t){var r=t?e.slice(0,Math.min(t,e.length)):e,n=t?e.slice(Math.min(t,e.length)):[];return r="string"==typeof r[0]?r.sort():r.sort(function(e,t){return e-t}),r.concat(n)},r.prototype.splice=function(e,t,r){return Array.prototype.splice.apply(e,[r,0].concat(t)),e},r.prototype.subset=function(e,t,r){return"undefined"!=typeof r?e.slice(t,t+r):e.slice(t,e.length)},r}({},amdclean.core_core),amdclean.utilities_string_functions=function(e,t){"use strict";function r(){var e=arguments[0],t=0>e,r=t?e.toString().substring(1):e.toString(),n=r.indexOf("."),o=-1!==n?r.substring(0,n):r,a=-1!==n?r.substring(n+1):"",i=t?"-":"";if(3===arguments.length){var s="";(-1!==n||arguments[2]-a.length>0)&&(s="."),a.length>arguments[2]&&(a=a.substring(0,arguments[2]));for(var l=0;l<arguments[1]-o.length;l++)i+="0";i+=o,i+=s,i+=a;for(var h=0;h<arguments[2]-a.length;h++)i+="0";return i}for(var p=0;p<Math.max(arguments[1]-o.length,0);p++)i+="0";return i+=r}function n(){var e=arguments[0].toString(),t=e.indexOf("."),r=-1!==t?e.substring(t):"",n=-1!==t?e.substring(0,t):e;if(n=n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),0===arguments[1])r="";else if(void 0!==arguments[1])if(arguments[1]>r.length){r+=-1===t?".":"";for(var o=arguments[1]-r.length+1,a=0;o>a;a++)r+="0"}else r=r.substring(0,arguments[1]+1);return n+r}function o(){return parseFloat(arguments[0])>0?"+"+arguments[0].toString():arguments[0].toString()}function a(){return parseFloat(arguments[0])>0?" "+arguments[0].toString():arguments[0].toString()}var i=t;return i.prototype.join=function(e,t){return e.join(t)},i.prototype.match=function(e,t){return e.match(t)},i.prototype.matchAll=function(e,t){for(var r=new RegExp(t,"g"),n=r.exec(e),o=[];null!==n;)o.push(n),n=r.exec(e);return o},i.prototype.nf=function(){if(arguments[0]instanceof Array){var e=arguments[1],t=arguments[2];return arguments[0].map(function(n){return r(n,e,t)})}var n=Object.prototype.toString.call(arguments[0]);return"[object Arguments]"===n?3===arguments[0].length?this.nf(arguments[0][0],arguments[0][1],arguments[0][2]):2===arguments[0].length?this.nf(arguments[0][0],arguments[0][1]):this.nf(arguments[0][0]):r.apply(this,arguments)},i.prototype.nfc=function(){if(arguments[0]instanceof Array){var e=arguments[1];return arguments[0].map(function(t){return n(t,e)})}return n.apply(this,arguments)},i.prototype.nfp=function(){var e=this.nf.apply(this,arguments);return e instanceof Array?e.map(o):o(e)},i.prototype.nfs=function(){var e=this.nf.apply(this,arguments);return e instanceof Array?e.map(a):a(e)},i.prototype.split=function(e,t){return e.split(t)},i.prototype.splitTokens=function(){var e=arguments.length>0?arguments[1]:/\s/g;return arguments[0].split(e).filter(function(e){return e})},i.prototype.trim=function(e){return e instanceof Array?e.map(this.trim):e.trim()},i}({},amdclean.core_core),amdclean.core_environment=function(e,t,r){"use strict";function n(e){var t=document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled;if(!t)throw new Error("Fullscreen not enabled in this browser.");e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}function o(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()}var a=t,i=r,s=[i.ARROW,i.CROSS,i.HAND,i.MOVE,i.TEXT,i.WAIT];return a.prototype._frameRate=0,a.prototype._lastFrameTime=window.performance.now(),a.prototype._targetFrameRate=60,window.console&&console.log?a.prototype.print=function(e){try{var t=JSON.parse(JSON.stringify(e));void 0}catch(r){void 0}}:a.prototype.print=function(){},a.prototype.println=a.prototype.print,a.prototype.frameCount=0,a.prototype.focused=document.hasFocus(),a.prototype.cursor=function(e,t,r){var n="auto",o=this._curElement.elt;if(s.indexOf(e)>-1)n=e;else if("string"==typeof e){var a="";t&&r&&"number"==typeof t&&"number"==typeof r&&(a=t+" "+r),n="http://"!==e.substring(0,6)?"url("+e+") "+a+", auto":/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(e)?"url("+e+") "+a+", auto":e}o.style.cursor=n},a.prototype.frameRate=function(e){return"undefined"==typeof e?this._frameRate:(this._setProperty("_targetFrameRate",e),this._runFrames(),this)},a.prototype.getFrameRate=function(){return this.frameRate()},a.prototype.setFrameRate=function(e){return this.frameRate(e)},a.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},a.prototype.displayWidth=screen.width,a.prototype.displayHeight=screen.height,a.prototype.windowWidth=window.innerWidth,a.prototype.windowHeight=window.innerHeight,a.prototype._onresize=function(e){this._setProperty("windowWidth",window.innerWidth),this._setProperty("windowHeight",window.innerHeight);var t,r=this._isGlobal?window:this;"function"==typeof r.windowResized&&(t=r.windowResized(e),void 0===t||t||e.preventDefault())},a.prototype.width=0,a.prototype.height=0,a.prototype.fullscreen=function(e){return"undefined"==typeof e?document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement:void(e?n(document.documentElement):o())},a.prototype.devicePixelScaling=function(e){e?"number"==typeof e?this.pixelDensity=e:this.pixelDensity=window.devicePixelRatio||1:this.pixelDensity=1,this.resizeCanvas(this.width,this.height,!0)},a.prototype.getURL=function(){return location.href},a.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(e){return""!==e})},a.prototype.getURLParams=function(){for(var e,t=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,r={};null!=(e=t.exec(location.search));)e.index===t.lastIndex&&t.lastIndex++,r[e[1]]=e[2];return r},a}({},amdclean.core_core,amdclean.core_constants),amdclean.image_image=function(e,t,r){"use strict";var n=t,o=r;n.prototype._imageMode=o.CORNER,n.prototype._tint=null,n.prototype.createImage=function(e,t){return new n.Image(e,t)};var a=[];return n.prototype.saveCanvas=function(e,t,r){t||(t=n.prototype._checkFileExtension(e,t)[1],""===t&&(t="png"));var o;if(r?o=r:this._curElement&&this._curElement.elt&&(o=this._curElement.elt),n.prototype._isSafari()){var a="Hello, Safari user!\n";a+="Now capturing a screenshot...\n",a+="To save this image,\n",a+="go to File --> Save As.\n",void 0,window.location.href=o.toDataURL()}else{var i;if("undefined"==typeof t)t="png",i="image/png";else switch(t){case"png":i="image/png";break;case"jpeg":i="image/jpeg";break;case"jpg":i="image/jpeg";break;default:i="image/png"}var s="image/octet-stream",l=o.toDataURL(i);l=l.replace(i,s),n.prototype.downloadFile(l,e,t)}},n.prototype.saveFrames=function(e,t,r,o,i){var s=r||3;s=n.prototype.constrain(s,0,15),s=1e3*s;var l=o||15;l=n.prototype.constrain(l,0,22);var h=0,p=n.prototype._makeFrame,u=this._curElement.elt,c=setInterval(function(){p(e+h,t,u),h++},1e3/l);setTimeout(function(){if(clearInterval(c),i)i(a);else for(var e=0;e<a.length;e++){var t=a[e];n.prototype.downloadFile(t.imageData,t.filename,t.ext)}a=[]},s+.01)},n.prototype._makeFrame=function(e,t,r){var n;n=this?this._curElement.elt:r;var o;if(t)switch(t.toLowerCase()){case"png":o="image/png";break;case"jpeg":o="image/jpeg";break;case"jpg":o="image/jpeg";break;default:o="image/png"}else t="png",o="image/png";var i="image/octet-stream",s=n.toDataURL(o);s=s.replace(o,i);var l={};l.imageData=s,l.filename=e,l.ext=t,a.push(l)},n}({},amdclean.core_core,amdclean.core_constants),amdclean.core_error_helpers=function(e,t){"use strict";function r(e,t,r){if(e.match(/^p5\./)){var n=e.split(".");return r instanceof a[n[1]]}return"Boolean"===e||e.toLowerCase()===t||d.indexOf(e)>-1&&f(r)}function n(e,t,r){i&&(o(),i=!1),"undefined"===u(r)?r="#B40033":"number"===u(r)&&(r=_[r]),"load"===t.substring(0,4)?void 0:void 0}function o(){var e="transparent",t="#ED225D",r="#ED225D",n="white";void 0}for(var a=t,i=!0,s={},l=s.toString,h=["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"],p=0;p<h.length;p++)s["[object "+h[p]+"]"]=h[p].toLowerCase();var u=function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?s[l.call(e)]||"object":typeof e},c=Array.isArray||function(e){return"array"===u(e)},f=function(e){return!c(e)&&e-parseFloat(e)+1>=0},d=["Number","Integer","Number/Constant"],m=0,g=1,y=2,v=3,_=["#2D7BB6","#EE9900","#4DB200","#C83C00"];a.prototype._validateParameters=function(e,t,o){c(o[0])||(o=[o]);for(var a,i=Math.abs(t.length-o[0].length),s=0,l=1,h=o.length;h>l;l++){var p=Math.abs(t.length-o[l].length);i>=p&&(s=l,i=p)}var f="X";i>0&&(a="You wrote "+e+"(",t.length>0&&(a+=f+(","+f).repeat(t.length-1)),a+="). "+e+" was expecting "+o[s].length+" parameters. Try "+e+"(",o[s].length>0&&(a+=f+(","+f).repeat(o[s].length-1)),a+=").",o.length>1&&(a+=" "+e+" takes different numbers of parameters depending on what you want to do. Click this link to learn more: "),n(a,e,m));for(var d=0;d<o.length;d++)for(var v=0;v<o[d].length&&v<t.length;v++){var _=o[d][v],x=u(t[v]);"undefined"===x||null===x?n("It looks like "+e+" received an empty variable in spot #"+(v+1)+". If not intentional, this is often a problem with scope: [link to scope].",e,g):"*"===_||r(_,x,t[v])||(a=e+" was expecting a "+_.toLowerCase()+" for parameter #"+(v+1)+", received ",a+="string"===x?'"'+t[v]+'"':t[v],a+=" instead.",o.length>1&&(a+=" "+e+" takes different numbers of parameters depending on what you want to do. Click this link to learn more:"),n(a,e,y))}};var x={0:{fileType:"image",method:"loadImage",message:" hosting the image online,"},1:{fileType:"XML file",method:"loadXML"},2:{fileType:"table file",method:"loadTable"},3:{fileType:"text file",method:"loadStrings"}};return a._friendlyFileLoadError=function(e,t){var r=x[e],o="It looks like there was a problem loading your "+r.fileType+". Try checking if the file path%c ["+t+"] %cis correct,"+(r.message||"")+" or running a local server.";n(o,r.method,v)},a}({},amdclean.core_core),amdclean.image_loading_displaying=function(e,t,r,n,o,a){"use strict";var i=t,s=r,l=n,h=o;return i.prototype.loadImage=function(e,t,r){var n=new Image,o=new i.Image(1,1,this);return n.onload=function(){o.width=o.canvas.width=n.width,o.height=o.canvas.height=n.height,o.canvas.getContext("2d").drawImage(n,0,0),"function"==typeof t&&t(o)},n.onerror=function(e){i._friendlyFileLoadError(0,n.src),"function"==typeof r&&r(e)},0!==e.indexOf("data:image/")&&(n.crossOrigin="Anonymous"),n.src=e,o},i.prototype.image=function(e,t,r,n,o){t=t||0,r=r||0,n=n||e.width,o=o||e.height;var a=l.modeAdjust(t,r,n,o,this._imageMode);this._graphics.image(e,a.x,a.y,a.w,a.h)},i.prototype.tint=function(){var e=this.color.apply(this,arguments);this._tint=e.rgba},i.prototype.noTint=function(){this._tint=null},i.prototype._getTintedImageCanvas=function(e){if(!e.canvas)return e;var t=s._toPixels(e.canvas),r=document.createElement("canvas");r.width=e.canvas.width,r.height=e.canvas.height;for(var n=r.getContext("2d"),o=n.createImageData(e.canvas.width,e.canvas.height),a=o.data,i=0;i<t.length;i+=4){var l=t[i],h=t[i+1],p=t[i+2],u=t[i+3];a[i]=l*this._tint[0]/255,a[i+1]=h*this._tint[1]/255,a[i+2]=p*this._tint[2]/255,a[i+3]=u*this._tint[3]/255}return n.putImageData(o,0,0),r},i.prototype.imageMode=function(e){(e===h.CORNER||e===h.CORNERS||e===h.CENTER)&&(this._imageMode=e)},i}({},amdclean.core_core,amdclean.image_filters,amdclean.core_canvas,amdclean.core_constants,amdclean.core_error_helpers),amdclean.image_pixels=function(e,t,r,n){"use strict";var o=t,a=r;return o.prototype.pixels=[],o.prototype.blend=function(){this._graphics.blend.apply(this._graphics,arguments)},o.prototype.copy=function(){o.Renderer2D._copyHelper.apply(this,arguments)},o.prototype.filter=function(e,t){a.apply(this.canvas,a[e.toLowerCase()],t)},o.prototype.get=function(e,t,r,n){return this._graphics.get(e,t,r,n)},o.prototype.loadPixels=function(){this._graphics.loadPixels()},o.prototype.set=function(e,t,r){this._graphics.set(e,t,r)},o.prototype.updatePixels=function(e,t,r,n){this._graphics.updatePixels(e,t,r,n)},o}({},amdclean.core_core,amdclean.image_filters,amdclean.color_p5Color),!function(e,t,r){"undefined"!=typeof module&&module.exports?module.exports=r():"function"==typeof define&&define.amd?define("reqwest",r):t[e]=r()}("reqwest",amdclean,function(){function succeed(e){var t=protocolRe.exec(e.url);return t=t&&t[1]||window.location.protocol,httpsRe.test(t)?twoHundo.test(e.request.status):!!e.request.response}function handleReadyState(e,t,r){return function(){return e._aborted?r(e.request):e._timedOut?r(e.request,"Request is aborted: timeout"):void(e.request&&4==e.request[readyState]&&(e.request.onreadystatechange=noop,succeed(e)?t(e.request):r(e.request)))}}function setHeaders(e,t){var r,n=t.headers||{};n.Accept=n.Accept||defaultHeaders.accept[t.type]||defaultHeaders.accept["*"];var o="function"==typeof FormData&&t.data instanceof FormData;t.crossOrigin||n[requestedWith]||(n[requestedWith]=defaultHeaders.requestedWith),n[contentType]||o||(n[contentType]=t.contentType||defaultHeaders.contentType);for(r in n)n.hasOwnProperty(r)&&"setRequestHeader"in e&&e.setRequestHeader(r,n[r])}function setCredentials(e,t){"undefined"!=typeof t.withCredentials&&"undefined"!=typeof e.withCredentials&&(e.withCredentials=!!t.withCredentials)}function generalCallback(e){lastValue=e}function urlappend(e,t){return e+(/\?/.test(e)?"&":"?")+t}function handleJsonp(e,t,r,n){var o=uniqid++,a=e.jsonpCallback||"callback",i=e.jsonpCallbackName||reqwest.getcallbackPrefix(o),s=new RegExp("((^|\\?|&)"+a+")=([^&]+)"),l=n.match(s),h=doc.createElement("script"),p=0,u=-1!==navigator.userAgent.indexOf("MSIE 10.0");return l?"?"===l[3]?n=n.replace(s,"$1="+i):i=l[3]:n=urlappend(n,a+"="+i),win[i]=generalCallback,h.type="text/javascript",h.src=n,h.async=!0,"undefined"==typeof h.onreadystatechange||u||(h.htmlFor=h.id="_reqwest_"+o),h.onload=h.onreadystatechange=function(){return h[readyState]&&"complete"!==h[readyState]&&"loaded"!==h[readyState]||p?!1:(h.onload=h.onreadystatechange=null,h.onclick&&h.onclick(),t(lastValue),lastValue=void 0,head.removeChild(h),void(p=1))},head.appendChild(h),{abort:function(){h.onload=h.onreadystatechange=null,r({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(h),p=1}}}function getRequest(e,t){var r,n=this.o,o=(n.method||"GET").toUpperCase(),a="string"==typeof n?n:n.url,i=n.processData!==!1&&n.data&&"string"!=typeof n.data?reqwest.toQueryString(n.data):n.data||null,s=!1;return"jsonp"!=n.type&&"GET"!=o||!i||(a=urlappend(a,i),i=null),"jsonp"==n.type?handleJsonp(n,e,t,a):(r=n.xhr&&n.xhr(n)||xhr(n),r.open(o,a,n.async===!1?!1:!0),setHeaders(r,n),setCredentials(r,n),win[xDomainRequest]&&r instanceof win[xDomainRequest]?(r.onload=e,r.onerror=t,r.onprogress=function(){},s=!0):r.onreadystatechange=handleReadyState(this,e,t),n.before&&n.before(r),s?setTimeout(function(){r.send(i)},200):r.send(i),r)}function Reqwest(e,t){this.o=e,this.fn=t,init.apply(this,arguments)}function setType(e){return e.match("json")?"json":e.match("javascript")?"js":e.match("text")?"html":e.match("xml")?"xml":void 0}function init(o,fn){function complete(e){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(e)}function success(resp){var type=o.type||resp&&setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=win.JSON?win.JSON.parse(r):eval("("+r+")")}catch(err){return error(resp,"Could not parse JSON in response",err)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(e,t,r){for(e=self.request,self._responseArgs.resp=e,self._responseArgs.msg=t,self._responseArgs.t=r,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(e,t,r);complete(e)}this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){timedOut()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(e,t){return new Reqwest(e,t)}function normalize(e){return e?e.replace(/\r?\n/g,"\r\n"):""}function serial(e,t){var r,n,o,a,i=e.name,s=e.tagName.toLowerCase(),l=function(e){e&&!e.disabled&&t(i,normalize(e.attributes.value&&e.attributes.value.specified?e.value:e.text))};if(!e.disabled&&i)switch(s){case"input":/reset|button|image|file/i.test(e.type)||(r=/checkbox/i.test(e.type),n=/radio/i.test(e.type),o=e.value,(!(r||n)||e.checked)&&t(i,normalize(r&&""===o?"on":o)));break;case"textarea":t(i,normalize(e.value));break;case"select":if("select-one"===e.type.toLowerCase())l(e.selectedIndex>=0?e.options[e.selectedIndex]:null);else for(a=0;e.length&&a<e.length;a++)e.options[a].selected&&l(e.options[a])}}function eachFormElement(){var e,t,r=this,n=function(e,t){var n,o,a;for(n=0;n<t.length;n++)for(a=e[byTag](t[n]),o=0;o<a.length;o++)serial(a[o],r)};for(t=0;t<arguments.length;t++)e=arguments[t],/input|select|textarea/i.test(e.tagName)&&serial(e,r),n(e,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var e={};return eachFormElement.apply(function(t,r){t in e?(e[t]&&!isArray(e[t])&&(e[t]=[e[t]]),e[t].push(r)):e[t]=r},arguments),e}function buildParams(e,t,r,n){var o,a,i,s=/\[\]$/;if(isArray(t))for(a=0;t&&a<t.length;a++)i=t[a],r||s.test(e)?n(e,i):buildParams(e+"["+("object"==typeof i?a:"")+"]",i,r,n);else if(t&&"[object Object]"===t.toString())for(o in t)buildParams(e+"["+o+"]",t[o],r,n);else n(e,t)}var win=window,doc=document,httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,byTag="getElementsByTagName",readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",head=doc[byTag]("head")[0],uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(e){if(e.crossOrigin===!0){var t=win[xmlHttpRequest]?new XMLHttpRequest:null;if(t&&"withCredentials"in t)return t;if(win[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return win[xmlHttpRequest]?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(e){return e}};return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(e,t){return e=e||function(){},t=t||function(){},this._fulfilled?this._responseArgs.resp=e(this._responseArgs.resp):this._erred?t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(e),this._errorHandlers.push(t)),this},always:function(e){return this._fulfilled||this._erred?e(this._responseArgs.resp):this._completeHandlers.push(e),this},fail:function(e){return this._erred?e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(e),this},"catch":function(e){return this.fail(e)}},reqwest.serializeArray=function(){var e=[];return eachFormElement.apply(function(t,r){e.push({name:t,value:r})},arguments),e},reqwest.serialize=function(){if(0===arguments.length)return"";var e,t,r=Array.prototype.slice.call(arguments,0);return e=r.pop(),e&&e.nodeType&&r.push(e)&&(e=null),e&&(e=e.type),t="map"==e?serializeHash:"array"==e?reqwest.serializeArray:serializeQueryString,t.apply(null,r)},reqwest.toQueryString=function(e,t){var r,n,o=t||!1,a=[],i=encodeURIComponent,s=function(e,t){t="function"==typeof t?t():null==t?"":t,a[a.length]=i(e)+"="+i(t)};if(isArray(e))for(n=0;e&&n<e.length;n++)s(e[n].name,e[n].value);else for(r in e)e.hasOwnProperty(r)&&buildParams(r,e[r],o,s);return a.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(e,t){return e&&(e.type&&(e.method=e.type)&&delete e.type,e.dataType&&(e.type=e.dataType),e.jsonpCallback&&(e.jsonpCallbackName=e.jsonpCallback)&&delete e.jsonpCallback,e.jsonp&&(e.jsonpCallback=e.jsonp)),new Reqwest(e,t)},reqwest.ajaxSetup=function(e){e=e||{};for(var t in e)globalSetupOptions[t]=e[t]},reqwest}),amdclean.io_files=function(e,t,r,n){"use strict";function o(e,t){var r={};if(t=t||[],"undefined"==typeof t)for(var n=0;n<e.length;n++)t[n.toString()]=n;for(var o=0;o<t.length;o++){var a=t[o],i=e[o];r[a]=i}return r}function a(e,t){t&&t!==!0&&"true"!==t||(t=""),e||(e="untitled");var r="";return e&&e.indexOf(".")>-1&&(r=e.split(".").pop()),t&&r!==t&&(r=t,e=e+"."+r),[e,r]}function i(e){document.body.removeChild(e.target)}var s=t,r=r;s.prototype.loadFont=function(e,t){var r=new s.Font(this);return opentype.load(e,function(e,n){if(e)throw Error(e);r.font=n,"undefined"!=typeof t&&t(r)}),r},s.prototype.createInput=function(){throw"not yet implemented"},s.prototype.createReader=function(){throw"not yet implemented"},s.prototype.loadBytes=function(){throw"not yet implemented"},s.prototype.loadJSON=function(){var e=arguments[0],t=arguments[1],n=[],o="json";return"string"==typeof arguments[2]&&("jsonp"===arguments[2]||"json"===arguments[2])&&(o=arguments[2]),r({url:e,type:o,crossOrigin:!0}).then(function(e){for(var r in e)n[r]=e[r];"undefined"!=typeof t&&t(e)}),n},s.prototype.loadStrings=function(e,t){var r=[],n=new XMLHttpRequest;return n.open("GET",e,!0),n.onreadystatechange=function(){if(4===n.readyState&&200===n.status){var o=n.responseText.match(/[^\r\n]+/g);for(var a in o)r[a]=o[a];"undefined"!=typeof t&&t(r)}else s._friendlyFileLoadError(3,e)},n.send(null),r},s.prototype.loadTable=function(e){for(var t=null,n=[],a=!1,i=",",l=!1,h=1;h<arguments.length;h++)if("function"==typeof arguments[h])t=arguments[h];else if("string"==typeof arguments[h])if(n.push(arguments[h]),"header"===arguments[h]&&(a=!0),"csv"===arguments[h]){if(l)throw new Error("Cannot set multiple separator types.");i=",",l=!0}else if("tsv"===arguments[h]){if(l)throw new Error("Cannot set multiple separator types.");i="	",l=!0}var p=new s.Table;return r({url:e,crossOrigin:!0,type:"csv"}).then(function(e){e=e.responseText;for(var r,n={},l=0,u=1,c=2,f=4,d='"',m="\r",g="\n",y=[],v=0,_=null,x=function(){n.escaped=!1,_=[],w()},b=function(){n.currentState=f,y.push(_),_=null},w=function(){n.currentState=l,n.token=""},S=function(){_.push(n.token),w()};;){if(r=e[v++],null==r){if(n.escaped)throw new Error("Unclosed quote in file.");if(_){S(),b();break}}if(null===_&&x(),n.currentState===l){if(r===d){n.escaped=!0,n.currentState=u;continue}n.currentState=u}n.currentState===u&&n.escaped?r===d?e[v]===d?(n.token+=d,v++):(n.escaped=!1,n.currentState=c):n.token+=r:r===m?(e[v]===g&&v++,S(),b()):r===g?(S(),b()):r===i?S():n.currentState===u&&(n.token+=r)}if(a)p.columns=y.shift();else for(h=0;h<y.length;h++)p.columns[h]=h.toString();var T;for(h=0;h<y.length&&(h!==y.length-1||1!==y[h].length||"undefined"!==y[h][0]);h++)T=new s.TableRow,T.arr=y[h],T.obj=o(y[h],p.columns),p.addRow(T);null!==t&&t(p)}).fail(function(r,n){s._friendlyFileLoadError(2,e),"undefined"!=typeof t&&t(!1)}),p},s.prototype.loadXML=function(e,t){var n=document.implementation.createDocument(null,null);return r({url:e,type:"xml",crossOrigin:!0,error:function(t){s._friendlyFileLoadError(1,e)}}).then(function(e){var r=e.documentElement;n.appendChild(r),"undefined"!=typeof t&&t(e)}),n},s.prototype.parseXML=function(){throw"not yet implemented"},s.prototype.selectFolder=function(){throw"not yet implemented"},s.prototype.selectInput=function(){throw"not yet implemented"},s.prototype.httpGet=function(){var e=Array.prototype.slice.call(arguments);e.push("GET"),s.prototype.httpDo.apply(this,e)},s.prototype.httpPost=function(){var e=Array.prototype.slice.call(arguments);e.push("POST"),s.prototype.httpDo.apply(this,e)},s.prototype.httpDo=function(){for(var e,t="GET",n=arguments[0],o={},a="",i=1;i<arguments.length;i++){var s=arguments[i];"string"==typeof s?"GET"===s||"POST"===s||"PUT"===s?t=s:a=s:"object"==typeof s?o=s:"function"==typeof s&&(e=s)}""===a&&(a=-1!==n.indexOf("json")?"json":-1!==n.indexOf("xml")?"xml":"text"),r({url:n,method:t,data:o,type:a,crossOrigin:!0,success:function(t){"undefined"!=typeof e&&e("text"===a?t.response:t)}})},window.URL=window.URL||window.webkitURL,s.prototype._pWriters=[],s.prototype.beginRaw=function(){throw"not yet implemented"},s.prototype.beginRecord=function(){throw"not yet implemented"},s.prototype.createOutput=function(){throw"not yet implemented"},s.prototype.createWriter=function(e,t){var r;for(var n in s.prototype._pWriters)if(s.prototype._pWriters[n].name===e)return r=new s.PrintWriter(e+window.millis(),t),s.prototype._pWriters.push(r),r;return r=new s.PrintWriter(e,t),s.prototype._pWriters.push(r),r},s.prototype.endRaw=function(){throw"not yet implemented"},s.prototype.endRecord=function(){throw"not yet implemented"},s.PrintWriter=function(e,t){var r=this;this.name=e,this.content="",this.print=function(e){this.content+=e},this.println=function(e){this.content+=e+"\n"},this.flush=function(){this.content=""},this.close=function(){var n=[];n.push(this.content),s.prototype.writeFile(n,e,t);for(var o in s.prototype._pWriters)s.prototype._pWriters[o].name===this.name&&s.prototype._pWriters.splice(o,1);r.flush(),r={}}},s.prototype.saveBytes=function(){throw"not yet implemented"},s.prototype.save=function(e,t,r){var n=arguments,o=this._curElement.elt;if(0===n.length)return void s.prototype.saveCanvas(o);if(n[0]instanceof s.Renderer)return void s.prototype.saveCanvas(n[0].elt,n[1],n[2]);if(1===n.length&&"string"==typeof n[0])s.prototype.saveCanvas(o,n[0]);else{var i=a(n[1],n[2])[1];switch(i){case"json":return void s.prototype.saveJSON(n[0],n[1],n[2]);case"txt":return void s.prototype.saveStrings(n[0],n[1],n[2]);default:n[0]instanceof Array?s.prototype.saveStrings(n[0],n[1],n[2]):n[0]instanceof s.Table?s.prototype.saveTable(n[0],n[1],n[2],n[3]):n[0]instanceof s.Image?s.prototype.saveCanvas(n[0].canvas,n[1]):n[0]instanceof s.SoundFile&&s.prototype.saveSound(n[0],n[1],n[2],n[3])}}},s.prototype.saveJSON=function(e,t,r){var n;n=r?JSON.stringify(e):JSON.stringify(e,void 0,2),void 0,this.saveStrings(n.split("\n"),t,"json")},s.prototype.saveJSONObject=s.prototype.saveJSON,s.prototype.saveJSONArray=s.prototype.saveJSON,s.prototype.saveStream=function(){throw"not yet implemented"},s.prototype.saveStrings=function(e,t,r){var n=r||"txt",o=this.createWriter(t,n);for(var a in e)a<e.length-1?o.println(e[a]):o.print(e[a]);o.close(),o.flush()},s.prototype.saveXML=function(){throw"not yet implemented"},s.prototype.selectOutput=function(){throw"not yet implemented"},s.prototype.saveTable=function(e,t,r){var n=this.createWriter(t,r),o=e.columns,a=",";if("tsv"===r&&(a="	"),"html"!==r){if("0"!==o[0])for(var i=0;i<o.length;i++)i<o.length-1?n.print(o[i]+a):n.println(o[i]);for(var s=0;s<e.rows.length;s++){var h;for(h=0;h<e.rows[s].arr.length;h++)h<e.rows[s].arr.length-1?n.print(e.rows[s].arr[h]+a):s<e.rows.length-1?n.println(e.rows[s].arr[h]):n.print(e.rows[s].arr[h])}}else{n.println("<html>"),n.println("<head>");var p='  <meta http-equiv="content-type" content';if(p+='="text/html;charset=utf-8" />',n.println(p),n.println("</head>"),n.println("<body>"),n.println("  <table>"),"0"!==o[0]){n.println("    <tr>");for(var u=0;u<o.length;u++){var c=l(o[u]);n.println("      <td>"+c),n.println("      </td>")}n.println("    </tr>")}for(var f=0;f<e.rows.length;f++){n.println("    <tr>");for(var d=0;d<e.columns.length;d++){var m=e.rows[f].getString(d),g=l(m);n.println("      <td>"+g),n.println("      </td>")}n.println("    </tr>")}n.println("  </table>"),n.println("</body>"),n.print("</html>")}n.close(),n.flush()};var l=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")};return s.prototype.writeFile=function(e,t,r){var n="application/octet-stream";s.prototype._isSafari()&&(n="text/plain");var o=new Blob(e,{type:n}),a=window.URL.createObjectURL(o);s.prototype.downloadFile(a,t,r)},s.prototype.downloadFile=function(e,t,r){var n=a(t,r),o=n[0],l=n[1],h=document.createElement("a");if(h.href=e,h.download=o,h.onclick=i,h.style.display="none",document.body.appendChild(h),s.prototype._isSafari()){var p="Hello, Safari user! To download this file...\n";p+="1. Go to File --> Save As.\n",p+='2. Choose "Page Source" as the Format.\n',p+='3. Name it with this extension: ."'+l+'"',void 0}h.click(),e=null},s.prototype._checkFileExtension=a,
s.prototype._isSafari=function(){var e=Object.prototype.toString.call(window.HTMLElement);return e.indexOf("Constructor")>0},s}({},amdclean.core_core,amdclean.reqwest,amdclean.core_error_helpers),amdclean.events_keyboard=function(e,t){"use strict";var r=t,n={};return r.prototype.isKeyPressed=!1,r.prototype.keyIsPressed=!1,r.prototype.key="",r.prototype.keyCode=0,r.prototype._onkeydown=function(e){this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",e.which),n[e.which]=!0;var t=String.fromCharCode(e.which);t||(t=e.which),this._setProperty("key",t);var r=this.keyPressed||window.keyPressed;if("function"==typeof r&&!e.charCode){var o=r(e);o===!1&&e.preventDefault()}},r.prototype._onkeyup=function(e){var t=this.keyReleased||window.keyReleased;this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1),n[e.which]=!1;var r=String.fromCharCode(e.which);if(r||(r=e.which),this._setProperty("key",r),this._setProperty("keyCode",e.which),"function"==typeof t){var o=t(e);o===!1&&e.preventDefault()}},r.prototype._onkeypress=function(e){this._setProperty("keyCode",e.which),this._setProperty("key",String.fromCharCode(e.which));var t=this.keyTyped||window.keyTyped;if("function"==typeof t){var r=t(e);r===!1&&e.preventDefault()}},r.prototype._onblur=function(e){n={}},r.prototype.keyIsDown=function(e){return n[e]},r}({},amdclean.core_core),amdclean.events_acceleration=function(e,t){"use strict";var r=t;r.prototype.deviceOrientation=void 0,r.prototype.accelerationX=0,r.prototype.accelerationY=0,r.prototype.accelerationZ=0,r.prototype.pAccelerationX=0,r.prototype.pAccelerationY=0,r.prototype.pAccelerationZ=0,r.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)};var n=.5;r.prototype.setMoveThreshold=function(e){"number"==typeof e&&(n=e)};var o="",a="";return r.prototype._ondeviceorientation=function(e){this._setProperty("accelerationX",e.beta),this._setProperty("accelerationY",e.gamma),this._setProperty("accelerationZ",e.alpha),this._handleMotion()},r.prototype._ondevicemotion=function(e){this._setProperty("accelerationX",2*e.acceleration.x),this._setProperty("accelerationY",2*e.acceleration.y),this._setProperty("accelerationZ",2*e.acceleration.z),this._handleMotion()},r.prototype._onMozOrientation=function(e){this._setProperty("accelerationX",e.x),this._setProperty("accelerationY",e.y),this._setProperty("accelerationZ",e.z),this._handleMotion()},r.prototype._handleMotion=function(){90===window.orientation||-90===window.orientation?this._setProperty("deviceOrientation","landscape"):0===window.orientation?this._setProperty("deviceOrientation","portrait"):void 0===window.orientation&&this._setProperty("deviceOrientation","undefined");var e=this.onDeviceMove||window.onDeviceMove;"function"==typeof e&&(Math.abs(this.accelerationX-this.pAccelerationX)>n||Math.abs(this.accelerationY-this.pAccelerationY)>n||Math.abs(this.accelerationZ-this.pAccelerationZ)>n)&&e();var t=this.onDeviceTurn||window.onDeviceTurn;if("function"==typeof t){var r=0;Math.abs(this.accelerationX)>r&&(r=this.accelerationX,a="x"),Math.abs(this.accelerationY)>r&&(r=this.accelerationY,a="y"),Math.abs(this.accelerationZ)>r&&(a="z"),""!==o&&o!==a&&t(a),o=a}},r}({},amdclean.core_core),amdclean.events_mouse=function(e,t,r){"use strict";function n(e,t){var r=e.getBoundingClientRect();return{x:t.clientX-r.left,y:t.clientY-r.top}}var o=t,a=r;return o.prototype.mouseX=0,o.prototype.mouseY=0,o.prototype.pmouseX=0,o.prototype.pmouseY=0,o.prototype.winMouseX=0,o.prototype.winMouseY=0,o.prototype.pwinMouseX=0,o.prototype.pwinMouseY=0,o.prototype.mouseButton=0,o.prototype.mouseIsPressed=!1,o.prototype.isMousePressed=!1,o.prototype._updateMouseCoords=function(e){if("touchstart"===e.type||"touchmove"===e.type||"touchend"===e.type)this._setProperty("mouseX",this.touchX),this._setProperty("mouseY",this.touchY);else if(null!==this._curElement){var t=n(this._curElement.elt,e);this._setProperty("mouseX",t.x),this._setProperty("mouseY",t.y)}this._setProperty("winMouseX",e.pageX),this._setProperty("winMouseY",e.pageY)},o.prototype._updatePMouseCoords=function(e){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY)},o.prototype._setMouseButton=function(e){1===e.button?this._setProperty("mouseButton",a.CENTER):2===e.button?this._setProperty("mouseButton",a.RIGHT):(this._setProperty("mouseButton",a.LEFT),("touchstart"===e.type||"touchmove"===e.type)&&(this._setProperty("mouseX",this.touchX),this._setProperty("mouseY",this.touchY)))},o.prototype._onmousemove=function(e){var t,r=this._isGlobal?window:this;this._updateMouseCoords(e),this.isMousePressed?"function"==typeof r.mouseDragged?(t=r.mouseDragged(e),t===!1&&e.preventDefault()):"function"==typeof r.touchMoved&&(t=r.touchMoved(e),t===!1&&e.preventDefault(),this._updateTouchCoords(e)):"function"==typeof r.mouseMoved&&(t=r.mouseMoved(e),t===!1&&e.preventDefault())},o.prototype._onmousedown=function(e){var t,r=this._isGlobal?window:this;this._setProperty("isMousePressed",!0),this._setProperty("mouseIsPressed",!0),this._setMouseButton(e),this._updateMouseCoords(e),"function"==typeof r.mousePressed?(t=r.mousePressed(e),t===!1&&e.preventDefault()):"function"==typeof r.touchStarted&&(t=r.touchStarted(e),t===!1&&e.preventDefault(),this._updateTouchCoords(e))},o.prototype._onmouseup=function(e){var t,r=this._isGlobal?window:this;this._setProperty("isMousePressed",!1),this._setProperty("mouseIsPressed",!1),"function"==typeof r.mouseReleased?(t=r.mouseReleased(e),t===!1&&e.preventDefault()):"function"==typeof r.touchEnded&&(t=r.touchEnded(e),t===!1&&e.preventDefault(),this._updateTouchCoords(e))},o.prototype._onclick=function(e){var t=this._isGlobal?window:this;if("function"==typeof t.mouseClicked){var r=t.mouseClicked(e);r===!1&&e.preventDefault()}},o.prototype._onmousewheel=o.prototype._onDOMMouseScroll=function(e){var t=this._isGlobal?window:this;if("function"==typeof t.mouseWheel){e.delta=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail));var r=t.mouseWheel(e);r===!1&&e.preventDefault()}},o}({},amdclean.core_core,amdclean.core_constants),amdclean.utilities_time_date=function(e,t){"use strict";var r=t;return r.prototype.day=function(){return(new Date).getDate()},r.prototype.hour=function(){return(new Date).getHours()},r.prototype.minute=function(){return(new Date).getMinutes()},r.prototype.millis=function(){return window.performance.now()},r.prototype.month=function(){return(new Date).getMonth()+1},r.prototype.second=function(){return(new Date).getSeconds()},r.prototype.year=function(){return(new Date).getFullYear()},r}({},amdclean.core_core),amdclean.events_touch=function(e,t){"use strict";function r(e,t,r){r=r||0;var n=e.getBoundingClientRect(),o=t.touches[r]||t.changedTouches[r];return{x:o.clientX-n.left,y:o.clientY-n.top}}var n=t;return n.prototype.touchX=0,n.prototype.touchY=0,n.prototype.ptouchX=0,n.prototype.ptouchY=0,n.prototype.touches=[],n.prototype.touchIsDown=!1,n.prototype._updateTouchCoords=function(e){if("mousedown"===e.type||"mousemove"===e.type||"mouseup"===e.type)this._setProperty("touchX",this.mouseX),this._setProperty("touchY",this.mouseY);else{var t=r(this._curElement.elt,e,0);this._setProperty("touchX",t.x),this._setProperty("touchY",t.y);for(var n=[],o=0;o<e.touches.length;o++){var a=r(this._curElement.elt,e,o);n[o]={x:a.x,y:a.y}}this._setProperty("touches",n)}},n.prototype._updatePTouchCoords=function(){this._setProperty("ptouchX",this.touchX),this._setProperty("ptouchY",this.touchY)},n.prototype._ontouchstart=function(e){var t,r=this._isGlobal?window:this;this._updateTouchCoords(e),this._setProperty("touchIsDown",!0),"function"==typeof r.touchStarted?(t=r.touchStarted(e),t===!1&&e.preventDefault()):"function"==typeof r.mousePressed&&(t=r.mousePressed(e),t===!1&&e.preventDefault())},n.prototype._ontouchmove=function(e){var t,r=this._isGlobal?window:this;this._updateTouchCoords(e),"function"==typeof r.touchMoved?(t=r.touchMoved(e),t===!1&&e.preventDefault()):"function"==typeof r.mouseDragged&&(t=r.mouseDragged(e),t===!1&&e.preventDefault(),this._updateMouseCoords(e))},n.prototype._ontouchend=function(e){this._updateTouchCoords(e),0===this.touches.length&&this._setProperty("touchIsDown",!1);var t,r=this._isGlobal?window:this;"function"==typeof r.touchEnded?(t=r.touchEnded(e),t===!1&&e.preventDefault()):"function"==typeof r.mouseReleased&&(t=r.mouseReleased(e),t===!1&&e.preventDefault(),this._updateMouseCoords(e))},n}({},amdclean.core_core),amdclean.math_math=function(e,t){"use strict";var r=t;return r.prototype.createVector=function(e,t,n){return this instanceof r?new r.Vector(this,arguments):new r.Vector(e,t,n)},r}({},amdclean.core_core),amdclean.math_calculation=function(e,t){"use strict";var r=t;return r.prototype.abs=Math.abs,r.prototype.ceil=Math.ceil,r.prototype.constrain=function(e,t,r){return Math.max(Math.min(e,r),t)},r.prototype.dist=function(e,t,r,n){return Math.sqrt((r-e)*(r-e)+(n-t)*(n-t))},r.prototype.exp=Math.exp,r.prototype.floor=Math.floor,r.prototype.lerp=function(e,t,r){return r*(t-e)+e},r.prototype.log=Math.log,r.prototype.mag=function(e,t){return Math.sqrt(e*e+t*t)},r.prototype.map=function(e,t,r,n,o){return(e-t)/(r-t)*(o-n)+n},r.prototype.max=function(){return arguments[0]instanceof Array?Math.max.apply(null,arguments[0]):Math.max.apply(null,arguments)},r.prototype.min=function(){return arguments[0]instanceof Array?Math.min.apply(null,arguments[0]):Math.min.apply(null,arguments)},r.prototype.norm=function(e,t,r){return this.map(e,t,r,0,1)},r.prototype.pow=Math.pow,r.prototype.round=Math.round,r.prototype.sq=function(e){return e*e},r.prototype.sqrt=Math.sqrt,r}({},amdclean.core_core),amdclean.math_random=function(e,t){"use strict";var r=t,n=!1,o=function(){var e,t,r=4294967296,n=1664525,o=1013904223;return{setSeed:function(n){t=e=(null==n?Math.random()*r:n)>>>0},getSeed:function(){return e},rand:function(){return t=(n*t+o)%r,t/r}}}();r.prototype.randomSeed=function(e){o.setSeed(e),n=!0},r.prototype.random=function(e,t){var r;if(r=n?o.rand():Math.random(),0===arguments.length)return r;if(1===arguments.length)return r*e;if(e>t){var a=e;e=t,t=a}return r*(t-e)+e};var a,i=!1;return r.prototype.randomGaussian=function(e,t){var r,n,o,s;if(i)r=a,i=!1;else{do n=this.random(2)-1,o=this.random(2)-1,s=n*n+o*o;while(s>=1);s=Math.sqrt(-2*Math.log(s)/s),r=n*s,a=o*s,i=!0}var l=e||0,h=t||1;return r*h+l},r}({},amdclean.core_core),amdclean.math_noise=function(e,t){"use strict";for(var r=t,n=4,o=1<<n,a=8,i=1<<a,s=4095,l=4,h=.5,p=.5,u=Math.floor(360/p),c=new Array(u),f=new Array(u),d=Math.PI/180,m=0;u>m;m++)c[m]=Math.sin(m*d*p),f[m]=Math.cos(m*d*p);var g=u;g>>=1;var y;return r.prototype.noise=function(e,t,r){if(t=t||0,r=r||0,null==y){y=new Array(s+1);for(var p=0;s+1>p;p++)y[p]=Math.random()}0>e&&(e=-e),0>t&&(t=-t),0>r&&(r=-r);for(var c,d,m,v,_,x=Math.floor(e),b=Math.floor(t),w=Math.floor(r),S=e-x,T=t-b,R=r-w,C=0,M=.5,E=function(e){return.5*(1-f[Math.floor(e*g)%u])},I=0;l>I;I++){var D=x+(b<<n)+(w<<a);c=E(S),d=E(T),m=y[D&s],m+=c*(y[D+1&s]-m),v=y[D+o&s],v+=c*(y[D+o+1&s]-v),m+=d*(v-m),D+=i,v=y[D&s],v+=c*(y[D+1&s]-v),_=y[D+o&s],_+=c*(y[D+o+1&s]-_),v+=d*(_-v),m+=E(R)*(v-m),C+=m*M,M*=h,x<<=1,S*=2,b<<=1,T*=2,w<<=1,R*=2,S>=1&&(x++,S--),T>=1&&(b++,T--),R>=1&&(w++,R--)}return C},r.prototype.noiseDetail=function(e,t){e>0&&(l=e),t>0&&(h=t)},r.prototype.noiseSeed=function(e){var t=function(){var e,t,r=4294967296,n=1664525,o=1013904223;return{setSeed:function(n){t=e=(null==n?Math.random()*r:n)>>>0},getSeed:function(){return e},rand:function(){return t=(n*t+o)%r,t/r}}}();t.setSeed(e),y=new Array(s+1);for(var r=0;s+1>r;r++)y[r]=t.rand()},r}({},amdclean.core_core),amdclean.math_trigonometry=function(e,t,r,n){"use strict";var o=t,a=r,i=n;return o.prototype._angleMode=i.RADIANS,o.prototype.acos=function(e){return this._angleMode===i.RADIANS?Math.acos(e):a.radiansToDegrees(Math.acos(e))},o.prototype.asin=function(e){return this._angleMode===i.RADIANS?Math.asin(e):a.radiansToDegrees(Math.asin(e))},o.prototype.atan=function(e){return this._angleMode===i.RADIANS?Math.atan(e):a.radiansToDegrees(Math.atan(e))},o.prototype.atan2=function(e,t){return this._angleMode===i.RADIANS?Math.atan2(e,t):a.radiansToDegrees(Math.atan2(e,t))},o.prototype.cos=function(e){return this._angleMode===i.RADIANS?Math.cos(e):Math.cos(this.radians(e))},o.prototype.sin=function(e){return this._angleMode===i.RADIANS?Math.sin(e):Math.sin(this.radians(e))},o.prototype.tan=function(e){return this._angleMode===i.RADIANS?Math.tan(e):Math.tan(this.radians(e))},o.prototype.degrees=function(e){return a.radiansToDegrees(e)},o.prototype.radians=function(e){return a.degreesToRadians(e)},o.prototype.angleMode=function(e){(e===i.DEGREES||e===i.RADIANS)&&(this._angleMode=e)},o}({},amdclean.core_core,amdclean.math_polargeometry,amdclean.core_constants),amdclean._3d_shaders=function(e){return{texLightVert:["uniform mat4 modelviewMatrix;","uniform mat4 transformMatrix;","uniform mat3 normalMatrix;","uniform mat4 texMatrix;","uniform int lightCount;","uniform vec4 lightPosition[8];","uniform vec3 lightNormal[8];","uniform vec3 lightAmbient[8];","uniform vec3 lightDiffuse[8];","uniform vec3 lightSpecular[8];","uniform vec3 lightFalloff[8];","uniform vec2 lightSpot[8];","attribute vec4 position;","attribute vec4 color;","attribute vec3 normal;","attribute vec2 texCoord;","attribute vec4 ambient;","attribute vec4 specular;","attribute vec4 emissive;","attribute float shininess;","varying vec4 vertColor;","varying vec4 backVertColor;","varying vec4 vertTexCoord;","const float zero_float = 0.0;","const float one_float = 1.0;","const vec3 zero_vec3 = vec3(0);","float falloffFactor(vec3 lightPos, vec3 vertPos, vec3 coeff) {","vec3 lpv = lightPos - vertPos;","vec3 dist = vec3(one_float);","dist.z = dot(lpv, lpv);","dist.y = sqrt(dist.z);","return one_float / dot(dist, coeff);","}","float spotFactor(vec3 lightPos,vec3 vertPos,","vec3 lightNorm,float minCos,float spotExp) {","vec3 lpv = normalize(lightPos - vertPos);","vec3 nln = -one_float * lightNorm;","float spotCos = dot(nln, lpv);","return spotCos <= minCos ? zero_float : pow(spotCos, spotExp);","}","float lambertFactor(vec3 lightDir, vec3 vecNormal) {","return max(zero_float, dot(lightDir, vecNormal));","}","float blinnPhongFactor(vec3 lightDir,","vec3 vertPos,vec3 vecNormal, float shine) {","vec3 np = normalize(vertPos);","vec3 ldp = normalize(lightDir - np);","return pow(max(zero_float, dot(ldp, vecNormal)), shine);","}","void main() {","gl_Position = transformMatrix * position;","vec3 ecVertex = vec3(modelviewMatrix * position);","vec3 ecNormal = normalize(normalMatrix * normal);","vec3 ecNormalInv = ecNormal * -one_float;","vec3 totalAmbient = vec3(0, 0, 0);","vec3 totalFrontDiffuse = vec3(0, 0, 0);","vec3 totalFrontSpecular = vec3(0, 0, 0);","vec3 totalBackDiffuse = vec3(0, 0, 0);","vec3 totalBackSpecular = vec3(0, 0, 0);","for (int i = 0; i < 8; i++) {","if (lightCount == i) break;","vec3 lightPos = lightPosition[i].xyz;","bool isDir = zero_float < lightPosition[i].w;","float spotCos = lightSpot[i].x;","float spotExp = lightSpot[i].y;","vec3 lightDir;","float falloff;","float spotf;","if (isDir) {","falloff = one_float;","lightDir = -one_float * lightNormal[i];","} else {","falloff = falloffFactor(lightPos, ecVertex, lightFalloff[i]);","lightDir = normalize(lightPos - ecVertex);","}","spotf=spotExp > zero_float ? spotFactor(lightPos,","ecVertex,","lightNormal[i],","spotCos,","spotExp):one_float;","if (any(greaterThan(lightAmbient[i], zero_vec3))) {","totalAmbient+= lightAmbient[i] * falloff;","}","if (any(greaterThan(lightDiffuse[i], zero_vec3))) {","totalFrontDiffuse  += lightDiffuse[i] * falloff * spotf *","lambertFactor(lightDir, ecNormal);","totalBackDiffuse   += lightDiffuse[i] * falloff * spotf *","lambertFactor(lightDir, ecNormalInv);","}","if (any(greaterThan(lightSpecular[i], zero_vec3))) {","totalFrontSpecular += lightSpecular[i] * falloff * spotf * ","blinnPhongFactor(lightDir, ecVertex, ecNormal, shininess);","totalBackSpecular  += lightSpecular[i] * falloff * spotf *","blinnPhongFactor(lightDir, ecVertex, ecNormalInv, shininess);","}","}","vertColor =vec4(totalAmbient, 0) * ambient + ","vec4(totalFrontDiffuse, 1) * color +","vec4(totalFrontSpecular, 0) * specular +","vec4(emissive.rgb, 0);","backVertColor = vec4(totalAmbient, 0) * ambient + ","vec4(totalBackDiffuse, 1) * color +","vec4(totalBackSpecular, 0) * specular +","vec4(emissive.rgb, 0);","vertTexCoord = texMatrix * vec4(texCoord, 1.0, 1.0);","}"].join("\n"),texLightFrag:["precision mediump float;","precision mediump int;","uniform sampler2D texture;","uniform vec2 texOffset;","varying vec4 vertColor;","varying vec4 backVertColor;","varying vec4 vertTexCoord;","void main() {","gl_FragColor = texture2D(texture,vertTexCoord.st)*","(gl_FrontFacing ? vertColor : backVertColor);","}"].join("\n"),testVert:["attribute vec3 position;","attribute vec3 normal;","uniform mat4 modelviewMatrix;","uniform mat4 transformMatrix;","uniform mat4 normalMatrix;","varying vec3 vertexNormal;","void main(void) {","vec3 zeroToOne = position / 1000.0;","vec4 positionVec4 = vec4(zeroToOne, 1.);","gl_Position = transformMatrix * modelviewMatrix * positionVec4;","vertexNormal = vec3( normalMatrix * vec4( normal, 1.0 ) );","}"].join("\n"),testFrag:["precision mediump float;","varying vec3 vertexNormal;","void main(void) {","gl_FragColor = vec4(vertexNormal, 1.0);","}"].join("\n")}}({}),amdclean._3d_p5Matrix=function(e,t,r,n){"use strict";var o=t,a=r,i=n,s="undefined"!=typeof Float32Array?Float32Array:Array;return o.Matrix=function(){return arguments[0]instanceof o?(this.p5=arguments[0],this.mat4=arguments[1]||new s([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])):this.mat4=arguments[0]||new s([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this},o.Matrix.prototype.set=function(e){return e instanceof o.Matrix?(this.mat4=e.mat4,this):e instanceof s?(this.mat4=e,this):this},o.Matrix.prototype.get=function(){return new o.Matrix(this.mat4)},o.Matrix.prototype.copy=function(){var e=new o.Matrix;return e.mat4[0]=this.mat4[0],e.mat4[1]=this.mat4[1],e.mat4[2]=this.mat4[2],e.mat4[3]=this.mat4[3],e.mat4[4]=this.mat4[4],e.mat4[5]=this.mat4[5],e.mat4[6]=this.mat4[6],e.mat4[7]=this.mat4[7],e.mat4[8]=this.mat4[8],e.mat4[9]=this.mat4[9],e.mat4[10]=this.mat4[10],e.mat4[11]=this.mat4[11],e.mat4[12]=this.mat4[12],e.mat4[13]=this.mat4[13],e.mat4[14]=this.mat4[14],e.mat4[15]=this.mat4[15],e},o.Matrix.identity=function(){return new o.Matrix},o.Matrix.prototype.transpose=function(e){var t,r,n,a,i,l;return e instanceof o.Matrix?(t=e.mat4[1],r=e.mat4[2],n=e.mat4[3],a=e.mat4[6],i=e.mat4[7],l=e.mat4[11],this.mat4[0]=e.mat4[0],this.mat4[1]=e.mat4[4],this.mat4[2]=e.mat4[8],this.mat4[3]=e.mat4[12],this.mat4[4]=t,this.mat4[5]=e.mat4[5],this.mat4[6]=e.mat4[9],this.mat4[7]=e.mat4[13],this.mat4[8]=r,this.mat4[9]=a,this.mat4[10]=e.mat4[10],this.mat4[11]=e.mat4[14],this.mat4[12]=n,this.mat4[13]=i,this.mat4[14]=l,this.mat4[15]=e.mat4[15]):e instanceof s&&(t=e[1],r=e[2],n=e[3],a=e[6],i=e[7],l=e[11],this.mat4[0]=e[0],this.mat4[1]=e[4],this.mat4[2]=e[8],this.mat4[3]=e[12],this.mat4[4]=t,this.mat4[5]=e[5],this.mat4[6]=e[9],this.mat4[7]=e[13],this.mat4[8]=r,this.mat4[9]=a,this.mat4[10]=e[10],this.mat4[11]=e[14],this.mat4[12]=n,this.mat4[13]=i,this.mat4[14]=l,this.mat4[15]=e[15]),this},o.Matrix.prototype.invert=function(e){var t,r,n,a,i,l,h,p,u,c,f,d,m,g,y,v;e instanceof o.Matrix?(t=e.mat4[0],r=e.mat4[1],n=e.mat4[2],a=e.mat4[3],i=e.mat4[4],l=e.mat4[5],h=e.mat4[6],p=e.mat4[7],u=e.mat4[8],c=e.mat4[9],f=e.mat4[10],d=e.mat4[11],m=e.mat4[12],g=e.mat4[13],y=e.mat4[14],v=e.mat4[15]):e instanceof s&&(t=e[0],r=e[1],n=e[2],a=e[3],i=e[4],l=e[5],h=e[6],p=e[7],u=e[8],c=e[9],f=e[10],d=e[11],m=e[12],g=e[13],y=e[14],v=e[15]);var _=t*l-r*i,x=t*h-n*i,b=t*p-a*i,w=r*h-n*l,S=r*p-a*l,T=n*p-a*h,R=u*g-c*m,C=u*y-f*m,M=u*v-d*m,E=c*y-f*g,I=c*v-d*g,D=f*v-d*y,O=_*D-x*I+b*E+w*M-S*C+T*R;return O?(O=1/O,this.mat4[0]=(l*D-h*I+p*E)*O,this.mat4[1]=(n*I-r*D-a*E)*O,this.mat4[2]=(g*T-y*S+v*w)*O,this.mat4[3]=(f*S-c*T-d*w)*O,this.mat4[4]=(h*M-i*D-p*C)*O,this.mat4[5]=(t*D-n*M+a*C)*O,this.mat4[6]=(y*b-m*T-v*x)*O,this.mat4[7]=(u*T-f*b+d*x)*O,this.mat4[8]=(i*I-l*M+p*R)*O,this.mat4[9]=(r*M-t*I-a*R)*O,this.mat4[10]=(m*S-g*b+v*_)*O,this.mat4[11]=(c*b-u*S-d*_)*O,this.mat4[12]=(l*C-i*E-h*R)*O,this.mat4[13]=(t*E-r*C+n*R)*O,this.mat4[14]=(g*x-m*w-y*_)*O,this.mat4[15]=(u*w-c*x+f*_)*O,this):null},o.Matrix.prototype.determinant=function(){var e=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],t=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],r=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],n=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],o=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],a=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],i=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],s=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],l=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],h=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],p=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13],u=this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14];return e*u-t*p+r*h+n*l-o*s+a*i},o.Matrix.prototype.mult=function(e){var t=new s(16),r=new s(16);e instanceof o.Matrix?r=e.mat4:e instanceof s&&(r=e);var n=this.mat4[0],a=this.mat4[1],i=this.mat4[2],l=this.mat4[3];return t[0]=n*r[0]+a*r[4]+i*r[8]+l*r[12],t[1]=n*r[1]+a*r[5]+i*r[9]+l*r[13],t[2]=n*r[2]+a*r[6]+i*r[10]+l*r[14],t[3]=n*r[3]+a*r[7]+i*r[11]+l*r[15],n=this.mat4[4],a=this.mat4[5],i=this.mat4[6],l=this.mat4[7],t[4]=n*r[0]+a*r[4]+i*r[8]+l*r[12],t[5]=n*r[1]+a*r[5]+i*r[9]+l*r[13],t[6]=n*r[2]+a*r[6]+i*r[10]+l*r[14],t[7]=n*r[3]+a*r[7]+i*r[11]+l*r[15],n=this.mat4[8],a=this.mat4[9],i=this.mat4[10],l=this.mat4[11],t[8]=n*r[0]+a*r[4]+i*r[8]+l*r[12],t[9]=n*r[1]+a*r[5]+i*r[9]+l*r[13],t[10]=n*r[2]+a*r[6]+i*r[10]+l*r[14],t[11]=n*r[3]+a*r[7]+i*r[11]+l*r[15],n=this.mat4[12],a=this.mat4[13],i=this.mat4[14],l=this.mat4[15],t[12]=n*r[0]+a*r[4]+i*r[8]+l*r[12],t[13]=n*r[1]+a*r[5]+i*r[9]+l*r[13],t[14]=n*r[2]+a*r[6]+i*r[10]+l*r[14],t[15]=n*r[3]+a*r[7]+i*r[11]+l*r[15],this.mat4=t,this},o.Matrix.prototype.scale=function(){var e,t,r;arguments[0]instanceof o.Vector?(e=arguments[0].x,t=arguments[0].y,r=arguments[0].z):arguments[0]instanceof Array?(e=arguments[0][0],t=arguments[0][1],r=arguments[0][2]):(e=arguments[0]||1,t=arguments[1]||1,r=arguments[2]||1);for(var n=new s(16),a=0;a<this.mat4.length;a++){var i=a%4;switch(i){case 0:n[a]=this.mat4[a]*e;break;case 1:n[a]=this.mat4[a]*t;break;case 2:n[a]=this.mat4[a]*r;break;case 3:n[a]=this.mat4[a]}}return this.mat4=n,this},o.Matrix.prototype.rotate=function(e,t){var r,n,s,l,h;this.p5?this.p5._angleMode===i.DEGREES&&(l=a.degreesToRadians(e)):l=e,t instanceof o.Vector?(r=t.x,n=t.y,s=t.z):t instanceof Array&&(r=t[0],n=t[1],s=t[2]),h=Math.sqrt(r*r+n*n+s*s),r*=1/h,n*=1/h,s*=1/h;var p=this.mat4[0],u=this.mat4[1],c=this.mat4[2],f=this.mat4[3],d=this.mat4[4],m=this.mat4[5],g=this.mat4[6],y=this.mat4[7],v=this.mat4[8],_=this.mat4[9],x=this.mat4[10],b=this.mat4[11],w=Math.sin(l),S=Math.cos(l),T=1-S,R=r*r*T+S,C=n*r*T+s*w,M=s*r*T-n*w,E=r*n*T-s*w,I=n*n*T+S,D=s*n*T+r*w,O=r*s*T+n*w,A=n*s*T-r*w,P=s*s*T+S;return this.mat4[0]=p*R+d*C+v*M,this.mat4[1]=u*R+m*C+_*M,this.mat4[2]=c*R+g*C+x*M,this.mat4[3]=f*R+y*C+b*M,this.mat4[4]=p*E+d*I+v*D,this.mat4[5]=u*E+m*I+_*D,this.mat4[6]=c*E+g*I+x*D,this.mat4[7]=f*E+y*I+b*D,this.mat4[8]=p*O+d*A+v*P,this.mat4[9]=u*O+m*A+_*P,this.mat4[10]=c*O+g*A+x*P,this.mat4[11]=f*O+y*A+b*P,this},o.Matrix.prototype.translate=function(e){var t=e[0],r=e[1],n=e[2];this.mat4[12]=this.mat4[0]*t+this.mat4[4]*r+this.mat4[8]*n+this.mat4[12],this.mat4[13]=this.mat4[1]*t+this.mat4[5]*r+this.mat4[9]*n+this.mat4[13],this.mat4[14]=this.mat4[2]*t+this.mat4[6]*r+this.mat4[10]*n+this.mat4[14],this.mat4[15]=this.mat4[3]*t+this.mat4[7]*r+this.mat4[11]*n+this.mat4[15]},o.Matrix.prototype.rotateX=function(e){this.rotate(e,[1,0,0])},o.Matrix.prototype.rotateY=function(e){this.rotate(e,[0,1,0])},o.Matrix.prototype.rotateZ=function(e){this.rotate(e,[0,0,1])},o.Matrix}({},amdclean.core_core,amdclean.math_polargeometry,amdclean.core_constants),amdclean._3d_p5Renderer3D=function(e,t,r,n,o){var a,i,s=t,l=r,h=[],p={alpha:!1,depth:!0,stencil:!0,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1};return s.Renderer3D=function(e,t,r){s.Renderer.call(this,e,t,r);try{if(this.drawingContext=this.canvas.getContext("webgl",p)||this.canvas.getContext("experimental-webgl",p),null===this.drawingContext)throw"Error creating webgl context";void 0}catch(n){void 0}return this.isP3D=!0,a=this.drawingContext,a.clearColor(1,1,1,1),a.clearDepth(1),a.enable(a.DEPTH_TEST),a.depthFunc(a.LEQUAL),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),a.viewport(0,0,a.drawingBufferWidth,a.drawingBufferHeight),this.initShaders(),this.initHash(),this.initMatrix(),this},s.Renderer3D.prototype=Object.create(s.Renderer.prototype),s.Renderer3D.prototype._applyDefaults=function(){return this},s.Renderer3D.prototype.resize=function(e,t){s.Renderer.prototype.resize.call(this,e,t),a.viewport(0,0,a.drawingBufferWidth,a.drawingBufferHeight)},s.Renderer3D.prototype.initShaders=function(){var e=a.createShader(a.VERTEX_SHADER);if(a.shaderSource(e,l.testVert),a.compileShader(e),!a.getShaderParameter(e,a.COMPILE_STATUS))return void 0,null;var t=a.createShader(a.FRAGMENT_SHADER);return a.shaderSource(t,l.testFrag),a.compileShader(t),a.getShaderParameter(t,a.COMPILE_STATUS)?(i=a.createProgram(),a.attachShader(i,e),a.attachShader(i,t),a.linkProgram(i),a.getProgramParameter(i,a.LINK_STATUS)||void 0,a.useProgram(i),i.vertexPositionAttribute=a.getAttribLocation(i,"position"),a.enableVertexAttribArray(i.vertexPositionAttribute),i.vertexNormalAttribute=a.getAttribLocation(i,"normal"),a.enableVertexAttribArray(i.vertexNormalAttribute),i.uPMatrixUniform=a.getUniformLocation(i,"transformMatrix"),i.uMVMatrixUniform=a.getUniformLocation(i,"modelviewMatrix"),void(i.uNMatrixUniform=a.getUniformLocation(i,"normalMatrix"))):(void 0,null)},s.Renderer3D.prototype.initHash=function(){this.hash={},window.hash=this.hash},s.Renderer3D.prototype.initMatrix=function(){this.uMVMatrix=new s.Matrix,this.uPMatrix=new s.Matrix,this.uNMatrix=new s.Matrix,this._perspective(60/180*Math.PI,this.width/this.height,.1,100)},s.Renderer3D.prototype.resetMatrix=function(){this.uMVMatrix=s.Matrix.identity()},s.Renderer3D.prototype.background=function(){var e=this._pInst.color.apply(this._pInst,arguments),t=e.color_array[0]/255,r=e.color_array[1]/255,n=e.color_array[2]/255,o=e.color_array[3]/255;a.clearColor(t,r,n,o),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),this.resetMatrix()},s.Renderer3D.prototype.stroke=function(){this._stroke=this._pInst.color.apply(this._pInst,arguments)},s.Renderer3D.prototype.notInHash=function(e){return void 0===this.hash[e]},s.Renderer3D.prototype.initBuffer=function(e,t){this.hash[e]={},this.hash[e].len=t.len,this.hash[e].vertexBuffer=a.createBuffer(),this.hash[e].normalBuffer=a.createBuffer(),this.hash[e].indexBuffer=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.hash[e].vertexBuffer),a.bufferData(a.ARRAY_BUFFER,new Float32Array(t.vertices),a.STATIC_DRAW),a.vertexAttribPointer(i.vertexPositionAttribute,3,a.FLOAT,!1,0,0),a.bindBuffer(a.ARRAY_BUFFER,this.hash[e].normalBuffer),a.bufferData(a.ARRAY_BUFFER,new Float32Array(t.vertexNormals),a.STATIC_DRAW),a.vertexAttribPointer(i.vertexNormalAttribute,3,a.FLOAT,!1,0,0),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.hash[e].indexBuffer),a.bufferData(a.ELEMENT_ARRAY_BUFFER,new Uint16Array(t.faces),a.STATIC_DRAW)},s.Renderer3D.prototype.drawBuffer=function(e){a.bindBuffer(a.ARRAY_BUFFER,this.hash[e].vertexBuffer),a.vertexAttribPointer(i.vertexPositionAttribute,3,a.FLOAT,!1,0,0),a.bindBuffer(a.ARRAY_BUFFER,this.hash[e].normalBuffer),a.vertexAttribPointer(i.vertexNormalAttribute,3,a.FLOAT,!1,0,0),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.hash[e].indexBuffer),this.setMatrixUniforms(),a.drawElements(a.TRIANGLES,this.hash[e].len,a.UNSIGNED_SHORT,0)},s.Renderer3D.prototype.translate=function(e,t,r){return e/=100,t=-t/100,r/=100,this.uMVMatrix.translate([e,t,r]),this},s.Renderer3D.prototype.scale=function(e,t,r){return this.uMVMatrix.scale([e,t,r]),this},s.Renderer3D.prototype.rotateX=function(e){return this.uMVMatrix.rotateX(e),this},s.Renderer3D.prototype.rotateY=function(e){return this.uMVMatrix.rotateY(e),this},s.Renderer3D.prototype.rotateZ=function(e){return this.uMVMatrix.rotateZ(e),this},s.Renderer3D.prototype.push=function(){h.push(this.uMVMatrix.copy())},s.Renderer3D.prototype.pop=function(){if(0===h.length)throw"Invalid popMatrix!";this.uMVMatrix=h.pop()},s.Renderer3D.prototype.setMatrixUniforms=function(){a.uniformMatrix4fv(i.uPMatrixUniform,!1,this.uPMatrix.mat4),a.uniformMatrix4fv(i.uMVMatrixUniform,!1,this.uMVMatrix.mat4),this.uNMatrix=new s.Matrix,this.uNMatrix.invert(this.uMVMatrix),this.uNMatrix.transpose(this.uNMatrix),a.uniformMatrix4fv(i.uNMatrixUniform,!1,this.uNMatrix.mat4)},s.prototype.perspective=function(e,t,r,n){this._pInst._graphics._perspective(arguments)},s.Renderer3D.prototype._perspective=function(){var e=arguments[0],t=arguments[1],r=arguments[2],n=arguments[3],o=1/Math.tan(e/2),a=1/(r-n);return this.uPMatrix.mat4[0]=o/t,this.uPMatrix.mat4[1]=0,this.uPMatrix.mat4[2]=0,this.uPMatrix.mat4[3]=0,this.uPMatrix.mat4[4]=0,this.uPMatrix.mat4[5]=o,this.uPMatrix.mat4[6]=0,this.uPMatrix.mat4[7]=0,this.uPMatrix.mat4[8]=0,this.uPMatrix.mat4[9]=0,this.uPMatrix.mat4[10]=(n+r)*a,this.uPMatrix.mat4[11]=-1,this.uPMatrix.mat4[12]=0,this.uPMatrix.mat4[13]=0,this.uPMatrix.mat4[14]=2*n*r*a,this.uPMatrix.mat4[15]=0,this},s.Renderer3D}({},amdclean.core_core,amdclean._3d_shaders,amdclean.core_p5Renderer,amdclean._3d_p5Matrix),amdclean.core_rendering=function(e,t,r,n,o,a){var i=t,s=r;return i.prototype.createCanvas=function(e,t,r){var n,o,a=r||s.P2D;return arguments[3]&&(n="boolean"==typeof arguments[3]?arguments[3]:!1),a===s.WEBGL?(o=document.getElementById("defaultCanvas"),o&&o.parentNode.removeChild(o),o=document.createElement("canvas"),o.id="defaultCanvas"):n?(o=document.createElement("canvas"),o.id="defaultCanvas"):o=this.canvas,this._setupDone||(o.className+=" p5_hidden",o.style.visibility="hidden"),this._userNode?this._userNode.appendChild(o):document.body.appendChild(o),a===s.WEBGL?(this._setProperty("_graphics",new i.Renderer3D(o,this,!0)),this._isdefaultGraphics=!0):this._isdefaultGraphics||(this._setProperty("_graphics",new i.Renderer2D(o,this,!0)),this._isdefaultGraphics=!0),this._graphics.resize(e,t),this._graphics._applyDefaults(),this._graphics},i.prototype.resizeCanvas=function(e,t,r){this._graphics&&(this._graphics.resize(e,t),this._graphics._applyDefaults(),r||this.redraw())},i.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},i.prototype.createGraphics=function(e,t,r){return new i.Graphics(e,t,r,this)},i.prototype.blendMode=function(e){if(e!==s.BLEND&&e!==s.DARKEST&&e!==s.LIGHTEST&&e!==s.DIFFERENCE&&e!==s.MULTIPLY&&e!==s.EXCLUSION&&e!==s.SCREEN&&e!==s.REPLACE&&e!==s.OVERLAY&&e!==s.HARD_LIGHT&&e!==s.SOFT_LIGHT&&e!==s.DODGE&&e!==s.BURN&&e!==s.ADD&&e!==s.NORMAL)throw new Error("Mode "+e+" not recognized.");this._graphics.blendMode(e)},i}({},amdclean.core_core,amdclean.core_constants,amdclean.core_p5Graphics,amdclean.core_p5Renderer2D,amdclean._3d_p5Renderer3D),amdclean.core_2d_primitives=function(e,t,r,n){"use strict";var o=t,a=r,i=1e-5;return o.prototype._createArc=function(e,t,r){for(var n=2*Math.PI,o=[],a=Math.PI/2,s=r>t?1:-1,l=t,h=Math.min(n,Math.abs(r-t));h>i;){var p=l+s*Math.min(h,a);o.push(this._createSmallArc(e,l,p)),
h-=Math.abs(p-l),l=p}return o},o.prototype._createSmallArc=function(e,t,r){var n=(r-t)/2,o=e*Math.cos(n),a=e*Math.sin(n),i=o,s=-a,l=.5522847498,h=l*Math.tan(n),p=i+h*a,u=s+h*o,c=p,f=-u,d=n+t,m=Math.cos(d),g=Math.sin(d);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:p*m-u*g,y2:p*g+u*m,x3:c*m-f*g,y3:c*g+f*m,x4:e*Math.cos(r),y4:e*Math.sin(r)}},o.prototype.arc=function(e,t,r,n,o,i,s){if(!this._doStroke&&!this._doFill)return this;this._angleMode===a.DEGREES&&(o=this.radians(o),i=this.radians(i));var l=this._createArc(1,o,i);return this._graphics.arc(e,t,r,n,o,i,s,l),this},o.prototype.ellipse=function(e,t,r,n){return this._validateParameters("ellipse",arguments,["Number","Number","Number","Number"]),this._doStroke||this._doFill?(r=Math.abs(r),n=Math.abs(n),this._graphics.ellipse(e,t,r,n),this):this},o.prototype.line=function(){return this._validateParameters("line",arguments,[["Number","Number","Number","Number"],["Number","Number","Number","Number","Number","Number"]]),this._doStroke?void(this._graphics.isP3D?this._graphics.line(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]):this._graphics.line(arguments[0],arguments[1],arguments[2],arguments[3])):this},o.prototype.point=function(e,t){return this._validateParameters("point",arguments,["Number","Number"]),this._doStroke?(this._graphics.point(e,t),this):this},o.prototype.quad=function(e,t,r,n,o,a,i,s){return this._validateParameters("quad",arguments,["Number","Number","Number","Number","Number","Number","Number","Number"]),this._doStroke||this._doFill?(this._graphics.quad(e,t,r,n,o,a,i,s),this):this},o.prototype.rect=function(e,t,r,n,o,a,i,s){return this._validateParameters("rect",arguments,[["Number","Number","Number","Number"],["Number","Number","Number","Number","Number"],["Number","Number","Number","Number","Number","Number","Number","Number","Number"]]),this._doStroke||this._doFill?(this._graphics.rect(e,t,r,n,o,a,i,s),this):void 0},o.prototype.triangle=function(e,t,r,n,o,a){return this._validateParameters("triangle",arguments,["Number","Number","Number","Number","Number","Number"]),this._doStroke||this._doFill?(this._graphics.triangle(e,t,r,n,o,a),this):this},o}({},amdclean.core_core,amdclean.core_constants,amdclean.core_error_helpers),amdclean.core_attributes=function(e,t,r){"use strict";var n=t,o=r;return n.prototype._rectMode=o.CORNER,n.prototype._ellipseMode=o.CENTER,n.prototype.ellipseMode=function(e){return(e===o.CORNER||e===o.CORNERS||e===o.RADIUS||e===o.CENTER)&&(this._ellipseMode=e),this},n.prototype.noSmooth=function(){return this._graphics.noSmooth(),this},n.prototype.rectMode=function(e){return(e===o.CORNER||e===o.CORNERS||e===o.RADIUS||e===o.CENTER)&&(this._rectMode=e),this},n.prototype.smooth=function(){return this._graphics.smooth(),this},n.prototype.strokeCap=function(e){return(e===o.ROUND||e===o.SQUARE||e===o.PROJECT)&&this._graphics.strokeCap(e),this},n.prototype.strokeJoin=function(e){return(e===o.ROUND||e===o.BEVEL||e===o.MITER)&&this._graphics.strokeJoin(e),this},n.prototype.strokeWeight=function(e){return this._graphics.strokeWeight(e),this},n}({},amdclean.core_core,amdclean.core_constants),amdclean.core_curves=function(e,t,r){"use strict";var n=t,o=20,a=20;return n.prototype._curveTightness=0,n.prototype.bezier=function(e,t,r,n,o,a,i,s){return this._validateParameters("bezier",arguments,["Number","Number","Number","Number","Number","Number","Number","Number"]),this._doStroke?(this._graphics.bezier(e,t,r,n,o,a,i,s),this):this},n.prototype.bezierDetail=function(e){return o=e,this},n.prototype.bezierPoint=function(e,t,r,n,o){var a=1-o;return Math.pow(a,3)*e+3*Math.pow(a,2)*o*t+3*a*Math.pow(o,2)*r+Math.pow(o,3)*n},n.prototype.bezierTangent=function(e,t,r,n,o){var a=1-o;return 3*n*Math.pow(o,2)-3*r*Math.pow(o,2)+6*r*a*o-6*t*a*o+3*t*Math.pow(a,2)-3*e*Math.pow(a,2)},n.prototype.curve=function(e,t,r,n,o,a,i,s){return this._validateParameters("curve",arguments,["Number","Number","Number","Number","Number","Number","Number","Number"]),this._doStroke?(this._graphics.curve(e,t,r,n,o,a,i,s),this):void 0},n.prototype.curveDetail=function(e){return a=e,this},n.prototype.curveTightness=function(e){this._setProperty("_curveTightness",e)},n.prototype.curvePoint=function(e,t,r,n,o){var a=o*o*o,i=o*o,s=-.5*a+i-.5*o,l=1.5*a-2.5*i+1,h=-1.5*a+2*i+.5*o,p=.5*a-.5*i;return e*s+t*l+r*h+n*p},n.prototype.curveTangent=function(e,t,r,n,o){var a=o*o,i=-3*a/2+2*o-.5,s=9*a/2-5*o,l=-9*a/2+4*o+.5,h=3*a/2-o;return e*i+t*s+r*l+n*h},n}({},amdclean.core_core,amdclean.core_error_helpers),amdclean.core_vertex=function(e,t,r){"use strict";var n=t,o=r,a=null,i=[],s=[],l=!1,h=!1,p=!1,u=!1;return n.prototype.beginContour=function(){return s=[],u=!0,this},n.prototype.beginShape=function(e){return a=e===o.POINTS||e===o.LINES||e===o.TRIANGLES||e===o.TRIANGLE_FAN||e===o.TRIANGLE_STRIP||e===o.QUADS||e===o.QUAD_STRIP?e:null,i=[],s=[],this},n.prototype.bezierVertex=function(e,t,r,n,o,a){if(0===i.length)throw"vertex() must be used once before calling bezierVertex()";l=!0;for(var h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];return h.isVert=!1,u?s.push(h):i.push(h),this},n.prototype.curveVertex=function(e,t){return h=!0,this.vertex(e,t),this},n.prototype.endContour=function(){var e=s[0].slice();e.isVert=s[0].isVert,e.moveTo=!1,s.push(e),i.push(i[0]);for(var t=0;t<s.length;t++)i.push(s[t]);return this},n.prototype.endShape=function(e){if(0===i.length)return this;if(!this._doStroke&&!this._doFill)return this;var t=e===o.CLOSE;return t&&!u&&i.push(i[0]),this._graphics.endShape(e,i,h,l,p,u,a),h=!1,l=!1,p=!1,u=!1,t&&i.pop(),this},n.prototype.quadraticVertex=function(e,t,r,n){if(this._contourInited){var a={};return a.x=e,a.y=t,a.x3=r,a.y3=n,a.type=o.QUADRATIC,this._contourVertices.push(a),this}if(!(i.length>0))throw"vertex() must be used once before calling quadraticVertex()";p=!0;for(var l=[],h=0;h<arguments.length;h++)l[h]=arguments[h];return l.isVert=!1,u?s.push(l):i.push(l),this},n.prototype.vertex=function(e,t,r){var n=[];return n.isVert=!0,n[0]=e,n[1]=t,n[2]=0,n[3]=0,n[4]=0,n[5]=this._graphics._getFill(),n[6]=this._graphics._getStroke(),r&&(n.moveTo=r),u?(0===s.length&&(n.moveTo=!0),s.push(n)):i.push(n),this},n}({},amdclean.core_core,amdclean.core_constants),amdclean.core_structure=function(e,t){"use strict";var r=t;return r.prototype.exit=function(){throw"exit() not implemented, see remove()"},r.prototype.noLoop=function(){this._loop=!1},r.prototype.loop=function(){this._loop=!0,this._draw()},r.prototype.push=function(){this._graphics.push(),this._styles.push({doStroke:this._doStroke,doFill:this._doFill,tint:this._tint,imageMode:this._imageMode,rectMode:this._rectMode,ellipseMode:this._ellipseMode,colorMode:this._colorMode,textFont:this.textFont,textLeading:this.textLeading,textSize:this.textSize,textStyle:this.textStyle})},r.prototype.pop=function(){this._graphics.pop();var e=this._styles.pop();this._doStroke=e.doStroke,this._doFill=e.doFill,this._tint=e.tint,this._imageMode=e.imageMode,this._rectMode=e.rectMode,this._ellipseMode=e.ellipseMode,this._colorMode=e.colorMode,this.textFont=e.textFont,this.textLeading=e.textLeading,this.textSize=e.textSize,this.textStyle=e.textStyle},r.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},r.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},r.prototype.redraw=function(){var e=this.setup||window.setup,t=this.draw||window.draw;"function"==typeof t&&(this.push(),"undefined"==typeof e&&this.scale(this.pixelDensity,this.pixelDensity),this._registeredMethods.pre.forEach(function(e){e.call(this)}),t(),this._registeredMethods.post.forEach(function(e){e.call(this)}),this.pop())},r.prototype.size=function(){throw"size() not implemented, see createCanvas()"},r}({},amdclean.core_core),amdclean.core_transform=function(e,t,r){"use strict";var n=t,o=r;return n.prototype.applyMatrix=function(e,t,r,n,o,a){return this._graphics.applyMatrix(e,t,r,n,o,a),this},n.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},n.prototype.printMatrix=function(){throw new Error("printMatrix() not implemented")},n.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},n.prototype.resetMatrix=function(){return this._graphics.resetMatrix(),this},n.prototype.rotate=function(e){return this._angleMode===o.DEGREES&&(e=this.radians(e)),this._graphics.rotate(e),this},n.prototype.rotateX=function(e){if(!this._graphics.isP3D)throw"not yet implemented.";return this._graphics.rotateX(e),this},n.prototype.rotateY=function(e){if(!this._graphics.isP3D)throw"not yet implemented.";return this._graphics.rotateY(e),this},n.prototype.rotateZ=function(e){if(!this._graphics.isP3D)throw"not supported in p2d. Please use webgl mode";return this._graphics.rotateZ(e),this},n.prototype.scale=function(){return this._graphics.isP3D?this._graphics.scale(arguments[0],arguments[1],arguments[2]):this._graphics.scale.apply(this._graphics,arguments),this},n.prototype.shearX=function(e){return this._angleMode===o.DEGREES&&(e=this.radians(e)),this._graphics.shearX(e),this},n.prototype.shearY=function(e){return this._angleMode===o.DEGREES&&(e=this.radians(e)),this._graphics.shearY(e),this},n.prototype.translate=function(e,t,r){return this._graphics.isP3D?this._graphics.translate(e,t,r):this._graphics.translate(e,t),this},n}({},amdclean.core_core,amdclean.core_constants),amdclean.typography_attributes=function(e,t,r){"use strict";var n=t,o=r;return n.prototype._textSize=12,n.prototype._textLeading=15,n.prototype._textFont="sans-serif",n.prototype._textStyle=o.NORMAL,n.prototype._textAscent=null,n.prototype._textDescent=null,n.prototype.textAlign=function(e,t){return this._graphics.textAlign(e,t)},n.prototype.textLeading=function(e){return arguments.length?(this._setProperty("_textLeading",e),this):this._textLeading},n.prototype.textSize=function(e){return arguments.length?(this._setProperty("_textSize",e),this._setProperty("_textLeading",e*o._DEFAULT_LEADMULT),this._graphics._applyTextProperties()):this._textSize},n.prototype.textStyle=function(e){return arguments.length?((e===o.NORMAL||e===o.ITALIC||e===o.BOLD)&&this._setProperty("_textStyle",e),this._graphics._applyTextProperties()):this._textStyle},n.prototype.textWidth=function(e){return this._graphics.textWidth(e)},n.prototype.textAscent=function(){return null===this._textAscent&&this._updateTextMetrics(),this._textAscent},n.prototype.textDescent=function(){return null===this._textDescent&&this._updateTextMetrics(),this._textDescent},n.prototype._isOpenType=function(e){return e=e||this._textFont,"object"==typeof e&&e.font&&e.font.supported},n.prototype._updateTextMetrics=function(){if(this._isOpenType())return this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent()),this;var e=document.createElement("span");e.style.fontFamily=this._textFont,e.style.fontSize=this._textSize+"px",e.innerHTML="ABCjgq|";var t=document.createElement("div");t.style.display="inline-block",t.style.width="1px",t.style.height="0px";var r=document.createElement("div");r.appendChild(e),r.appendChild(t),r.style.height="0px",r.style.overflow="hidden",document.body.appendChild(r),t.style.verticalAlign="baseline";var n=this._calculateOffset(t),o=this._calculateOffset(e),a=n[1]-o[1];t.style.verticalAlign="bottom",n=this._calculateOffset(t),o=this._calculateOffset(e);var i=n[1]-o[1],s=i-a;return document.body.removeChild(r),this._setProperty("_textAscent",a),this._setProperty("_textDescent",s),this},n.prototype._calculateOffset=function(e){var t=0,r=0;if(e.offsetParent){do t+=e.offsetLeft,r+=e.offsetTop;while(e=e.offsetParent)}else t+=e.offsetLeft,r+=e.offsetTop;return[t,r]},n}({},amdclean.core_core,amdclean.core_constants),amdclean.typography_loading_displaying=function(e,t,r,n){"use strict";var o=t,a=r;return o.prototype.text=function(e,t,r,n,o){return this._validateParameters("text",arguments,[["*","Number","Number"],["*","Number","Number","Number","Number"]]),this._doFill||this._doStroke?this._graphics.text.apply(this._graphics,arguments):this},o.prototype.textFont=function(e,t){if(arguments.length){if(!e)throw Error("null font passed to textFont");return this._setProperty("_textFont",e),t&&(this._setProperty("_textSize",t),this._setProperty("_textLeading",t*a._DEFAULT_LEADMULT)),this._graphics._applyTextProperties()}return this},o}({},amdclean.core_core,amdclean.core_constants,amdclean.core_error_helpers),amdclean._3d_p5Geometry3D=function(e,t){"use strict";function r(e){return e.reduce(function(e,t){return e.concat(t)})}function n(e){return r(e.map(function(e){return[e.x,e.y,e.z]}))}var o=t;return o.Geometry3D=function(){this.vertices=[],this.vertexNormals=[],this.faces=[],this.faceNormals=[],this.uvs=[]},o.Geometry3D.prototype.parametricGeometry=function(e,t,r,n){var o,a,i,s,l;n=n||0;var h=t+1;for(o=0;r>=o;o++)for(l=o/r,a=0;t>=a;a++)s=a/t,i=e(s,l),this.vertices.push(i);var p,u,c,f,d,m,g,y;for(o=0;r>o;o++)for(a=0;t>a;a++)p=o*h+a+n,u=o*h+a+1+n,c=(o+1)*h+a+1+n,f=(o+1)*h+a+n,d=[a/t,o/r],m=[(a+1)/t,o/r],g=[(a+1)/t,(o+1)/r],y=[a/t,(o+1)/r],this.faces.push([p,u,f]),this.uvs.push([d,m,y]),this.faces.push([u,c,f]),this.uvs.push([m,g,y])},o.Geometry3D.prototype.mergeVertices=function(){var e,t,r,n,o,a={},i=[],s=[],l=4,h=Math.pow(10,l);for(r=0;r<this.vertices.length;r++)e=this.vertices[r],t=Math.round(e.x*h)+"_"+Math.round(e.y*h)+"_"+Math.round(e.z*h),void 0===a[t]?(a[t]=r,i.push(this.vertices[r]),s[r]=i.length-1):s[r]=s[a[t]];var p=[];for(r=0;r<this.faces.length;r++){n=this.faces[r],n[0]=s[n[0]],n[1]=s[n[1]],n[2]=s[n[2]],o=[n[0],n[1],n[2]];for(var u=-1,c=0;3>c;c++)if(o[c]===o[(c+1)%3]){u=c,p.push(r);break}}for(r=p.length-1;r>=0;r--){var f=p[r];this.faces.splice(f,1)}var d=this.vertices.length-i.length;return this.vertices=i,d},o.Geometry3D.prototype.computeFaceNormals=function(){for(var e=new o.Vector,t=new o.Vector,r=0;r<this.faces.length;r++){var n=this.faces[r],a=this.vertices[n[0]],i=this.vertices[n[1]],s=this.vertices[n[2]];o.Vector.sub(s,i,e),o.Vector.sub(a,i,t);var l=o.Vector.cross(t,e);l.normalize(),l.mult(-1),this.faceNormals[r]=l}},o.Geometry3D.prototype.computeVertexNormals=function(){var e,t,r,n,a,i=[];for(a=new Array(this.vertices.length),e=0;e<this.vertices.length;e++)a[e]=new o.Vector;for(t=0;t<this.faces.length;t++)r=this.faces[t],n=this.faceNormals[t],a[r[0]].add(n),a[r[1]].add(n),a[r[2]].add(n);for(e=0;e<this.vertices.length;e++)a[e].normalize();for(t=0;t<this.faces.length;t++)r=this.faces[t],i[t]=[],i[t][0]=a[r[0]].copy(),i[t][1]=a[r[1]].copy(),i[t][2]=a[r[2]].copy();for(t=0;t<this.faces.length;t++)r=this.faces[t],n=this.faceNormals[t],this.vertexNormals[r[0]]=i[t][0],this.vertexNormals[r[1]]=i[t][1],this.vertexNormals[r[2]]=i[t][2]},o.Geometry3D.prototype.generateObj=function(e){e||this.mergeVertices(),this.computeFaceNormals(),this.computeVertexNormals();var t={vertices:n(this.vertices),vertexNormals:n(this.vertexNormals),faces:r(this.faces),len:3*this.faces.length};return t},o.Geometry3D}({},amdclean.core_core),amdclean._3d_3d_primitives=function(e,t,r){"use strict";var n=t;return n.prototype.plane=function(e,t,r,o){e=e||1,t=t||1,r=r||1,o=o||1;var a="plane|"+e+"|"+t+"|"+r+"|"+o;if(this._graphics.notInHash(a)){var i=new n.Geometry3D,s=function(r,o){var a=2*e*r-e,i=2*t*o-t,s=0;return new n.Vector(a,i,s)};i.parametricGeometry(s,r,o);var l=i.generateObj();this._graphics.initBuffer(a,l)}this._graphics.drawBuffer(a)},n.prototype.sphere=function(e,t,r){e=e||50,t=t||10,r=r||6;var o="sphere|"+e+"|"+t+"|"+r;if(this._graphics.notInHash(o)){var a=new n.Geometry3D,i=function(t,r){var o=2*Math.PI*t,a=Math.PI*r-Math.PI/2,i=e*Math.cos(a)*Math.sin(o),s=e*Math.sin(a),l=e*Math.cos(a)*Math.cos(o);return new n.Vector(i,s,l)};a.parametricGeometry(i,t,r);var s=a.generateObj();this._graphics.initBuffer(o,s)}return this._graphics.drawBuffer(o),this},n.prototype.cylinder=function(e,t,r,o){e=e||50,t=t||50,r=r||10,o=o||6;var a="cylinder|"+e+"|"+t+"|"+r+"|"+o;if(this._graphics.notInHash(a)){var i=new n.Geometry3D,s=function(r,o){var a=2*Math.PI*r,i=e*Math.sin(a),s=2*t*o-t,l=e*Math.cos(a);return new n.Vector(i,s,l)};i.parametricGeometry(s,r,o);var l=i.generateObj();this._graphics.initBuffer(a,l)}return this._graphics.drawBuffer(a),this},n.prototype.cone=function(e,t,r,o){e=e||50,t=t||50,r=r||10,o=o||6;var a="cone|"+e+"|"+t+"|"+r+"|"+o;if(this._graphics.notInHash(a)){var i=new n.Geometry3D,s=function(r,o){var a=2*Math.PI*r,i=e*(1-o)*Math.sin(a),s=2*t*o-t,l=e*(1-o)*Math.cos(a);return new n.Vector(i,s,l)};i.parametricGeometry(s,r,o);var l=i.generateObj();this._graphics.initBuffer(a,l)}return this._graphics.drawBuffer(a),this},n.prototype.torus=function(e,t,r,o){e=e||50,t=t||20,r=r||10,o=o||6;var a="torus|"+e+"|"+t+"|"+r+"|"+o;if(this._graphics.notInHash(a)){var i=new n.Geometry3D,s=function(r,o){var a=2*Math.PI*r,i=2*Math.PI*o,s=(e+t*Math.cos(i))*Math.cos(a),l=(e+t*Math.cos(i))*Math.sin(a),h=t*Math.sin(i);return new n.Vector(s,l,h)};i.parametricGeometry(s,r,o);var l=i.generateObj();this._graphics.initBuffer(a,l)}return this._graphics.drawBuffer(a),this},n.prototype.box=function(e,t,r){e=e||10,t=t||e,r=r||e;var o=typeof arguments[3]===Number?arguments[3]:1,a=typeof arguments[4]===Number?arguments[4]:1,i="cube|"+e+"|"+t+"|"+r+"|"+o+"|"+a;if(this._graphics.notInHash(i)){var s=new n.Geometry3D,l=function(o,a){var i=2*e*o-e,s=2*t*a-t,l=r;return new n.Vector(i,s,l)},h=function(o,a){var i=2*e*o-e,s=2*t*a-t,l=-r;return new n.Vector(i,s,l)},p=function(o,a){var i=2*e*o-e,s=t,l=2*r*a-r;return new n.Vector(i,s,l)},u=function(o,a){var i=2*e*o-e,s=-t,l=2*r*a-r;return new n.Vector(i,s,l)},c=function(o,a){var i=e,s=2*t*o-t,l=2*r*a-r;return new n.Vector(i,s,l)},f=function(o,a){var i=-e,s=2*t*o-t,l=2*r*a-r;return new n.Vector(i,s,l)};s.parametricGeometry(l,o,a,s.vertices.length),s.parametricGeometry(h,o,a,s.vertices.length),s.parametricGeometry(p,o,a,s.vertices.length),s.parametricGeometry(u,o,a,s.vertices.length),s.parametricGeometry(c,o,a,s.vertices.length),s.parametricGeometry(f,o,a,s.vertices.length);var d=s.generateObj(!0);this._graphics.initBuffer(i,d)}return this._graphics.drawBuffer(i),this},n}({},amdclean.core_core,amdclean._3d_p5Geometry3D),amdclean.app=function(e,t,r,n,o,a,i,s,l,h,p,u,c,f,d,m,g,y,v,_,x,b,w,S,T,R,C,M,E,I,D,O,A,P,N,k,U,F,L,B,G,H,z,q,V,j){"use strict";var W=t,X=function(){window.PHANTOMJS||window.mocha||(window.setup&&"function"==typeof window.setup||window.draw&&"function"==typeof window.draw)&&new W};return"complete"===document.readyState?X():window.addEventListener("load",X,!1),W}({},amdclean.core_core,amdclean.color_p5Color,amdclean.core_p5Element,amdclean.typography_p5Font,amdclean.core_p5Graphics,amdclean.core_p5Renderer2D,amdclean.image_p5Image,amdclean.math_p5Vector,amdclean.io_p5TableRow,amdclean.io_p5Table,amdclean.color_creating_reading,amdclean.color_setting,amdclean.core_constants,amdclean.utilities_conversion,amdclean.utilities_array_functions,amdclean.utilities_string_functions,amdclean.core_environment,amdclean.image_image,amdclean.image_loading_displaying,amdclean.image_pixels,amdclean.io_files,amdclean.events_keyboard,amdclean.events_acceleration,amdclean.events_mouse,amdclean.utilities_time_date,amdclean.events_touch,amdclean.math_math,amdclean.math_calculation,amdclean.math_random,amdclean.math_noise,amdclean.math_trigonometry,amdclean.core_rendering,amdclean.core_2d_primitives,amdclean.core_attributes,amdclean.core_curves,amdclean.core_vertex,amdclean.core_structure,amdclean.core_transform,amdclean.typography_attributes,amdclean.typography_loading_displaying,amdclean._3d_p5Renderer3D,amdclean._3d_p5Geometry3D,amdclean._3d_3d_primitives,amdclean._3d_shaders,amdclean._3d_p5Matrix),amdclean.app}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.opentype=e()}}(function(){return function e(t,r,n){function o(i,s){if(!r[i]){if(!t[i]){var l="function"==typeof require&&require;if(!s&&l)return l(i,!0);if(a)return a(i,!0);var h=new Error("Cannot find module '"+i+"'");throw h.code="MODULE_NOT_FOUND",h}var p=r[i]={exports:{}};t[i][0].call(p.exports,function(e){var r=t[i][1][e];return o(r?r:e)},p,p.exports,e,t,r,n)}return r[i].exports}for(var a="function"==typeof require&&require,i=0;i<n.length;i++)o(n[i]);return o}({1:[function(e,t,r){"use strict";r.argument=function(e,t){if(!e)throw new Error(t)},r.assert=r.argument},{}],2:[function(e,t,r){"use strict";function n(e,t,r,n,o){e.beginPath(),e.moveTo(t,r),e.lineTo(n,o),e.stroke()}r.line=n},{}],3:[function(e,t,r){"use strict";function n(e){this.font=e}function o(e){this.cmap=e}function a(e,t){this.encoding=e,this.charset=t}function i(e){var t;switch(e.version){case 1:this.names=r.standardNames.slice();break;case 2:for(this.names=new Array(e.numberOfGlyphs),t=0;t<e.numberOfGlyphs;t++)this.names[t]=e.glyphNameIndex[t]<r.standardNames.length?r.standardNames[e.glyphNameIndex[t]]:e.names[e.glyphNameIndex[t]-r.standardNames.length];break;case 2.5:for(this.names=new Array(e.numberOfGlyphs),t=0;t<e.numberOfGlyphs;t++)this.names[t]=r.standardNames[t+e.glyphNameIndex[t]];break;case 3:this.names=[]}}function s(e){for(var t,r=e.tables.cmap.glyphIndexMap,n=Object.keys(r),o=0;o<n.length;o+=1){var a=n[o],i=r[a];t=e.glyphs[i],t.addUnicode(parseInt(a))}for(o=0;o<e.glyphs.length;o+=1)t=e.glyphs[o],t.name=e.cffEncoding?e.cffEncoding.charset[o]:e.glyphNames.glyphIndexToName(o)}var l=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],h=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],p=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],u=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];
n.prototype.charToGlyphIndex=function(e){var t=e.charCodeAt(0),r=this.font.glyphs;if(!r)return null;for(var n=0;n<r.length;n+=1)for(var o=r[n],a=0;a<o.unicodes.length;a+=1)if(o.unicodes[a]===t)return n},o.prototype.charToGlyphIndex=function(e){return this.cmap.glyphIndexMap[e.charCodeAt(0)]||0},a.prototype.charToGlyphIndex=function(e){var t=e.charCodeAt(0),r=this.encoding[t];return this.charset.indexOf(r)},i.prototype.nameToGlyphIndex=function(e){return this.names.indexOf(e)},i.prototype.glyphIndexToName=function(e){return this.names[e]},r.cffStandardStrings=l,r.cffStandardEncoding=h,r.cffExpertEncoding=p,r.standardNames=u,r.DefaultEncoding=n,r.CmapEncoding=o,r.CffEncoding=a,r.GlyphNames=i,r.addGlyphNames=s},{}],4:[function(e,t,r){"use strict";function n(e){e=e||{},this.familyName=e.familyName||" ",this.styleName=e.styleName||" ",this.designer=e.designer||" ",this.designerURL=e.designerURL||" ",this.manufacturer=e.manufacturer||" ",this.manufacturerURL=e.manufacturerURL||" ",this.license=e.license||" ",this.licenseURL=e.licenseURL||" ",this.version=e.version||"Version 0.1",this.description=e.description||" ",this.copyright=e.copyright||" ",this.trademark=e.trademark||" ",this.unitsPerEm=e.unitsPerEm||1e3,this.ascender=e.ascender,this.descender=e.descender,this.supported=!0,this.glyphs=e.glyphs||[],this.encoding=new i.DefaultEncoding(this),this.tables={}}var o=e("./path"),a=e("./tables/sfnt"),i=e("./encoding");n.prototype.hasChar=function(e){return null!==this.encoding.charToGlyphIndex(e)},n.prototype.charToGlyphIndex=function(e){return this.encoding.charToGlyphIndex(e)},n.prototype.charToGlyph=function(e){var t=this.charToGlyphIndex(e),r=this.glyphs[t];return r||(r=this.glyphs[0]),r},n.prototype.stringToGlyphs=function(e){for(var t=[],r=0;r<e.length;r+=1){var n=e[r];t.push(this.charToGlyph(n))}return t},n.prototype.nameToGlyphIndex=function(e){return this.glyphNames.nameToGlyphIndex(e)},n.prototype.nameToGlyph=function(e){var t=this.nametoGlyphIndex(e),r=this.glyphs[t];return r||(r=this.glyphs[0]),r},n.prototype.glyphIndexToName=function(e){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(e):""},n.prototype.getKerningValue=function(e,t){e=e.index||e,t=t.index||t;var r=this.getGposKerningValue;return r?r(e,t):this.kerningPairs[e+","+t]||0},n.prototype.forEachGlyph=function(e,t,r,n,o,a){if(this.supported){t=void 0!==t?t:0,r=void 0!==r?r:0,n=void 0!==n?n:72,o=o||{};for(var i=void 0===o.kerning?!0:o.kerning,s=1/this.unitsPerEm*n,l=this.stringToGlyphs(e),h=0;h<l.length;h+=1){var p=l[h];if(a(p,t,r,n,o),p.advanceWidth&&(t+=p.advanceWidth*s),i&&h<l.length-1){var u=this.getKerningValue(p,l[h+1]);t+=u*s}}}},n.prototype.getPath=function(e,t,r,n,a){var i=new o.Path;return this.forEachGlyph(e,t,r,n,a,function(e,t,r,n){var o=e.getPath(t,r,n);i.extend(o)}),i},n.prototype.draw=function(e,t,r,n,o,a){this.getPath(t,r,n,o,a).draw(e)},n.prototype.drawPoints=function(e,t,r,n,o,a){this.forEachGlyph(t,r,n,o,a,function(t,r,n,o){t.drawPoints(e,r,n,o)})},n.prototype.drawMetrics=function(e,t,r,n,o,a){this.forEachGlyph(t,r,n,o,a,function(t,r,n,o){t.drawMetrics(e,r,n,o)})},n.prototype.validate=function(){function e(e,t){e||r.push(t)}function t(t){e(n[t]&&n[t].trim().length>0,"No "+t+" specified.")}var r=[],n=this;t("familyName"),t("weightName"),t("manufacturer"),t("copyright"),t("version"),e(this.unitsPerEm>0,"No unitsPerEm specified.")},n.prototype.toTables=function(){return a.fontToTable(this)},n.prototype.toBuffer=function(){for(var e=this.toTables(),t=e.encode(),r=new ArrayBuffer(t.length),n=new Uint8Array(r),o=0;o<t.length;o++)n[o]=t[o];return r},n.prototype.download=function(){var e=this.familyName.replace(/\s/g,"")+"-"+this.styleName+".otf",t=this.toBuffer();window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,t.byteLength,function(r){r.root.getFile(e,{create:!0},function(e){e.createWriter(function(r){var n=new DataView(t),o=new Blob([n],{type:"font/opentype"});r.write(o),r.addEventListener("writeend",function(){location.href=e.toURL()},!1)})})},function(e){throw e})},r.Font=n},{"./encoding":3,"./path":8,"./tables/sfnt":23}],5:[function(e,t,r){"use strict";function n(e){this.font=e.font||null,this.index=e.index||0,this.name=e.name||null,this.unicode=e.unicode||void 0,this.unicodes=e.unicodes||void 0!==e.unicode?[e.unicode]:[],this.xMin=e.xMin||0,this.yMin=e.yMin||0,this.xMax=e.xMax||0,this.yMax=e.yMax||0,this.advanceWidth=e.advanceWidth||0,this.path=e.path||null}var o=e("./check"),a=e("./draw"),i=e("./path");n.prototype.addUnicode=function(e){0===this.unicodes.length&&(this.unicode=e),this.unicodes.push(e)},n.prototype.getPath=function(e,t,r){e=void 0!==e?e:0,t=void 0!==t?t:0,r=void 0!==r?r:72;for(var n=1/this.font.unitsPerEm*r,o=new i.Path,a=this.path.commands,s=0;s<a.length;s+=1){var l=a[s];"M"===l.type?o.moveTo(e+l.x*n,t+-l.y*n):"L"===l.type?o.lineTo(e+l.x*n,t+-l.y*n):"Q"===l.type?o.quadraticCurveTo(e+l.x1*n,t+-l.y1*n,e+l.x*n,t+-l.y*n):"C"===l.type?o.curveTo(e+l.x1*n,t+-l.y1*n,e+l.x2*n,t+-l.y2*n,e+l.x*n,t+-l.y*n):"Z"===l.type&&o.closePath()}return o},n.prototype.getContours=function(){if(void 0===this.points)return[];for(var e=[],t=[],r=0;r<this.points.length;r+=1){var n=this.points[r];t.push(n),n.lastPointOfContour&&(e.push(t),t=[])}return o.argument(0===t.length,"There are still points left in the current contour."),e},n.prototype.getMetrics=function(){for(var e=this.path.commands,t=[],r=[],n=0;n<e.length;n+=1){var o=e[n];"Z"!==o.type&&(t.push(o.x),r.push(o.y)),("Q"===o.type||"C"===o.type)&&(t.push(o.x1),r.push(o.y1)),"C"===o.type&&(t.push(o.x2),r.push(o.y2))}var a={xMin:Math.min.apply(null,t),yMin:Math.min.apply(null,r),xMax:Math.max.apply(null,t),yMax:Math.max.apply(null,r),leftSideBearing:0};return a.rightSideBearing=this.advanceWidth-a.leftSideBearing-(a.xMax-a.xMin),a},n.prototype.draw=function(e,t,r,n){this.getPath(t,r,n).draw(e)},n.prototype.drawPoints=function(e,t,r,n){function o(t,r,n,o){var a=2*Math.PI;e.beginPath();for(var i=0;i<t.length;i+=1)e.moveTo(r+t[i].x*o,n+t[i].y*o),e.arc(r+t[i].x*o,n+t[i].y*o,2,0,a,!1);e.closePath(),e.fill()}t=void 0!==t?t:0,r=void 0!==r?r:0,n=void 0!==n?n:24;for(var a=1/this.font.unitsPerEm*n,i=[],s=[],l=this.path,h=0;h<l.commands.length;h+=1){var p=l.commands[h];void 0!==p.x&&i.push({x:p.x,y:-p.y}),void 0!==p.x1&&s.push({x:p.x1,y:-p.y1}),void 0!==p.x2&&s.push({x:p.x2,y:-p.y2})}e.fillStyle="blue",o(i,t,r,a),e.fillStyle="red",o(s,t,r,a)},n.prototype.drawMetrics=function(e,t,r,n){var o;t=void 0!==t?t:0,r=void 0!==r?r:0,n=void 0!==n?n:24,o=1/this.font.unitsPerEm*n,e.lineWidth=1,e.strokeStyle="black",a.line(e,t,-1e4,t,1e4),a.line(e,-1e4,r,1e4,r),e.strokeStyle="blue",a.line(e,t+this.xMin*o,-1e4,t+this.xMin*o,1e4),a.line(e,t+this.xMax*o,-1e4,t+this.xMax*o,1e4),a.line(e,-1e4,r+-this.yMin*o,1e4,r+-this.yMin*o),a.line(e,-1e4,r+-this.yMax*o,1e4,r+-this.yMax*o),e.strokeStyle="green",a.line(e,t+this.advanceWidth*o,-1e4,t+this.advanceWidth*o,1e4)},r.Glyph=n},{"./check":1,"./draw":2,"./path":8}],6:[function(e,t,r){"use strict";function n(e){for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n<e.length;n+=1)r[n]=e[n];return t}function o(t,r){var o=e("fs");o.readFile(t,function(e,t){return e?r(e.message):void r(null,n(t))})}function a(e,t){var r=new XMLHttpRequest;r.open("get",e,!0),r.responseType="arraybuffer",r.onload=function(){return 200!==r.status?t("Font could not be loaded: "+r.statusText):t(null,r.response)},r.send()}function i(e){var t,r,n,o,a,i,s,p=new h.Font,c=new DataView(e,0),C=u.getFixed(c,0);if(1===C)p.outlinesFormat="truetype";else{if(C=u.getTag(c,0),"OTTO"!==C)throw new Error("Unsupported OpenType version "+C);p.outlinesFormat="cff"}for(var M=u.getUShort(c,4),E=12,I=0;M>I;I+=1){var D=u.getTag(c,E),O=u.getULong(c,E+8);switch(D){case"cmap":p.tables.cmap=f.parse(c,O),p.encoding=new l.CmapEncoding(p.tables.cmap),p.encoding||(p.supported=!1);break;case"head":p.tables.head=y.parse(c,O),p.unitsPerEm=p.tables.head.unitsPerEm,t=p.tables.head.indexToLocFormat;break;case"hhea":p.tables.hhea=v.parse(c,O),p.ascender=p.tables.hhea.ascender,p.descender=p.tables.hhea.descender,p.numberOfHMetrics=p.tables.hhea.numberOfHMetrics;break;case"hmtx":r=O;break;case"maxp":p.tables.maxp=w.parse(c,O),p.numGlyphs=p.tables.maxp.numGlyphs;break;case"name":p.tables.name=S.parse(c,O),p.familyName=p.tables.name.fontFamily,p.styleName=p.tables.name.fontSubfamily;break;case"OS/2":p.tables.os2=T.parse(c,O);break;case"post":p.tables.post=R.parse(c,O),p.glyphNames=new l.GlyphNames(p.tables.post);break;case"glyf":n=O;break;case"loca":o=O;break;case"CFF ":a=O;break;case"kern":i=O;break;case"GPOS":s=O}E+=16}if(n&&o){var A=0===t,P=b.parse(c,o,p.numGlyphs,A);p.glyphs=m.parse(c,n,P,p),_.parse(c,r,p.numberOfHMetrics,p.numGlyphs,p.glyphs),l.addGlyphNames(p)}else a?(d.parse(c,a,p),l.addGlyphNames(p)):p.supported=!1;return p.supported&&(p.kerningPairs=i?x.parse(c,i):{},s&&g.parse(c,s,p)),p}function s(e,t){var r="undefined"==typeof window,n=r?o:a;n(e,function(e,r){if(e)return t(e);var n=i(r);return n.supported?t(null,n):t("Font is not supported (is this a Postscript font?)")})}var l=e("./encoding"),h=e("./font"),p=e("./glyph"),u=e("./parse"),c=e("./path"),f=e("./tables/cmap"),d=e("./tables/cff"),m=e("./tables/glyf"),g=e("./tables/gpos"),y=e("./tables/head"),v=e("./tables/hhea"),_=e("./tables/hmtx"),x=e("./tables/kern"),b=e("./tables/loca"),w=e("./tables/maxp"),S=e("./tables/name"),T=e("./tables/os2"),R=e("./tables/post");r._parse=u,r.Font=h.Font,r.Glyph=p.Glyph,r.Path=c.Path,r.parse=i,r.load=s},{"./encoding":3,"./font":4,"./glyph":5,"./parse":7,"./path":8,"./tables/cff":10,"./tables/cmap":11,"./tables/glyf":12,"./tables/gpos":13,"./tables/head":14,"./tables/hhea":15,"./tables/hmtx":16,"./tables/kern":17,"./tables/loca":18,"./tables/maxp":19,"./tables/name":20,"./tables/os2":21,"./tables/post":22,fs:void 0}],7:[function(e,t,r){"use strict";function n(e,t){this.data=e,this.offset=t,this.relativeOffset=0}r.getByte=function(e,t){return e.getUint8(t)},r.getCard8=r.getByte,r.getUShort=function(e,t){return e.getUint16(t,!1)},r.getCard16=r.getUShort,r.getShort=function(e,t){return e.getInt16(t,!1)},r.getULong=function(e,t){return e.getUint32(t,!1)},r.getFixed=function(e,t){var r=e.getInt16(t,!1),n=e.getUint16(t+2,!1);return r+n/65535},r.getTag=function(e,t){for(var r="",n=t;t+4>n;n+=1)r+=String.fromCharCode(e.getInt8(n));return r},r.getOffset=function(e,t,r){for(var n=0,o=0;r>o;o+=1)n<<=8,n+=e.getUint8(t+o);return n},r.getBytes=function(e,t,r){for(var n=[],o=t;r>o;o+=1)n.push(e.getUint8(o));return n},r.bytesToString=function(e){for(var t="",r=0;r<e.length;r+=1)t+=String.fromCharCode(e[r]);return t};var o={"byte":1,uShort:2,"short":2,uLong:4,fixed:4,longDateTime:8,tag:4};n.prototype.parseByte=function(){var e=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},n.prototype.parseChar=function(){var e=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},n.prototype.parseCard8=n.prototype.parseByte,n.prototype.parseUShort=function(){var e=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},n.prototype.parseCard16=n.prototype.parseUShort,n.prototype.parseSID=n.prototype.parseUShort,n.prototype.parseOffset16=n.prototype.parseUShort,n.prototype.parseShort=function(){var e=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},n.prototype.parseF2Dot14=function(){var e=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,e},n.prototype.parseULong=function(){var e=r.getULong(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},n.prototype.parseFixed=function(){var e=r.getFixed(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},n.prototype.parseOffset16List=n.prototype.parseUShortList=function(e){for(var t=new Array(e),n=this.data,o=this.offset+this.relativeOffset,a=0;e>a;a++)t[a]=r.getUShort(n,o),o+=2;return this.relativeOffset+=2*e,t},n.prototype.parseString=function(e){var t=this.data,r=this.offset+this.relativeOffset,n="";this.relativeOffset+=e;for(var o=0;e>o;o++)n+=String.fromCharCode(t.getUint8(r+o));return n},n.prototype.parseTag=function(){return this.parseString(4)},n.prototype.parseLongDateTime=function(){var e=r.getULong(this.data,this.offset+this.relativeOffset+4);return this.relativeOffset+=8,e},n.prototype.parseFixed=function(){var e=r.getULong(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e/65536},n.prototype.parseVersion=function(){var e=r.getUShort(this.data,this.offset+this.relativeOffset),t=r.getUShort(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,e+t/4096/10},n.prototype.skip=function(e,t){void 0===t&&(t=1),this.relativeOffset+=o[e]*t},r.Parser=n},{}],8:[function(e,t,r){"use strict";function n(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}n.prototype.moveTo=function(e,t){this.commands.push({type:"M",x:e,y:t})},n.prototype.lineTo=function(e,t){this.commands.push({type:"L",x:e,y:t})},n.prototype.curveTo=n.prototype.bezierCurveTo=function(e,t,r,n,o,a){this.commands.push({type:"C",x1:e,y1:t,x2:r,y2:n,x:o,y:a})},n.prototype.quadTo=n.prototype.quadraticCurveTo=function(e,t,r,n){this.commands.push({type:"Q",x1:e,y1:t,x:r,y:n})},n.prototype.close=n.prototype.closePath=function(){this.commands.push({type:"Z"})},n.prototype.extend=function(e){e.commands&&(e=e.commands),Array.prototype.push.apply(this.commands,e)},n.prototype.draw=function(e){e.beginPath();for(var t=0;t<this.commands.length;t+=1){var r=this.commands[t];"M"===r.type?e.moveTo(r.x,r.y):"L"===r.type?e.lineTo(r.x,r.y):"C"===r.type?e.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,r.x,r.y):"Q"===r.type?e.quadraticCurveTo(r.x1,r.y1,r.x,r.y):"Z"===r.type&&e.closePath()}this.fill&&(e.fillStyle=this.fill,e.fill()),this.stroke&&(e.strokeStyle=this.stroke,e.lineWidth=this.strokeWidth,e.stroke())},n.prototype.toPathData=function(e){function t(t){return Math.round(t)===t?""+Math.round(t):t.toFixed(e)}function r(){for(var e="",r=0;r<arguments.length;r+=1){var n=arguments[r];n>=0&&r>0&&(e+=" "),e+=t(n)}return e}e=void 0!==e?e:2;for(var n="",o=0;o<this.commands.length;o+=1){var a=this.commands[o];"M"===a.type?n+="M"+r(a.x,a.y):"L"===a.type?n+="L"+r(a.x,a.y):"C"===a.type?n+="C"+r(a.x1,a.y1,a.x2,a.y2,a.x,a.y):"Q"===a.type?n+="Q"+r(a.x1,a.y1,a.x,a.y):"Z"===a.type&&(n+="Z")}return n},n.prototype.toSVG=function(e){var t='<path d="';return t+=this.toPathData(e),t+='"',this.fill&&"black"!==this.fill&&(t+=null===this.fill?' fill="none"':' fill="'+this.fill+'"'),this.stroke&&(t+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),t+="/>"},r.Path=n},{}],9:[function(e,t,r){"use strict";function n(e,t,r){var n;for(n=0;n<t.length;n+=1){var o=t[n];this[o.name]=o.value}if(this.tableName=e,this.fields=t,r){var a=Object.keys(r);for(n=0;n<a.length;n+=1){var i=a[n],s=r[i];void 0!==this[i]&&(this[i]=s)}}}var o=e("./check"),a=e("./types").encode,i=e("./types").sizeOf;n.prototype.sizeOf=function(){for(var e=0,t=0;t<this.fields.length;t+=1){var r=this.fields[t],n=this[r.name];if(void 0===n&&(n=r.value),"function"==typeof n.sizeOf)e+=n.sizeOf();else{var a=i[r.type];o.assert("function"==typeof a,"Could not find sizeOf function for field"+r.name),e+=a(n)}}return e},n.prototype.encode=function(){return a.TABLE(this)},r.Table=n},{"./check":1,"./types":24}],10:[function(e,t,r){"use strict";function n(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r+=1)if(!n(e[r],t[r]))return!1;return!0}return!1}function o(e,t,r){var n,o,a,i=[],s=[],l=k.getCard16(e,t);if(0!==l){var h=k.getByte(e,t+2);o=t+(l+1)*h+2;var p=t+3;for(n=0;l+1>n;n+=1)i.push(k.getOffset(e,p,h)),p+=h;a=o+i[l]}else a=t+2;for(n=0;n<i.length-1;n+=1){var u=k.getBytes(e,o+i[n],o+i[n+1]);r&&(u=r(u)),s.push(u)}return{objects:s,startOffset:t,endOffset:a}}function a(e){for(var t="",r=15,n=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var o=e.parseByte(),a=o>>4,i=15&o;if(a===r)break;if(t+=n[a],i===r)break;t+=n[i]}return parseFloat(t)}function i(e,t){var r,n,o,i;if(28===t)return r=e.parseByte(),n=e.parseByte(),r<<8|n;if(29===t)return r=e.parseByte(),n=e.parseByte(),o=e.parseByte(),i=e.parseByte(),r<<24|n<<16|o<<8|i;if(30===t)return a(e);if(t>=32&&246>=t)return t-139;if(t>=247&&250>=t)return r=e.parseByte(),256*(t-247)+r+108;if(t>=251&&254>=t)return r=e.parseByte(),256*-(t-251)-r-108;throw new Error("Invalid b0 "+t)}function s(e){for(var t={},r=0;r<e.length;r+=1){var n,o=e[r][0],a=e[r][1];if(n=1===a.length?a[0]:a,t.hasOwnProperty(o))throw new Error("Object "+t+" already has key "+o);t[o]=n}return t}function l(e,t,r){t=void 0!==t?t:0;var n=new k.Parser(e,t),o=[],a=[];for(r=void 0!==r?r:e.length;n.relativeOffset<r;){var l=n.parseByte();21>=l?(12===l&&(l=1200+n.parseByte()),o.push([l,a]),a=[]):a.push(i(n,l))}return s(o)}function h(e,t){return t=390>=t?P.cffStandardStrings[t]:e[t-391]}function p(e,t,r){for(var n={},o=0;o<t.length;o+=1){var a=t[o],i=e[a.op];void 0===i&&(i=void 0!==a.value?a.value:null),"SID"===a.type&&(i=h(r,i)),n[a.name]=i}return n}function u(e,t){var r={};return r.formatMajor=k.getCard8(e,t),r.formatMinor=k.getCard8(e,t+1),r.size=k.getCard8(e,t+2),r.offsetSize=k.getCard8(e,t+3),r.startOffset=t,r.endOffset=t+4,r}function c(e,t){var r=l(e,0,e.byteLength);return p(r,L,t)}function f(e,t,r,n){var o=l(e,t,r);return p(o,B,n)}function d(e,t,r,n){var o,a,i,s=new k.Parser(e,t);r-=1;var l=[".notdef"],p=s.parseCard8();if(0===p)for(o=0;r>o;o+=1)a=s.parseSID(),l.push(h(n,a));else if(1===p)for(;l.length<=r;)for(a=s.parseSID(),i=s.parseCard8(),o=0;i>=o;o+=1)l.push(h(n,a)),a+=1;else{if(2!==p)throw new Error("Unknown charset format "+p);for(;l.length<=r;)for(a=s.parseSID(),i=s.parseCard16(),o=0;i>=o;o+=1)l.push(h(n,a)),a+=1}return l}function m(e,t,r){var n,o,a={},i=new k.Parser(e,t),s=i.parseCard8();if(0===s){var l=i.parseCard8();for(n=0;l>n;n+=1)o=i.parseCard8(),a[o]=n}else{if(1!==s)throw new Error("Unknown encoding format "+s);var h=i.parseCard8();for(o=1,n=0;h>n;n+=1)for(var p=i.parseCard8(),u=i.parseCard8(),c=p;p+u>=c;c+=1)a[c]=o,o+=1}return new P.CffEncoding(a,r)}function g(e,t,r){function n(e,t){m&&p.closePath(),p.moveTo(e,t),m=!0}function o(){var e;e=u.length%2!==0,e&&!f&&(d=u.shift()+t.nominalWidthX),c+=u.length>>1,u.length=0,f=!0}function a(e){for(var v,_,x,b,w,S,T,R,C,M,E,I,D=0;D<e.length;){var O=e[D];switch(D+=1,O){case 1:o();break;case 3:o();break;case 4:u.length>1&&!f&&(d=u.shift()+t.nominalWidthX,f=!0),y+=u.pop(),n(g,y);break;case 5:for(;u.length>0;)g+=u.shift(),y+=u.shift(),p.lineTo(g,y);break;case 6:for(;u.length>0&&(g+=u.shift(),p.lineTo(g,y),0!==u.length);)y+=u.shift(),p.lineTo(g,y);break;case 7:for(;u.length>0&&(y+=u.shift(),p.lineTo(g,y),0!==u.length);)g+=u.shift(),p.lineTo(g,y);break;case 8:for(;u.length>0;)i=g+u.shift(),s=y+u.shift(),l=i+u.shift(),h=s+u.shift(),g=l+u.shift(),y=h+u.shift(),p.curveTo(i,s,l,h,g,y);break;case 10:w=u.pop()+t.subrsBias,S=t.subrs[w],S&&a(S);break;case 11:return;case 12:switch(O=e[D],D+=1,O){case 35:i=g+u.shift(),s=y+u.shift(),l=i+u.shift(),h=s+u.shift(),T=l+u.shift(),R=h+u.shift(),C=T+u.shift(),M=R+u.shift(),E=C+u.shift(),I=M+u.shift(),g=E+u.shift(),y=I+u.shift(),u.shift(),p.curveTo(i,s,l,h,T,R),p.curveTo(C,M,E,I,g,y);break;case 34:i=g+u.shift(),s=y,l=i+u.shift(),h=s+u.shift(),T=l+u.shift(),R=h,C=T+u.shift(),M=h,E=C+u.shift(),I=y,g=E+u.shift(),p.curveTo(i,s,l,h,T,R),p.curveTo(C,M,E,I,g,y);break;case 36:i=g+u.shift(),s=y+u.shift(),l=i+u.shift(),h=s+u.shift(),T=l+u.shift(),R=h,C=T+u.shift(),M=h,E=C+u.shift(),I=M+u.shift(),g=E+u.shift(),p.curveTo(i,s,l,h,T,R),p.curveTo(C,M,E,I,g,y);break;case 37:i=g+u.shift(),s=y+u.shift(),l=i+u.shift(),h=s+u.shift(),T=l+u.shift(),R=h+u.shift(),C=T+u.shift(),M=R+u.shift(),E=C+u.shift(),I=M+u.shift(),Math.abs(E-g)>Math.abs(I-y)?g=E+u.shift():y=I+u.shift(),p.curveTo(i,s,l,h,T,R),p.curveTo(C,M,E,I,g,y);break;default:void 0,u.length=0}break;case 14:u.length>0&&!f&&(d=u.shift()+t.nominalWidthX,f=!0),m&&(p.closePath(),m=!1);break;case 18:o();break;case 19:case 20:o(),D+=c+7>>3;break;case 21:u.length>2&&!f&&(d=u.shift()+t.nominalWidthX,f=!0),y+=u.pop(),g+=u.pop(),n(g,y);break;case 22:u.length>1&&!f&&(d=u.shift()+t.nominalWidthX,f=!0),g+=u.pop(),n(g,y);break;case 23:o();break;case 24:for(;u.length>2;)i=g+u.shift(),s=y+u.shift(),l=i+u.shift(),h=s+u.shift(),g=l+u.shift(),y=h+u.shift(),p.curveTo(i,s,l,h,g,y);g+=u.shift(),y+=u.shift(),p.lineTo(g,y);break;case 25:for(;u.length>6;)g+=u.shift(),y+=u.shift(),p.lineTo(g,y);i=g+u.shift(),s=y+u.shift(),l=i+u.shift(),h=s+u.shift(),g=l+u.shift(),y=h+u.shift(),p.curveTo(i,s,l,h,g,y);break;case 26:for(u.length%2&&(g+=u.shift());u.length>0;)i=g,s=y+u.shift(),l=i+u.shift(),h=s+u.shift(),g=l,y=h+u.shift(),p.curveTo(i,s,l,h,g,y);break;case 27:for(u.length%2&&(y+=u.shift());u.length>0;)i=g+u.shift(),s=y,l=i+u.shift(),h=s+u.shift(),g=l+u.shift(),y=h,p.curveTo(i,s,l,h,g,y);break;case 28:v=e[D],_=e[D+1],u.push((v<<24|_<<16)>>16),D+=2;break;case 29:w=u.pop()+t.gsubrsBias,S=t.gsubrs[w],S&&a(S);break;case 30:for(;u.length>0&&(i=g,s=y+u.shift(),l=i+u.shift(),h=s+u.shift(),g=l+u.shift(),y=h+(1===u.length?u.shift():0),p.curveTo(i,s,l,h,g,y),0!==u.length);)i=g+u.shift(),s=y,l=i+u.shift(),h=s+u.shift(),y=h+u.shift(),g=l+(1===u.length?u.shift():0),p.curveTo(i,s,l,h,g,y);break;case 31:for(;u.length>0&&(i=g+u.shift(),s=y,l=i+u.shift(),h=s+u.shift(),y=h+u.shift(),g=l+(1===u.length?u.shift():0),p.curveTo(i,s,l,h,g,y),0!==u.length);)i=g,s=y+u.shift(),l=i+u.shift(),h=s+u.shift(),g=l+u.shift(),y=h+(1===u.length?u.shift():0),p.curveTo(i,s,l,h,g,y);break;default:32>O?void 0:247>O?u.push(O-139):251>O?(v=e[D],D+=1,u.push(256*(O-247)+v+108)):255>O?(v=e[D],D+=1,u.push(256*-(O-251)-v-108)):(v=e[D],_=e[D+1],x=e[D+2],b=e[D+3],D+=4,u.push((v<<24|_<<16|x<<8|b)/65536))}}}var i,s,l,h,p=new U.Path,u=[],c=0,f=!1,d=t.defaultWidthX,m=!1,g=0,y=0;a(e);var v=new N.Glyph({font:t,index:r});return v.path=p,v.advanceWidth=d,v}function y(e){var t;return t=e.length<1240?107:e.length<33900?1131:32768}function v(e,t,r){r.tables.cff={};var n=u(e,t),a=o(e,n.endOffset,k.bytesToString),i=o(e,a.endOffset),s=o(e,i.endOffset,k.bytesToString),l=o(e,s.endOffset);r.gsubrs=l.objects,r.gsubrsBias=y(r.gsubrs);var h=new DataView(new Uint8Array(i.objects[0]).buffer),p=c(h,s.objects);r.tables.cff.topDict=p;var v=t+p["private"][1],_=f(e,v,p["private"][0],s.objects);if(r.defaultWidthX=_.defaultWidthX,r.nominalWidthX=_.nominalWidthX,0!==_.subrs){var x=v+_.subrs,b=o(e,x);r.subrs=b.objects,r.subrsBias=y(r.subrs)}else r.subrs=[],r.subrsBias=0;var w=o(e,t+p.charStrings);r.nGlyphs=w.objects.length;var S=d(e,t+p.charset,r.nGlyphs,s.objects);r.cffEncoding=0===p.encoding?new P.CffEncoding(P.cffStandardEncoding,S):1===p.encoding?new P.CffEncoding(P.cffExpertEncoding,S):m(e,t+p.encoding,S),r.encoding=r.encoding||r.cffEncoding,r.glyphs=[];for(var T=0;T<r.nGlyphs;T+=1){var R=w.objects[T];r.glyphs.push(g(R,r,T))}}function _(e,t){var r,n=P.cffStandardStrings.indexOf(e);return n>=0&&(r=n),n=t.indexOf(e),n>=0?r=n+P.cffStandardStrings.length:(r=P.cffStandardStrings.length+t.length,t.push(e)),r}function x(){return new F.Table("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}])}function b(e){var t=new F.Table("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);t.names=[];for(var r=0;r<e.length;r+=1)t.names.push({name:"name_"+r,type:"NAME",value:e[r]});return t}function w(e,t,r){for(var o={},a=0;a<e.length;a+=1){var i=e[a],s=t[i.name];void 0===s||n(s,i.value)||("SID"===i.type&&(s=_(s,r)),o[i.op]={name:i.name,type:i.type,value:s})}return o}function S(e,t){var r=new F.Table("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return r.dict=w(L,e,t),r}function T(e){var t=new F.Table("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return t.topDicts=[{name:"topDict_0",type:"TABLE",value:e}],t}function R(e){var t=new F.Table("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);t.strings=[];for(var r=0;r<e.length;r+=1)t.strings.push({name:"string_"+r,type:"STRING",value:e[r]});return t}function C(){return new F.Table("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}])}function M(e,t){for(var r=new F.Table("Charsets",[{name:"format",type:"Card8",value:0}]),n=0;n<e.length;n+=1){var o=e[n],a=_(o,t);r.fields.push({name:"glyph_"+n,type:"SID",value:a})}return r}function E(e){var t=[],r=e.path;t.push({name:"width",type:"NUMBER",value:e.advanceWidth});for(var n=0,o=0,a=0;a<r.commands.length;a+=1){var i,s,l=r.commands[a];if("Q"===l.type){var h=1/3,p=2/3;l={type:"C",x:l.x,y:l.y,x1:h*n+p*l.x1,y1:h*o+p*l.y1,x2:h*l.x+p*l.x1,y2:h*l.y+p*l.y1}}if("M"===l.type)i=Math.round(l.x-n),s=Math.round(l.y-o),t.push({name:"dx",type:"NUMBER",value:i}),t.push({name:"dy",type:"NUMBER",value:s}),t.push({name:"rmoveto",type:"OP",value:21}),n=Math.round(l.x),o=Math.round(l.y);else if("L"===l.type)i=Math.round(l.x-n),s=Math.round(l.y-o),t.push({name:"dx",type:"NUMBER",value:i}),t.push({name:"dy",type:"NUMBER",value:s}),t.push({name:"rlineto",type:"OP",value:5}),n=Math.round(l.x),o=Math.round(l.y);else if("C"===l.type){var u=Math.round(l.x1-n),c=Math.round(l.y1-o),f=Math.round(l.x2-l.x1),d=Math.round(l.y2-l.y1);i=Math.round(l.x-l.x2),s=Math.round(l.y-l.y2),t.push({name:"dx1",type:"NUMBER",value:u}),t.push({name:"dy1",type:"NUMBER",value:c}),t.push({name:"dx2",type:"NUMBER",value:f}),t.push({name:"dy2",type:"NUMBER",value:d}),t.push({name:"dx",type:"NUMBER",value:i}),t.push({name:"dy",type:"NUMBER",value:s}),t.push({name:"rrcurveto",type:"OP",value:8}),n=Math.round(l.x),o=Math.round(l.y)}}return t.push({name:"endchar",type:"OP",value:14}),t}function I(e){for(var t=new F.Table("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),r=0;r<e.length;r+=1){var n=e[r],o=E(n);t.charStrings.push({name:n.name,type:"CHARSTRING",value:o})}return t}function D(e,t){var r=new F.Table("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return r.dict=w(B,e,t),r}function O(e){var t=new F.Table("Private DICT INDEX",[{name:"privateDicts",type:"INDEX",value:[]}]);return t.privateDicts=[{name:"privateDict_0",type:"TABLE",value:e}],t}function A(e,t){for(var r=new F.Table("CFF ",[{name:"header",type:"TABLE"},{name:"nameIndex",type:"TABLE"},{name:"topDictIndex",type:"TABLE"},{name:"stringIndex",type:"TABLE"},{name:"globalSubrIndex",type:"TABLE"},{name:"charsets",type:"TABLE"},{name:"charStringsIndex",type:"TABLE"},{name:"privateDictIndex",type:"TABLE"}]),n={version:t.version,fullName:t.fullName,familyName:t.familyName,weight:t.weightName,charset:999,encoding:0,charStrings:999,"private":[0,999]},o={},a=[],i=1;i<e.length;i+=1)a.push(e[i].name);var s=[];r.header=x(),r.nameIndex=b([t.postScriptName]);var l=S(n,s);r.topDictIndex=T(l),r.globalSubrIndex=C(),r.charsets=M(a,s),r.charStringsIndex=I(e);var h=D(o,s);r.privateDictIndex=O(h),r.stringIndex=R(s);var p=r.header.sizeOf()+r.nameIndex.sizeOf()+r.topDictIndex.sizeOf()+r.stringIndex.sizeOf()+r.globalSubrIndex.sizeOf();return n.charset=p,n.encoding=0,n.charStrings=n.charset+r.charsets.sizeOf(),n["private"][1]=n.charStrings+r.charStringsIndex.sizeOf(),l=S(n,s),r.topDictIndex=T(l),r}var P=e("../encoding"),N=e("../glyph"),k=e("../parse"),U=e("../path"),F=e("../table"),L=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]}],B=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];r.parse=v,r.make=A},{"../encoding":3,"../glyph":5,"../parse":7,"../path":8,"../table":9}],11:[function(e,t,r){"use strict";function n(e,t){var r,n={};n.version=l.getUShort(e,t),s.argument(0===n.version,"cmap table version should be 0."),n.numTables=l.getUShort(e,t+2);var o=-1;for(r=0;r<n.numTables;r+=1){var a=l.getUShort(e,t+4+8*r),i=l.getUShort(e,t+4+8*r+2);if(3===a&&(1===i||0===i)){o=l.getULong(e,t+4+8*r+4);break}}if(-1===o)return null;var h=new l.Parser(e,t+o);n.format=h.parseUShort(),s.argument(4===n.format,"Only format 4 cmap tables are supported."),n.length=h.parseUShort(),n.language=h.parseUShort();var p;n.segCount=p=h.parseUShort()>>1,h.skip("uShort",3),n.glyphIndexMap={};var u=new l.Parser(e,t+o+14),c=new l.Parser(e,t+o+16+2*p),f=new l.Parser(e,t+o+16+4*p),d=new l.Parser(e,t+o+16+6*p),m=t+o+16+8*p;for(r=0;p-1>r;r+=1)for(var g,y=u.parseUShort(),v=c.parseUShort(),_=f.parseShort(),x=d.parseUShort(),b=v;y>=b;b+=1)0!==x?(m=d.offset+d.relativeOffset-2,m+=x,m+=2*(b-v),g=l.getUShort(e,m),0!==g&&(g=g+_&65535)):g=b+_&65535,n.glyphIndexMap[b]=g;return n}function o(e,t,r){e.segments.push({end:t,start:t,delta:-(t-r),offset:0})}function a(e){e.segments.push({end:65535,start:65535,delta:1,offset:0})}function i(e){var t,r=new h.Table("cmap",[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:1},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:12},{name:"format",type:"USHORT",value:4},{name:"length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);for(r.segments=[],t=0;t<e.length;t+=1){for(var n=e[t],i=0;i<n.unicodes.length;i+=1)o(r,n.unicodes[i],t);r.segments=r.segments.sort(function(e,t){return e.start-t.start})}a(r);var s;s=r.segments.length,r.segCountX2=2*s,r.searchRange=2*Math.pow(2,Math.floor(Math.log(s)/Math.log(2))),r.entrySelector=Math.log(r.searchRange/2)/Math.log(2),r.rangeShift=r.segCountX2-r.searchRange;var l=[],p=[],u=[],c=[],f=[];for(t=0;s>t;t+=1){var d=r.segments[t];l=l.concat({name:"end_"+t,type:"USHORT",value:d.end}),p=p.concat({name:"start_"+t,type:"USHORT",value:d.start}),u=u.concat({name:"idDelta_"+t,type:"SHORT",value:d.delta}),c=c.concat({name:"idRangeOffset_"+t,type:"USHORT",value:d.offset}),void 0!==d.glyphId&&(f=f.concat({name:"glyph_"+t,type:"USHORT",value:d.glyphId}))}return r.fields=r.fields.concat(l),r.fields.push({name:"reservedPad",type:"USHORT",value:0}),r.fields=r.fields.concat(p),r.fields=r.fields.concat(u),r.fields=r.fields.concat(c),r.fields=r.fields.concat(f),r.length=14+2*l.length+2+2*p.length+2*u.length+2*c.length+2*f.length,r}var s=e("../check"),l=e("../parse"),h=e("../table");r.parse=n,r.make=i},{"../check":1,"../parse":7,"../table":9}],12:[function(e,t,r){"use strict";function n(e,t,r,n,o){var a;return(t&n)>0?(a=e.parseByte(),0===(t&o)&&(a=-a),a=r+a):a=(t&o)>0?r:r+e.parseShort(),a}function o(e,t,r,o){var a=new u.Parser(e,t),i=new p.Glyph({font:o,index:r});i.numberOfContours=a.parseShort(),i.xMin=a.parseShort(),i.yMin=a.parseShort(),i.xMax=a.parseShort(),i.yMax=a.parseShort();var s,l;if(i.numberOfContours>0){var c,f=i.endPointIndices=[];for(c=0;c<i.numberOfContours;c+=1)f.push(a.parseUShort());for(i.instructionLength=a.parseUShort(),
i.instructions=[],c=0;c<i.instructionLength;c+=1)i.instructions.push(a.parseByte());var d=f[f.length-1]+1;for(s=[],c=0;d>c;c+=1)if(l=a.parseByte(),s.push(l),(8&l)>0)for(var m=a.parseByte(),g=0;m>g;g+=1)s.push(l),c+=1;if(h.argument(s.length===d,"Bad flags."),f.length>0){var y,v=[];if(d>0){for(c=0;d>c;c+=1)l=s[c],y={},y.onCurve=!!(1&l),y.lastPointOfContour=f.indexOf(c)>=0,v.push(y);var _=0;for(c=0;d>c;c+=1)l=s[c],y=v[c],y.x=n(a,l,_,2,16),_=y.x;var x=0;for(c=0;d>c;c+=1)l=s[c],y=v[c],y.y=n(a,l,x,4,32),x=y.y}i.points=v}else i.points=[]}else if(0===i.numberOfContours)i.points=[];else{i.isComposite=!0,i.points=[],i.components=[];for(var b=!0;b;){s=a.parseUShort();var w={glyphIndex:a.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(1&s)>0?(w.dx=a.parseShort(),w.dy=a.parseShort()):(w.dx=a.parseChar(),w.dy=a.parseChar()),(8&s)>0?w.xScale=w.yScale=a.parseF2Dot14():(64&s)>0?(w.xScale=a.parseF2Dot14(),w.yScale=a.parseF2Dot14()):(128&s)>0&&(w.xScale=a.parseF2Dot14(),w.scale01=a.parseF2Dot14(),w.scale10=a.parseF2Dot14(),w.yScale=a.parseF2Dot14()),i.components.push(w),b=!!(32&s)}}return i}function a(e,t){for(var r=[],n=0;n<e.length;n+=1){var o=e[n],a={x:t.xScale*o.x+t.scale01*o.y+t.dx,y:t.scale10*o.x+t.yScale*o.y+t.dy,onCurve:o.onCurve,lastPointOfContour:o.lastPointOfContour};r.push(a)}return r}function i(e){for(var t=[],r=[],n=0;n<e.length;n+=1){var o=e[n];r.push(o),o.lastPointOfContour&&(t.push(r),r=[])}return h.argument(0===r.length,"There are still points left in the current contour."),t}function s(e){var t=new c.Path;if(!e)return t;for(var r=i(e),n=0;n<r.length;n+=1){var o,a,s=r[n],l=s[0],h=s[s.length-1];l.onCurve?(o=null,a=!0):(l=h.onCurve?h:{x:(l.x+h.x)/2,y:(l.y+h.y)/2},o=l,a=!1),t.moveTo(l.x,l.y);for(var p=a?1:0;p<s.length;p+=1){var u=s[p],f=0===p?l:s[p-1];if(f.onCurve&&u.onCurve)t.lineTo(u.x,u.y);else if(f.onCurve&&!u.onCurve)o=u;else if(f.onCurve||u.onCurve){if(f.onCurve||!u.onCurve)throw new Error("Invalid state.");t.quadraticCurveTo(o.x,o.y,u.x,u.y),o=null}else{var d={x:(f.x+u.x)/2,y:(f.y+u.y)/2};t.quadraticCurveTo(f.x,f.y,d.x,d.y),o=u}}l!==h&&(o?t.quadraticCurveTo(o.x,o.y,l.x,l.y):t.lineTo(l.x,l.y))}return t.closePath(),t}function l(e,t,r,n){var i,l=[];for(i=0;i<r.length-1;i+=1){var h=r[i],u=r[i+1];l.push(h!==u?o(e,t+h,i,n):new p.Glyph({font:n,index:i}))}for(i=0;i<l.length;i+=1){var c=l[i];if(c.isComposite)for(var f=0;f<c.components.length;f+=1){var d=c.components[f],m=l[d.glyphIndex];if(m.points){var g=a(m.points,d);c.points=c.points.concat(g)}}c.path=s(c.points)}return l}var h=e("../check"),p=e("../glyph"),u=e("../parse"),c=e("../path");r.parse=l},{"../check":1,"../glyph":5,"../parse":7,"../path":8}],13:[function(e,t,r){"use strict";function n(e,t){for(var r=new p.Parser(e,t),n=r.parseUShort(),o=[],a=0;n>a;a++)o[r.parseTag()]={offset:r.parseUShort()};return o}function o(e,t){var r=new p.Parser(e,t),n=r.parseUShort(),o=r.parseUShort();if(1===n)return r.parseUShortList(o);if(2===n){for(var a=[];o--;)for(var i=r.parseUShort(),s=r.parseUShort(),l=r.parseUShort(),h=i;s>=h;h++)a[l++]=h;return a}}function a(e,t){var r=new p.Parser(e,t),n=r.parseUShort();if(1===n){var o=r.parseUShort(),a=r.parseUShort(),i=r.parseUShortList(a);return function(e){return i[e-o]||0}}if(2===n){for(var s=r.parseUShort(),l=[],h=[],u=[],c=0;s>c;c++)l[c]=r.parseUShort(),h[c]=r.parseUShort(),u[c]=r.parseUShort();return function(e){for(var t=0,r=l.length-1;r>t;){var n=t+r+1>>1;e<l[n]?r=n-1:t=n}return l[t]<=e&&e<=h[t]?u[t]||0:0}}}function i(e,t){var r,n,i=new p.Parser(e,t),s=i.parseUShort(),l=i.parseUShort(),h=o(e,t+l),u=i.parseUShort(),c=i.parseUShort();if(4===u&&0===c){var f={};if(1===s){for(var d=i.parseUShort(),m=[],g=i.parseOffset16List(d),y=0;d>y;y++){var v=g[y],_=f[v];if(!_){_={},i.relativeOffset=v;for(var x=i.parseUShort();x--;){var b=i.parseUShort();u&&(r=i.parseShort()),c&&(n=i.parseShort()),_[b]=r}}m[h[y]]=_}return function(e,t){var r=m[e];return r?r[t]:void 0}}if(2===s){for(var w=i.parseUShort(),S=i.parseUShort(),T=i.parseUShort(),R=i.parseUShort(),C=a(e,t+w),M=a(e,t+S),E=[],I=0;T>I;I++)for(var D=E[I]=[],O=0;R>O;O++)u&&(r=i.parseShort()),c&&(n=i.parseShort()),D[O]=r;var A={};for(I=0;I<h.length;I++)A[h[I]]=1;return function(e,t){if(A[e]){var r=C(e),n=M(t),o=E[r];return o?o[n]:void 0}}}}}function s(e,t){var r=new p.Parser(e,t),n=r.parseUShort(),o=r.parseUShort(),a=16&o,s=r.parseUShort(),l=r.parseOffset16List(s),h={lookupType:n,lookupFlag:o,markFilteringSet:a?r.parseUShort():-1};if(2===n){for(var u=[],c=0;s>c;c++)u.push(i(e,t+l[c]));h.getKerningValue=function(e,t){for(var r=u.length;r--;){var n=u[r](e,t);if(void 0!==n)return n}return 0}}return h}function l(e,t,r){var o=new p.Parser(e,t),a=o.parseFixed();h.argument(1===a,"Unsupported GPOS table version."),n(e,t+o.parseUShort()),n(e,t+o.parseUShort());var i=o.parseUShort();o.relativeOffset=i;for(var l=o.parseUShort(),u=o.parseOffset16List(l),c=t+i,f=0;l>f;f++){var d=s(e,c+u[f]);2!==d.lookupType||r.getGposKerningValue||(r.getGposKerningValue=d.getKerningValue)}}var h=e("../check"),p=e("../parse");r.parse=l},{"../check":1,"../parse":7}],14:[function(e,t,r){"use strict";function n(e,t){var r={},n=new i.Parser(e,t);return r.version=n.parseVersion(),r.fontRevision=Math.round(1e3*n.parseFixed())/1e3,r.checkSumAdjustment=n.parseULong(),r.magicNumber=n.parseULong(),a.argument(1594834165===r.magicNumber,"Font header has wrong magic number."),r.flags=n.parseUShort(),r.unitsPerEm=n.parseUShort(),r.created=n.parseLongDateTime(),r.modified=n.parseLongDateTime(),r.xMin=n.parseShort(),r.yMin=n.parseShort(),r.xMax=n.parseShort(),r.yMax=n.parseShort(),r.macStyle=n.parseUShort(),r.lowestRecPPEM=n.parseUShort(),r.fontDirectionHint=n.parseShort(),r.indexToLocFormat=n.parseShort(),r.glyphDataFormat=n.parseShort(),r}function o(e){return new s.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:0},{name:"modified",type:"LONGDATETIME",value:0},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],e)}var a=e("../check"),i=e("../parse"),s=e("../table");r.parse=n,r.make=o},{"../check":1,"../parse":7,"../table":9}],15:[function(e,t,r){"use strict";function n(e,t){var r={},n=new a.Parser(e,t);return r.version=n.parseVersion(),r.ascender=n.parseShort(),r.descender=n.parseShort(),r.lineGap=n.parseShort(),r.advanceWidthMax=n.parseUShort(),r.minLeftSideBearing=n.parseShort(),r.minRightSideBearing=n.parseShort(),r.xMaxExtent=n.parseShort(),r.caretSlopeRise=n.parseShort(),r.caretSlopeRun=n.parseShort(),r.caretOffset=n.parseShort(),n.relativeOffset+=8,r.metricDataFormat=n.parseShort(),r.numberOfHMetrics=n.parseUShort(),r}function o(e){return new i.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],e)}var a=e("../parse"),i=e("../table");r.parse=n,r.make=o},{"../parse":7,"../table":9}],16:[function(e,t,r){"use strict";function n(e,t,r,n,o){for(var i,s,l=new a.Parser(e,t),h=0;n>h;h+=1){r>h&&(i=l.parseUShort(),s=l.parseShort());var p=o[h];p.advanceWidth=i,p.leftSideBearing=s}}function o(e){for(var t=new i.Table("hmtx",[]),r=0;r<e.length;r+=1){var n=e[r],o=n.advanceWidth||0,a=n.leftSideBearing||0;t.fields.push({name:"advanceWidth_"+r,type:"USHORT",value:o}),t.fields.push({name:"leftSideBearing_"+r,type:"SHORT",value:a})}return t}var a=e("../parse"),i=e("../table");r.parse=n,r.make=o},{"../parse":7,"../table":9}],17:[function(e,t,r){"use strict";function n(e,t){var r={},n=new a.Parser(e,t),i=n.parseUShort();o.argument(0===i,"Unsupported kern table version."),n.skip("uShort",1);var s=n.parseUShort();o.argument(0===s,"Unsupported kern sub-table version."),n.skip("uShort",2);var l=n.parseUShort();n.skip("uShort",3);for(var h=0;l>h;h+=1){var p=n.parseUShort(),u=n.parseUShort(),c=n.parseShort();r[p+","+u]=c}return r}var o=e("../check"),a=e("../parse");r.parse=n},{"../check":1,"../parse":7}],18:[function(e,t,r){"use strict";function n(e,t,r,n){for(var a=new o.Parser(e,t),i=n?a.parseUShort:a.parseULong,s=[],l=0;r+1>l;l+=1){var h=i.call(a);n&&(h*=2),s.push(h)}return s}var o=e("../parse");r.parse=n},{"../parse":7}],19:[function(e,t,r){"use strict";function n(e,t){var r={},n=new a.Parser(e,t);return r.version=n.parseVersion(),r.numGlyphs=n.parseUShort(),1===r.version&&(r.maxPoints=n.parseUShort(),r.maxContours=n.parseUShort(),r.maxCompositePoints=n.parseUShort(),r.maxCompositeContours=n.parseUShort(),r.maxZones=n.parseUShort(),r.maxTwilightPoints=n.parseUShort(),r.maxStorage=n.parseUShort(),r.maxFunctionDefs=n.parseUShort(),r.maxInstructionDefs=n.parseUShort(),r.maxStackElements=n.parseUShort(),r.maxSizeOfInstructions=n.parseUShort(),r.maxComponentElements=n.parseUShort(),r.maxComponentDepth=n.parseUShort()),r}function o(e){return new i.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:e}])}var a=e("../parse"),i=e("../table");r.parse=n,r.make=o},{"../parse":7,"../table":9}],20:[function(e,t,r){"use strict";function n(e,t){var r={},n=new h.Parser(e,t);r.format=n.parseUShort();for(var o=n.parseUShort(),a=n.offset+n.parseUShort(),i=0,s=0;o>s;s++){var l=n.parseUShort(),p=n.parseUShort(),c=n.parseUShort(),f=n.parseUShort(),d=u[f],m=n.parseUShort(),g=n.parseUShort();if(3===l&&1===p&&1033===c){for(var y=[],v=m/2,_=0;v>_;_++,g+=2)y[_]=h.getShort(e,a+g);var x=String.fromCharCode.apply(null,y);d?r[d]=x:(i++,r["unknown"+i]=x)}}return 1===r.format&&(r.langTagCount=n.parseUShort()),r}function o(e,t,r,n,o,a){return new p.Table("NameRecord",[{name:"platformID",type:"USHORT",value:e},{name:"encodingID",type:"USHORT",value:t},{name:"languageID",type:"USHORT",value:r},{name:"nameID",type:"USHORT",value:n},{name:"length",type:"USHORT",value:o},{name:"offset",type:"USHORT",value:a}])}function a(e,t,r,n){var a=l.STRING(r);return e.records.push(o(1,0,0,t,a.length,n)),e.strings.push(a),n+=a.length}function i(e,t,r,n){var a=l.UTF16(r);return e.records.push(o(3,1,1033,t,a.length,n)),e.strings.push(a),n+=a.length}function s(e){var t=new p.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:0},{name:"stringOffset",type:"USHORT",value:0}]);t.records=[],t.strings=[];var r,n,o=0;for(r=0;r<u.length;r+=1)void 0!==e[u[r]]&&(n=e[u[r]],o=a(t,r,n,o));for(r=0;r<u.length;r+=1)void 0!==e[u[r]]&&(n=e[u[r]],o=i(t,r,n,o));for(t.count=t.records.length,t.stringOffset=6+12*t.count,r=0;r<t.records.length;r+=1)t.fields.push({name:"record_"+r,type:"TABLE",value:t.records[r]});for(r=0;r<t.strings.length;r+=1)t.fields.push({name:"string_"+r,type:"LITERAL",value:t.strings[r]});return t}var l=e("../types").encode,h=e("../parse"),p=e("../table"),u=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","licence","licenceURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"];r.parse=n,r.make=s},{"../parse":7,"../table":9,"../types":24}],21:[function(e,t,r){"use strict";function n(e){for(var t=0;t<l.length;t+=1){var r=l[t];if(e>=r.begin&&e<r.end)return t}return-1}function o(e,t){var r={},n=new i.Parser(e,t);r.version=n.parseUShort(),r.xAvgCharWidth=n.parseShort(),r.usWeightClass=n.parseUShort(),r.usWidthClass=n.parseUShort(),r.fsType=n.parseUShort(),r.ySubscriptXSize=n.parseShort(),r.ySubscriptYSize=n.parseShort(),r.ySubscriptXOffset=n.parseShort(),r.ySubscriptYOffset=n.parseShort(),r.ySuperscriptXSize=n.parseShort(),r.ySuperscriptYSize=n.parseShort(),r.ySuperscriptXOffset=n.parseShort(),r.ySuperscriptYOffset=n.parseShort(),r.yStrikeoutSize=n.parseShort(),r.yStrikeoutPosition=n.parseShort(),r.sFamilyClass=n.parseShort(),r.panose=[];for(var o=0;10>o;o++)r.panose[o]=n.parseByte();return r.ulUnicodeRange1=n.parseULong(),r.ulUnicodeRange2=n.parseULong(),r.ulUnicodeRange3=n.parseULong(),r.ulUnicodeRange4=n.parseULong(),r.achVendID=String.fromCharCode(n.parseByte(),n.parseByte(),n.parseByte(),n.parseByte()),r.fsSelection=n.parseUShort(),r.usFirstCharIndex=n.parseUShort(),r.usLastCharIndex=n.parseUShort(),r.sTypoAscender=n.parseShort(),r.sTypoDescender=n.parseShort(),r.sTypoLineGap=n.parseShort(),r.usWinAscent=n.parseUShort(),r.usWinDescent=n.parseUShort(),r.version>=1&&(r.ulCodePageRange1=n.parseULong(),r.ulCodePageRange2=n.parseULong()),r.version>=2&&(r.sxHeight=n.parseShort(),r.sCapHeight=n.parseShort(),r.usDefaultChar=n.parseUShort(),r.usBreakChar=n.parseUShort(),r.usMaxContent=n.parseUShort()),r}function a(e){return new s.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],e)}var i=e("../parse"),s=e("../table"),l=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];r.unicodeRanges=l,r.getUnicodeRange=n,r.parse=o,r.make=a},{"../parse":7,"../table":9}],22:[function(e,t,r){"use strict";function n(e,t){var r,n={},o=new i.Parser(e,t);switch(n.version=o.parseVersion(),n.italicAngle=o.parseFixed(),n.underlinePosition=o.parseShort(),n.underlineThickness=o.parseShort(),n.isFixedPitch=o.parseULong(),n.minMemType42=o.parseULong(),n.maxMemType42=o.parseULong(),n.minMemType1=o.parseULong(),n.maxMemType1=o.parseULong(),n.version){case 1:n.names=a.standardNames.slice();break;case 2:for(n.numberOfGlyphs=o.parseUShort(),n.glyphNameIndex=new Array(n.numberOfGlyphs),r=0;r<n.numberOfGlyphs;r++)n.glyphNameIndex[r]=o.parseUShort();for(n.names=[],r=0;r<n.numberOfGlyphs;r++)if(n.glyphNameIndex[r]>=a.standardNames.length){var s=o.parseChar();n.names.push(o.parseString(s))}break;case 2.5:for(n.numberOfGlyphs=o.parseUShort(),n.offset=new Array(n.numberOfGlyphs),r=0;r<n.numberOfGlyphs;r++)n.offset[r]=o.parseChar()}return n}function o(){return new s.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}var a=e("../encoding"),i=e("../parse"),s=e("../table");r.parse=n,r.make=o},{"../encoding":3,"../parse":7,"../table":9}],23:[function(e,t,r){"use strict";function n(e){return Math.log(e)/Math.log(2)|0}function o(e){for(;e.length%4!==0;)e.push(0);for(var t=0,r=0;r<e.length;r+=4)t+=(e[r]<<24)+(e[r+1]<<16)+(e[r+2]<<8)+e[r+3];return t%=Math.pow(2,32)}function a(e,t,r,n){return new u.Table("Table Record",[{name:"tag",type:"TAG",value:void 0!==e?e:""},{name:"checkSum",type:"ULONG",value:void 0!==t?t:0},{name:"offset",type:"ULONG",value:void 0!==r?r:0},{name:"length",type:"ULONG",value:void 0!==n?n:0}])}function i(e){var t=new u.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);t.tables=e,t.numTables=e.length;var r=Math.pow(2,n(t.numTables));t.searchRange=16*r,t.entrySelector=n(r),t.rangeShift=16*t.numTables-t.searchRange;for(var i=[],s=[],l=t.sizeOf()+a().sizeOf()*t.numTables;l%4!==0;)l+=1,s.push({name:"padding",type:"BYTE",value:0});for(var h=0;h<e.length;h+=1){var c=e[h];p.argument(4===c.tableName.length,"Table name"+c.tableName+" is invalid.");var f=c.sizeOf(),d=a(c.tableName,o(c.encode()),l,f);for(i.push({name:d.tag+" Table Record",type:"TABLE",value:d}),s.push({name:c.tableName+" table",type:"TABLE",value:c}),l+=f,p.argument(!isNaN(l),"Something went wrong calculating the offset.");l%4!==0;)l+=1,s.push({name:"padding",type:"BYTE",value:0})}return i.sort(function(e,t){return e.value.tag>t.value.tag?1:-1}),t.fields=t.fields.concat(i),t.fields=t.fields.concat(s),t}function s(e,t,r){for(var n=0;n<t.length;n+=1){var o=e.charToGlyphIndex(t[n]);if(o>0){var a=e.glyphs[o];return a.getMetrics()}}return r}function l(e){for(var t=0,r=0;r<e.length;r+=1)t+=e[r];return t/e.length}function h(e){for(var t=[],r=[],n=[],a=[],h=[],p=[],u=[],b=null,w=0,S=0,T=0,R=0,C=0,M=0;M<e.glyphs.length;M+=1){var E=e.glyphs[M],I=0|E.unicode;(b>I||null===b)&&(b=I),I>w&&(w=I);var D=_.getUnicodeRange(I);if(32>D)S|=1<<D;else if(64>D)T|=1<<D-32;else if(96>D)R|=1<<D-64;else{if(!(123>D))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");C|=1<<D-96}if(".notdef"!==E.name){var O=E.getMetrics();t.push(O.xMin),r.push(O.yMin),n.push(O.xMax),a.push(O.yMax),p.push(O.leftSideBearing),u.push(O.rightSideBearing),h.push(E.advanceWidth)}}var A={xMin:Math.min.apply(null,t),yMin:Math.min.apply(null,r),xMax:Math.max.apply(null,n),yMax:Math.max.apply(null,a),advanceWidthMax:Math.max.apply(null,h),advanceWidthAvg:l(h),minLeftSideBearing:Math.min.apply(null,p),maxLeftSideBearing:Math.max.apply(null,p),minRightSideBearing:Math.min.apply(null,u)};A.ascender=void 0!==e.ascender?e.ascender:A.yMax,A.descender=void 0!==e.descender?e.descender:A.yMin;var P=d.make({unitsPerEm:e.unitsPerEm,xMin:A.xMin,yMin:A.yMin,xMax:A.xMax,yMax:A.yMax}),N=m.make({ascender:A.ascender,descender:A.descender,advanceWidthMax:A.advanceWidthMax,minLeftSideBearing:A.minLeftSideBearing,minRightSideBearing:A.minRightSideBearing,xMaxExtent:A.maxLeftSideBearing+(A.xMax-A.xMin),numberOfHMetrics:e.glyphs.length}),k=y.make(e.glyphs.length),U=_.make({xAvgCharWidth:Math.round(A.advanceWidthAvg),usWeightClass:500,usWidthClass:5,usFirstCharIndex:b,usLastCharIndex:w,ulUnicodeRange1:S,ulUnicodeRange2:T,ulUnicodeRange3:R,ulUnicodeRange4:C,sTypoAscender:A.ascender,sTypoDescender:A.descender,sTypoLineGap:0,usWinAscent:A.ascender,usWinDescent:-A.descender,sxHeight:s(e,"xyvw",{yMax:0}).yMax,sCapHeight:s(e,"HIKLEFJMNTZBDPRAGOQSUVWXY",A).yMax,usBreakChar:e.hasChar(" ")?32:0}),F=g.make(e.glyphs),L=c.make(e.glyphs),B=e.familyName+" "+e.styleName,G=e.familyName.replace(/\s/g,"")+"-"+e.styleName,H=v.make({copyright:e.copyright,fontFamily:e.familyName,fontSubfamily:e.styleName,uniqueID:e.manufacturer+":"+B,fullName:B,version:e.version,postScriptName:G,trademark:e.trademark,manufacturer:e.manufacturer,designer:e.designer,description:e.description,manufacturerURL:e.manufacturerURL,designerURL:e.designerURL,license:e.license,licenseURL:e.licenseURL,preferredFamily:e.familyName,preferredSubfamily:e.styleName}),z=x.make(),q=f.make(e.glyphs,{version:e.version,fullName:B,familyName:e.familyName,weightName:e.styleName,postScriptName:G}),V=[P,N,k,U,H,L,z,q,F],j=i(V),W=j.encode(),X=o(W),Y=j.fields,J=!1;for(M=0;M<Y.length;M+=1)if("head table"===Y[M].name){Y[M].value.checkSumAdjustment=2981146554-X,J=!0;break}if(!J)throw new Error("Could not find head table with checkSum to adjust.");return j}var p=e("../check"),u=e("../table"),c=e("./cmap"),f=e("./cff"),d=e("./head"),m=e("./hhea"),g=e("./hmtx"),y=e("./maxp"),v=e("./name"),_=e("./os2"),x=e("./post");r.computeCheckSum=o,r.make=i,r.fontToTable=h},{"../check":1,"../table":9,"./cff":10,"./cmap":11,"./head":14,"./hhea":15,"./hmtx":16,"./maxp":19,"./name":20,"./os2":21,"./post":22}],24:[function(e,t,r){"use strict";function n(e){return function(){return e}}var o=e("./check"),a=32768,i=2147483648,s={},l={},h={};l.BYTE=function(e){return o.argument(e>=0&&255>=e,"Byte value should be between 0 and 255."),[e]},h.BYTE=n(1),l.CHAR=function(e){return[e.charCodeAt(0)]},h.BYTE=n(1),l.CHARARRAY=function(e){for(var t=[],r=0;r<e.length;r+=1)t.push(e.charCodeAt(r));return t},h.CHARARRAY=function(e){return e.length},l.USHORT=function(e){return[e>>8&255,255&e]},h.USHORT=n(2),l.SHORT=function(e){return e>=a&&(e=-(2*a-e)),[e>>8&255,255&e]},h.SHORT=n(2),l.UINT24=function(e){return[e>>16&255,e>>8&255,255&e]},h.UINT24=n(3),l.ULONG=function(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]},h.ULONG=n(4),l.LONG=function(e){return e>=i&&(e=-(2*i-e)),[e>>24&255,e>>16&255,e>>8&255,255&e]},h.LONG=n(4),l.FIXED=l.ULONG,h.FIXED=h.ULONG,l.FWORD=l.SHORT,h.FWORD=h.SHORT,l.UFWORD=l.USHORT,h.UFWORD=h.USHORT,l.LONGDATETIME=function(){return[0,0,0,0,0,0,0,0]},h.LONGDATETIME=n(8),l.TAG=function(e){return o.argument(4===e.length,"Tag should be exactly 4 ASCII characters."),[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]},h.TAG=n(4),l.Card8=l.BYTE,h.Card8=h.BYTE,l.Card16=l.USHORT,h.Card16=h.USHORT,l.OffSize=l.BYTE,h.OffSize=h.BYTE,l.SID=l.USHORT,h.SID=h.USHORT,l.NUMBER=function(e){return e>=-107&&107>=e?[e+139]:e>=108&&1131>=e?(e-=108,[(e>>8)+247,255&e]):e>=-1131&&-108>=e?(e=-e-108,[(e>>8)+251,255&e]):e>=-32768&&32767>=e?l.NUMBER16(e):l.NUMBER32(e)},h.NUMBER=function(e){return l.NUMBER(e).length},l.NUMBER16=function(e){return[28,e>>8&255,255&e]},h.NUMBER16=n(2),l.NUMBER32=function(e){return[29,e>>24&255,e>>16&255,e>>8&255,255&e]},h.NUMBER32=n(4),l.NAME=l.CHARARRAY,h.NAME=h.CHARARRAY,l.STRING=l.CHARARRAY,h.STRING=h.CHARARRAY,l.UTF16=function(e){for(var t=[],r=0;r<e.length;r+=1)t.push(0),t.push(e.charCodeAt(r));return t},h.UTF16=function(e){return 2*e.length},l.INDEX=function(e){var t,r=1,n=[r],o=[],a=0;for(t=0;t<e.length;t+=1){var i=l.OBJECT(e[t]);Array.prototype.push.apply(o,i),a+=i.length,r+=i.length,n.push(r)}if(0===o.length)return[0,0];var s=[],h=1+Math.floor(Math.log(a)/Math.log(2))/8|0,p=[void 0,l.BYTE,l.USHORT,l.UINT24,l.ULONG][h];for(t=0;t<n.length;t+=1){var u=p(n[t]);Array.prototype.push.apply(s,u)}return Array.prototype.concat(l.Card16(e.length),l.OffSize(h),s,o)},h.INDEX=function(e){return l.INDEX(e).length},l.DICT=function(e){for(var t=[],r=Object.keys(e),n=r.length,o=0;n>o;o+=1){var a=parseInt(r[o],0),i=e[a];t=t.concat(l.OPERAND(i.value,i.type)),t=t.concat(l.OPERATOR(a))}return t},h.DICT=function(e){return l.DICT(e).length},l.OPERATOR=function(e){return 1200>e?[e]:[12,e-1200]},l.OPERAND=function(e,t){var r=[];if(Array.isArray(t))for(var n=0;n<t.length;n+=1)o.argument(e.length===t.length,"Not enough arguments given for type"+t),r=r.concat(l.OPERAND(e[n],t[n]));else r=r.concat("SID"===t?l.NUMBER(e):"offset"===t?l.NUMBER32(e):l.NUMBER(e));return r},l.OP=l.BYTE,h.OP=h.BYTE;var p="function"==typeof WeakMap&&new WeakMap;l.CHARSTRING=function(e){if(p&&p.has(e))return p.get(e);for(var t=[],r=e.length,n=0;r>n;n+=1){var o=e[n];t=t.concat(l[o.type](o.value))}return p&&p.set(e,t),t},h.CHARSTRING=function(e){return l.CHARSTRING(e).length},l.OBJECT=function(e){var t=l[e.type];return o.argument(void 0!==t,"No encoding function for type "+e.type),t(e.value)},l.TABLE=function(e){for(var t=[],r=e.fields.length,n=0;r>n;n+=1){var a=e.fields[n],i=l[a.type];o.argument(void 0!==i,"No encoding function for field type "+a.type);var s=e[a.name];void 0===s&&(s=a.value);var h=i(s);t=t.concat(h)}return t},l.LITERAL=function(e){return e},h.LITERAL=function(e){return e.length},r.decode=s,r.encode=l,r.sizeOf=h},{"./check":1}]},{},[6])(6)});
;!function(t,e){"function"==typeof define&&define.amd?define("p5.sound",["p5"],function(t){e(t)}):e("object"==typeof exports?require("../p5"):t.p5)}(this,function(t){var e;e=function(){"use strict";window.AudioContext=window.AudioContext||window.webkitAudioContext;var e=new window.AudioContext;t.prototype.getAudioContext=function(){return e},"function"!=typeof e.createGain&&(window.audioContext.createGain=window.audioContext.createGainNode),"function"!=typeof e.createDelay&&(window.audioContext.createDelay=window.audioContext.createDelayNode),"function"!=typeof window.AudioBufferSourceNode.prototype.start&&(window.AudioBufferSourceNode.prototype.start=window.AudioBufferSourceNode.prototype.noteGrainOn),"function"!=typeof window.AudioBufferSourceNode.prototype.stop&&(window.AudioBufferSourceNode.prototype.stop=window.AudioBufferSourceNode.prototype.noteOff),"function"!=typeof window.OscillatorNode.prototype.start&&(window.OscillatorNode.prototype.start=window.OscillatorNode.prototype.noteOn),"function"!=typeof window.OscillatorNode.prototype.stop&&(window.OscillatorNode.prototype.stop=window.OscillatorNode.prototype.noteOff),window.AudioContext.prototype.hasOwnProperty("createScriptProcessor")||(window.AudioContext.prototype.createScriptProcessor=window.AudioContext.prototype.createJavaScriptNode),navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var i=document.createElement("audio");t.prototype.isSupported=function(){return!!i.canPlayType};var o=function(){return!!i.canPlayType&&i.canPlayType('audio/ogg; codecs="vorbis"')},n=function(){return!!i.canPlayType&&i.canPlayType("audio/mpeg;")},s=function(){return!!i.canPlayType&&i.canPlayType('audio/wav; codecs="1"')},r=function(){return!!i.canPlayType&&(i.canPlayType("audio/x-m4a;")||i.canPlayType("audio/aac;"))},a=function(){return!!i.canPlayType&&i.canPlayType("audio/x-aiff;")};t.prototype.isFileSupported=function(t){switch(t.toLowerCase()){case"mp3":return n();case"wav":return s();case"ogg":return o();case"mp4":return r();case"aiff":return a();default:return!1}};var u=navigator.userAgent.match(/(iPad|iPhone|iPod)/g)?!0:!1;u&&window.addEventListener("touchstart",function(){var t=e.createBuffer(1,1,22050),i=e.createBufferSource();i.buffer=t,i.connect(e.destination),i.start(0)},!1)}();var i;i=function(){"use strict";var e=function(){var e=t.prototype.getAudioContext();this.input=e.createGain(),this.output=e.createGain(),this.limiter=e.createDynamicsCompressor(),this.limiter.threshold.value=0,this.limiter.ratio.value=100,this.audiocontext=e,this.output.disconnect(),this.inputSources=[],this.input.connect(this.limiter),this.limiter.connect(this.output),this.meter=e.createGain(),this.fftMeter=e.createGain(),this.output.connect(this.meter),this.output.connect(this.fftMeter),this.output.connect(this.audiocontext.destination),this.soundArray=[],this.parts=[],this.extensions=[]},i=new e;return t.prototype.getMasterVolume=function(){return i.output.gain.value},t.prototype.masterVolume=function(t,e,o){if("number"==typeof t){var e=e||0,o=o||0,n=i.audiocontext.currentTime,s=i.output.gain.value;i.output.gain.cancelScheduledValues(n+o),i.output.gain.linearRampToValueAtTime(s,n+o),i.output.gain.linearRampToValueAtTime(t,n+o+e)}else{if(!t)return i.output.gain;t.connect(i.output.gain)}},t.soundOut=i,t.soundOut._silentNode=i.audiocontext.createGain(),t.soundOut._silentNode.gain.value=0,t.soundOut._silentNode.connect(i.audiocontext.destination),i}(e);var o;o=function(){"use strict";var e=i;t.prototype.sampleRate=function(){return e.audiocontext.sampleRate},t.prototype.freqToMidi=function(t){var e=Math.log(t/440)/Math.log(2),i=Math.round(12*e)+57;return i},t.prototype.midiToFreq=function(t){return 440*Math.pow(2,(t-69)/12)},t.prototype.soundFormats=function(){e.extensions=[];for(var t=0;t<arguments.length;t++){if(arguments[t]=arguments[t].toLowerCase(),!(["mp3","wav","ogg","m4a","aac"].indexOf(arguments[t])>-1))throw arguments[t]+" is not a valid sound format!";e.extensions.push(arguments[t])}},t.prototype.disposeSound=function(){for(var t=0;t<e.soundArray.length;t++)e.soundArray[t].dispose()},t.prototype.registerMethod("remove",t.prototype.disposeSound),t.prototype._checkFileFormats=function(i){var o;if("string"==typeof i){o=i;var n=o.split(".").pop();if(["mp3","wav","ogg","m4a","aac"].indexOf(n)>-1){var s=t.prototype.isFileSupported(n);if(s)o=o;else for(var r=o.split("."),a=r[r.length-1],u=0;u<e.extensions.length;u++){var c=e.extensions[u],s=t.prototype.isFileSupported(c);if(s){a="",2===r.length&&(a+=r[0]);for(var u=1;u<=r.length-2;u++){var h=r[u];a+="."+h}o=a+=".",o=o+=c;break}}}else for(var u=0;u<e.extensions.length;u++){var c=e.extensions[u],s=t.prototype.isFileSupported(c);if(s){o=o+"."+c;break}}}else if("object"==typeof i)for(var u=0;u<i.length;u++){var c=i[u].split(".").pop(),s=t.prototype.isFileSupported(c);if(s){o=i[u];break}}return o},t.prototype._mathChain=function(t,e,i,o,n){for(var s in t.mathOps)t.mathOps[s]instanceof n&&(t.mathOps[s].dispose(),i=s,i<t.mathOps.length-1&&(o=t.mathOps[s+1]));return t.mathOps[i-1].disconnect(),t.mathOps[i-1].connect(e),e.connect(o),t.mathOps[i]=e,t}}(i);var n;n=function(){"use strict";var e=i,o=e.audiocontext;t.Panner=function(t,e,i){this.input=o.createGain(),t.connect(this.input),this.left=o.createGain(),this.right=o.createGain(),this.left.channelInterpretation="discrete",this.right.channelInterpretation="discrete",i>1?(this.splitter=o.createChannelSplitter(2),this.input.connect(this.splitter),this.splitter.connect(this.left,1),this.splitter.connect(this.right,0)):(this.input.connect(this.left),this.input.connect(this.right)),this.output=o.createChannelMerger(2),this.left.connect(this.output,0,1),this.right.connect(this.output,0,0),this.output.connect(e)},t.Panner.prototype.pan=function(t,e){var i=e||0,n=o.currentTime+i,s=(t+1)/2,r=Math.cos(s*Math.PI/2),a=Math.sin(s*Math.PI/2);this.left.gain.linearRampToValueAtTime(a,n),this.right.gain.linearRampToValueAtTime(r,n)},t.Panner.prototype.inputChannels=function(t){1===t?(this.input.disconnect(),this.input.connect(this.left),this.input.connect(this.right)):2===t&&(this.splitter=o.createChannelSplitter(2),this.input.disconnect(),this.input.connect(this.splitter),this.splitter.connect(this.left,1),this.splitter.connect(this.right,0))},t.Panner.prototype.connect=function(t){this.output.connect(t)},t.Panner.prototype.disconnect=function(t){this.output.disconnect()},t.Panner3D=function(t,e){var i=o.createPanner();return i.panningModel="HRTF",i.distanceModel="linear",i.setPosition(0,0,0),t.connect(i),i.connect(e),i.pan=function(t,e,o){i.setPosition(t,e,o)},i}}(i);var s;s=function(){"use strict";function e(t,e){for(var i={},o=t.length,n=0;o>n;n++){if(t[n]>e){var s=t[n],r=new h(s,n);i[n]=r,n+=6e3}n++}return i}function o(t){for(var e=[],i=Object.keys(t).sort(),o=0;o<i.length;o++)for(var n=0;10>n;n++){var s=t[i[o]],r=t[i[o+n]];if(s&&r){var a=s.sampleIndex,u=r.sampleIndex,c=u-a;c>0&&s.intervals.push(c);var h=e.some(function(t,e){return t.interval===c?(t.count++,t):void 0});h||e.push({interval:c,count:1})}}return e}function n(t,e){var i=[];return t.forEach(function(t,o){try{var n=Math.abs(60/(t.interval/e));n=r(n);var s=i.some(function(e){return e.tempo===n?e.count+=t.count:void 0});if(!s){if(isNaN(n))return;i.push({tempo:Math.round(n),count:t.count})}}catch(a){throw a}}),i}function s(t,e,i,o){for(var n=[],s=Object.keys(t).sort(),a=0;a<s.length;a++)for(var u=s[a],c=t[u],h=0;h<c.intervals.length;h++){var p=Math.round(Math.abs(60/(c.intervals[h]/i)));p=r(p);Math.abs(p-e)<o&&n.push(c.sampleIndex/44100)}return n=n.filter(function(t,e,i){var o=i[e+1]-t;return o>.01?!0:void 0})}function r(t){if(isFinite(t)&&0!=t){for(;90>t;)t*=2;for(;t>180&&t>90;)t/=2;return t}}var a=i,u=a.audiocontext;t.SoundFile=function(e,i,o){if("undefined"!=typeof e){if("string"==typeof e||"string"==typeof e[0]){var n=t.prototype._checkFileFormats(e);this.url=n}else if("object"==typeof e&&!(window.File&&window.FileReader&&window.FileList&&window.Blob))throw"Unable to load file because the File API is not supported";e.file&&(e=e.file),this.file=e}this._looping=!1,this._playing=!1,this._paused=!1,this._pauseTime=0,this._cues=[],this._lastPos=0,this._counterNode,this._scopeNode,this.bufferSourceNodes=[],this.bufferSourceNode=null,this.buffer=null,this.playbackRate=1,this.gain=1,this.input=a.audiocontext.createGain(),this.output=a.audiocontext.createGain(),this.reversed=!1,this.startTime=0,this.endTime=null,this.pauseTime=0,this.mode="sustain",this.startMillis=null,this.amplitude=new t.Amplitude,this.output.connect(this.amplitude.input),this.panPosition=0,this.panner=new t.Panner(this.output,a.input,2),(this.url||this.file)&&this.load(i),a.soundArray.push(this),"function"==typeof o?this.whileLoading=o:this.whileLoading=function(){}},t.prototype.registerPreloadMethod("loadSound"),t.prototype.loadSound=function(e,i,o){window.location.origin.indexOf("file://")>-1&&"undefined"===window.cordova&&void 0;var n=new t.SoundFile(e,i,o);return n},t.SoundFile.prototype.load=function(t){if(void 0!=this.url&&""!=this.url){var e=this,i=new XMLHttpRequest;i.addEventListener("progress",function(t){e._updateProgress(t)},!1),i.open("GET",this.url,!0),i.responseType="arraybuffer";var o=this;i.onload=function(){u.decodeAudioData(i.response,function(e){o.buffer=e,o.panner.inputChannels(e.numberOfChannels),t&&t(o)})},i.send()}else if(void 0!=this.file){var n=new FileReader,o=this;n.onload=function(){u.decodeAudioData(n.result,function(e){o.buffer=e,o.panner.inputChannels(e.numberOfChannels),t&&t(o)})},n.readAsArrayBuffer(this.file)}},t.SoundFile.prototype._updateProgress=function(t){if(t.lengthComputable){var e=Math.log(t.loaded/t.total*9.9);this.whileLoading(e)}else void 0},t.SoundFile.prototype.isLoaded=function(){return this.buffer?!0:!1},t.SoundFile.prototype.play=function(t,e,i,o,n){var s,r,u=this,c=a.audiocontext.currentTime,t=t||0;if(0>t&&(t=0),t+=c,!this.buffer)throw"not ready to play file, buffer has yet to load. Try preload()";if(this._pauseTime=0,"restart"===this.mode&&this.buffer&&this.bufferSourceNode){var c=a.audiocontext.currentTime;this.bufferSourceNode.stop(t),this._counterNode.stop(t)}if(this.bufferSourceNode=this._initSourceNode(),this._counterNode=this._initCounterNode(),o){if(!(o>=0&&o<this.buffer.duration))throw"start time out of range";s=o}else s=0;n=n?n<=this.buffer.duration-s?n:this.buffer.duration:this.buffer.duration-s;var h=i||1;if(this.bufferSourceNode.connect(this.output),this.output.gain.value=h,e=e||Math.abs(this.playbackRate),this.bufferSourceNode.playbackRate.setValueAtTime(e,c),this._paused?(this.bufferSourceNode.start(t,this.pauseTime,n),this._counterNode.start(t,this.pauseTime,n)):(this.bufferSourceNode.start(t,s,n),this._counterNode.start(t,s,n)),this._playing=!0,this._paused=!1,this.bufferSourceNodes.push(this.bufferSourceNode),this.bufferSourceNode._arrayIndex=this.bufferSourceNodes.length-1,this.bufferSourceNode.onended=function(t){var e=this;this._playing=!1,setTimeout(function(){u.bufferSourceNodes.splice(e._arrayIndex,1),0===u.bufferSourceNodes.length&&(u._playing=!1)},1)},this.bufferSourceNode.loop=this._looping,this._counterNode.loop=this._looping,this._looping===!0){var r=s+n;this.bufferSourceNode.loopStart=s,this.bufferSourceNode.loopEnd=r,this._counterNode.loopStart=s,this._counterNode.loopEnd=r}},t.SoundFile.prototype.playMode=function(t){var e=t.toLowerCase();if("restart"===e&&this.buffer&&this.bufferSourceNode)for(var i=0;i<this.bufferSourceNodes.length-1;i++){var o=a.audiocontext.currentTime;this.bufferSourceNodes[i].stop(o)}if("restart"!==e&&"sustain"!==e)throw'Invalid play mode. Must be either "restart" or "sustain"';this.mode=e},t.SoundFile.prototype.pause=function(t){var e=a.audiocontext.currentTime,t=t||0,i=t+e;this.isPlaying()&&this.buffer&&this.bufferSourceNode?(this.pauseTime=this.currentTime(),this.bufferSourceNode.stop(i),this._counterNode.stop(i),this._paused=!0,this._playing=!1,this._pauseTime=this.currentTime()):this._pauseTime=0},t.SoundFile.prototype.loop=function(t,e,i,o,n){this._looping=!0,this.play(t,e,i,o,n)},t.SoundFile.prototype.setLoop=function(t){if(t===!0)this._looping=!0;else{if(t!==!1)throw"Error: setLoop accepts either true or false";this._looping=!1}this.bufferSourceNode&&(this.bufferSourceNode.loop=this._looping,this._counterNode.loop=this._looping)},t.SoundFile.prototype.isLooping=function(){return this.bufferSourceNode&&this._looping===!0&&this.isPlaying()===!0?!0:!1},t.SoundFile.prototype.isPlaying=function(){return this._playing},t.SoundFile.prototype.isPaused=function(){return this._paused},t.SoundFile.prototype.stop=function(t){var e=t||0;if("sustain"==this.mode)this.stopAll(e),this._playing=!1,this.pauseTime=0,this._paused=!1;else if(this.buffer&&this.bufferSourceNode){var i=a.audiocontext.currentTime,o=e||0;this.pauseTime=0,this.bufferSourceNode.stop(i+o),this._counterNode.stop(i+o),this._playing=!1,this._paused=!1}},t.SoundFile.prototype.stopAll=function(t){var e=a.audiocontext.currentTime,i=t||0;if(this.buffer&&this.bufferSourceNode){for(var o=0;o<this.bufferSourceNodes.length;o++)if(void 0!=typeof this.bufferSourceNodes[o])try{this.bufferSourceNodes[o].stop(e+i)}catch(n){}this._counterNode.stop(e+i)}},t.SoundFile.prototype.setVolume=function(t,e,i){if("number"==typeof t){var e=e||0,i=i||0,o=a.audiocontext.currentTime,n=this.output.gain.value;this.output.gain.cancelScheduledValues(o+i),this.output.gain.linearRampToValueAtTime(n,o+i),this.output.gain.linearRampToValueAtTime(t,o+i+e)}else{if(!t)return this.output.gain;t.connect(this.output.gain)}},t.SoundFile.prototype.amp=t.SoundFile.prototype.setVolume,t.SoundFile.prototype.fade=t.SoundFile.prototype.setVolume,t.SoundFile.prototype.getVolume=function(){return this.output.gain.value},t.SoundFile.prototype.pan=function(t,e){this.panPosition=t,this.panner.pan(t,e)},t.SoundFile.prototype.getPan=function(){return this.panPosition},t.SoundFile.prototype.rate=function(t){if(this.playbackRate!==t||!this.bufferSourceNode||this.bufferSourceNode.playbackRate.value!==t){this.playbackRate=t;var e=t;if(0===this.playbackRate&&this._playing&&this.pause(),this.playbackRate<0&&!this.reversed){var i=this.currentTime();this.bufferSourceNode.playbackRate.value;this.reverseBuffer(),e=Math.abs(t);var o=(i-this.duration())/e;this.pauseTime=o}else this.playbackRate>0&&this.reversed&&this.reverseBuffer();if(this.bufferSourceNode){var n=a.audiocontext.currentTime;this.bufferSourceNode.playbackRate.cancelScheduledValues(n),this.bufferSourceNode.playbackRate.linearRampToValueAtTime(Math.abs(e),n),this._counterNode.playbackRate.cancelScheduledValues(n),this._counterNode.playbackRate.linearRampToValueAtTime(Math.abs(e),n)}}},t.SoundFile.prototype.setPitch=function(t){var e=midiToFreq(t)/midiToFreq(60);this.rate(e)},t.SoundFile.prototype.getPlaybackRate=function(){return this.playbackRate},t.SoundFile.prototype.duration=function(){return this.buffer?this.buffer.duration:0},t.SoundFile.prototype.currentTime=function(){return this._pauseTime>0?this._pauseTime:this._lastPos/u.sampleRate},t.SoundFile.prototype.jump=function(t,e){if(0>t||t>this.buffer.duration)throw"jump time out of range";if(e>this.buffer.duration-t)throw"end time out of range";var i=t||0,o=e||this.buffer.duration-t;this.isPlaying()&&this.stop(),this.play(0,this.playbackRate,this.output.gain.value,i,o)},t.SoundFile.prototype.channels=function(){return this.buffer.numberOfChannels},t.SoundFile.prototype.sampleRate=function(){return this.buffer.sampleRate},t.SoundFile.prototype.frames=function(){return this.buffer.length},t.SoundFile.prototype.getPeaks=function(t){if(!this.buffer)throw"Cannot load peaks yet, buffer is not loaded";if(t||(t=5*window.width),this.buffer){for(var e=this.buffer,i=e.length/t,o=~~(i/10)||1,n=e.numberOfChannels,s=new Float32Array(Math.round(t)),r=0;n>r;r++)for(var a=e.getChannelData(r),u=0;t>u;u++){for(var c=~~(u*i),h=~~(c+i),p=0,l=c;h>l;l+=o){var f=a[l];f>p?p=f:-f>p&&(p=f)}(0===r||Math.abs(p)>s[u])&&(s[u]=p)}return s}},t.SoundFile.prototype.reverseBuffer=function(){var t=this.getVolume();if(this.setVolume(0,.01,0),this.pause(),!this.buffer)throw"SoundFile is not done loading";for(var e=0;e<this.buffer.numberOfChannels;e++)Array.prototype.reverse.call(this.buffer.getChannelData(e));this.reversed=!this.reversed,this.setVolume(t,.01,.0101),this.play()},t.SoundFile.prototype._onEnded=function(t){t.onended=function(t){var e=a.audiocontext.currentTime;t.stop(e)}},t.SoundFile.prototype.add=function(){},t.SoundFile.prototype.dispose=function(){var t=a.audiocontext.currentTime;if(this.stop(t),this.buffer&&this.bufferSourceNode){for(var e=0;e<this.bufferSourceNodes.length-1;e++)null!==this.bufferSourceNodes[e]&&(this.bufferSourceNodes[e].stop(t),this.bufferSourceNodes[e]=null);if(this.isPlaying()){try{this._counterNode.stop(t)}catch(i){void 0}this._counterNode=null}}this.output&&(this.output.disconnect(),this.output=null),this.panner&&(this.panner.disconnect(),this.panner=null)},t.SoundFile.prototype.connect=function(t){t?t.hasOwnProperty("input")?this.panner.connect(t.input):this.panner.connect(t):this.panner.connect(a.input)},t.SoundFile.prototype.disconnect=function(t){this.panner.disconnect(t)},t.SoundFile.prototype.getLevel=function(t){return t&&(this.amplitude.smoothing=t),this.amplitude.getLevel()},t.SoundFile.prototype.setPath=function(e,i){var o=t.prototype._checkFileFormats(e);this.url=o,this.load(i)},t.SoundFile.prototype.setBuffer=function(t){var e=t.length,i=t[0].length,o=u.createBuffer(e,i,u.sampleRate);!t[0]instanceof Float32Array&&(t[0]=new Float32Array(t[0]));for(var n=0;e>n;n++){var s=o.getChannelData(n);s.set(t[n])}this.buffer=o,this.panner.inputChannels(e)},t.SoundFile.prototype._initCounterNode=function(){var e=this,i=u.currentTime,o=u.createBufferSource();return e._scopeNode&&(e._scopeNode.disconnect(),e._scopeNode=null),e._scopeNode=u.createScriptProcessor(256,1,1),o.buffer=c(e.buffer),o.playbackRate.setValueAtTime(e.playbackRate,i),o.connect(e._scopeNode),e._scopeNode.connect(t.soundOut._silentNode),e._scopeNode.onaudioprocess=function(t){var i=t.inputBuffer.getChannelData(0);e._lastPos=i[i.length-1]||0,e._onTimeUpdate(e._lastPos)},o},t.SoundFile.prototype._initSourceNode=function(){var t=this,e=u.currentTime,i=u.createBufferSource();return i.buffer=t.buffer,i.playbackRate.setValueAtTime(t.playbackRate,e),i};var c=function(t){for(var e=new Float32Array(t.length),i=u.createBuffer(1,t.length,44100),o=0;o<t.length;o++)e[o]=o;return i.getChannelData(0).set(e),i};t.SoundFile.prototype.processPeaks=function(t,i,r,a){var u=this.buffer.length,c=this.buffer.sampleRate,h=this.buffer,l=i||.9,f=l,d=r||.22,y=a||200,m=new OfflineAudioContext(1,u,c),v=m.createBufferSource();v.buffer=h;var g=m.createBiquadFilter();g.type="lowpass",v.connect(g),g.connect(m.destination),v.start(0),m.startRendering(),m.oncomplete=function(i){var r=i.renderedBuffer,a=r.getChannelData(0);do p=e(a,f),f-=.005;while(Object.keys(p).length<y&&f>=d);var u=o(p),c=n(u,r.sampleRate),h=c.sort(function(t,e){return e.count-t.count}).splice(0,5);this.tempo=h[0].tempo;var l=5,m=s(p,h[0].tempo,r.sampleRate,l);t(m)}};var h=function(t,e){this.sampleIndex=e,this.amplitude=t,this.tempos=[],this.intervals=[]},p=[];t.SoundFile.prototype.addCue=function(t,e,i){var o=this._cueIDCounter++,n=new l(e,t,o,i);return this._cues.push(n),o},t.SoundFile.prototype.removeCue=function(t){for(var e=0;e<this._cues.length;e++){var i=this._cues[e];i.id===t&&this.cues.splice(e,1)}0===this._cues.length},t.SoundFile.prototype.clearCues=function(){this._cues=[]},t.SoundFile.prototype._onTimeUpdate=function(t){for(var e=t/this.buffer.sampleRate,i=0;i<this._cues.length;i++){var o=this._cues[i].time,n=this._cues[i].val;this._prevTime<o&&e>=o&&this._cues[i].callback(n)}this._prevTime=e};var l=function(t,e,i,o){this.callback=t,this.time=e,this.id=i,this.val=o}}(e,i);var r;r=function(){"use strict";var e=i;t.Amplitude=function(t){this.bufferSize=2048,this.audiocontext=e.audiocontext,this.processor=this.audiocontext.createScriptProcessor(this.bufferSize,2,1),this.input=this.processor,this.output=this.audiocontext.createGain(),this.smoothing=t||0,this.volume=0,this.average=0,this.stereoVol=[0,0],this.stereoAvg=[0,0],this.stereoVolNorm=[0,0],this.volMax=.001,this.normalize=!1,this.processor.onaudioprocess=this._audioProcess.bind(this),this.processor.connect(this.output),this.output.gain.value=0,this.output.connect(this.audiocontext.destination),e.meter.connect(this.processor)},t.Amplitude.prototype.setInput=function(i,o){e.meter.disconnect(),o&&(this.smoothing=o),null==i?(void 0,e.meter.connect(this.processor)):i instanceof t.Signal?i.output.connect(this.processor):i?(i.connect(this.processor),this.processor.disconnect(),this.processor.connect(this.output)):e.meter.connect(this.processor)},t.Amplitude.prototype.connect=function(t){t?t.hasOwnProperty("input")?this.output.connect(t.input):this.output.connect(t):this.output.connect(this.panner.connect(e.input))},t.Amplitude.prototype.disconnect=function(t){this.output.disconnect()},t.Amplitude.prototype._audioProcess=function(t){for(var e=0;e<t.inputBuffer.numberOfChannels;e++){for(var i,o=t.inputBuffer.getChannelData(e),n=o.length,s=0,r=0,a=0;n>a;a++)i=o[a],this.normalize?(s+=Math.max(Math.min(i/this.volMax,1),-1),r+=Math.max(Math.min(i/this.volMax,1),-1)*Math.max(Math.min(i/this.volMax,1),-1)):(s+=i,r+=i*i);var u=s/n,c=Math.sqrt(r/n);this.stereoVol[e]=Math.max(c,this.stereoVol[e]*this.smoothing),this.stereoAvg[e]=Math.max(u,this.stereoVol[e]*this.smoothing),this.volMax=Math.max(this.stereoVol[e],this.volMax)}var h=this,p=this.stereoVol.reduce(function(t,e,i){return h.stereoVolNorm[i-1]=Math.max(Math.min(h.stereoVol[i-1]/h.volMax,1),0),h.stereoVolNorm[i]=Math.max(Math.min(h.stereoVol[i]/h.volMax,1),0),t+e});this.volume=p/this.stereoVol.length,this.volNorm=Math.max(Math.min(this.volume/this.volMax,1),0)},t.Amplitude.prototype.getLevel=function(t){return"undefined"!=typeof t?this.normalize?this.stereoVolNorm[t]:this.stereoVol[t]:this.normalize?this.volNorm:this.volume},t.Amplitude.prototype.toggleNormalize=function(t){"boolean"==typeof t?this.normalize=t:this.normalize=!this.normalize},t.Amplitude.prototype.smooth=function(t){t>=0&&1>t?this.smoothing=t:void 0}}(i);var a;a=function(){"use strict";var e=i;t.FFT=function(t,i){this.smoothing=t||.8,this.bins=i||1024;var o=2*i||2048;this.input=this.analyser=e.audiocontext.createAnalyser(),e.fftMeter.connect(this.analyser),this.analyser.smoothingTimeConstant=this.smoothing,this.analyser.fftSize=o,this.freqDomain=new Uint8Array(this.analyser.frequencyBinCount),this.timeDomain=new Uint8Array(this.analyser.frequencyBinCount),this.bass=[20,140],this.lowMid=[140,400],this.mid=[400,2600],this.highMid=[2600,5200],this.treble=[5200,14e3]},t.FFT.prototype.setInput=function(t){t?(t.output?t.output.connect(this.analyser):t.connect&&t.connect(this.analyser),e.fftMeter.disconnect()):e.fftMeter.connect(this.analyser)},t.FFT.prototype.waveform=function(){for(var e,i,o,n=0;n<arguments.length;n++)"number"==typeof arguments[n]&&(e=arguments[n],this.analyser.fftSize=2*e),"string"==typeof arguments[n]&&(i=arguments[n]);if(i&&!t.prototype._isSafari())return s(this,this.timeDomain),this.analyser.getFloatTimeDomainData(this.timeDomain),this.timeDomain;r(this,this.timeDomain),this.analyser.getByteTimeDomainData(this.timeDomain);for(var o=new Array,n=0;n<this.timeDomain.length;n++){var a=t.prototype.map(this.timeDomain[n],0,255,-1,1);o.push(a)}return o},t.FFT.prototype.analyze=function(){for(var t,e,i=0;i<arguments.length;i++)"number"==typeof arguments[i]&&(t=this.bins=arguments[i],this.analyser.fftSize=2*this.bins),"string"==typeof arguments[i]&&(e=arguments[i]);if(e&&"db"===e.toLowerCase())return o(this),this.analyser.getFloatFrequencyData(this.freqDomain),this.freqDomain;n(this,this.freqDomain),this.analyser.getByteFrequencyData(this.freqDomain);var s=Array.apply([],this.freqDomain);return s.length===this.analyser.fftSize,s.constructor===Array,s},t.FFT.prototype.getEnergy=function(t,i){var o=e.audiocontext.sampleRate/2;if("bass"===t?(t=this.bass[0],i=this.bass[1]):"lowMid"===t?(t=this.lowMid[0],i=this.lowMid[1]):"mid"===t?(t=this.mid[0],i=this.mid[1]):"highMid"===t?(t=this.highMid[0],i=this.highMid[1]):"treble"===t&&(t=this.treble[0],i=this.treble[1]),"number"!=typeof t)throw"invalid input for getEnergy()";if(i){if(t&&i){if(t>i){var n=i;i=t,t=n}for(var s=Math.round(t/o*this.freqDomain.length),r=Math.round(i/o*this.freqDomain.length),a=0,u=0,c=s;r>=c;c++)a+=this.freqDomain[c],u+=1;var h=a/u;return h}throw"invalid input for getEnergy()"}var p=Math.round(t/o*this.freqDomain.length);return this.freqDomain[p]},t.FFT.prototype.getFreq=function(t,e){void 0;var i=this.getEnergy(t,e);return i},t.FFT.prototype.smooth=function(t){t&&(this.smoothing=t),this.analyser.smoothingTimeConstant=t};var o=function(t){t.freqDomain instanceof Float32Array==!1&&(t.freqDomain=new Float32Array(t.analyser.frequencyBinCount))},n=function(t){t.freqDomain instanceof Uint8Array==!1&&(t.freqDomain=new Uint8Array(t.analyser.frequencyBinCount))},s=function(t){t.timeDomain instanceof Float32Array==!1&&(t.timeDomain=new Float32Array(t.analyser.frequencyBinCount))},r=function(t){t.timeDomain instanceof Uint8Array==!1&&(t.timeDomain=new Uint8Array(t.analyser.frequencyBinCount))}}(i);var u;u=function(){"use strict";function t(t){return void 0===t}var e;if(t(window.AudioContext)&&(window.AudioContext=window.webkitAudioContext),t(window.OfflineAudioContext)&&(window.OfflineAudioContext=window.webkitOfflineAudioContext),t(AudioContext))throw new Error("Web Audio is not supported in this browser");e=new AudioContext,"function"!=typeof AudioContext.prototype.createGain&&(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),"function"!=typeof AudioContext.prototype.createDelay&&(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode),"function"!=typeof AudioContext.prototype.createPeriodicWave&&(AudioContext.prototype.createPeriodicWave=AudioContext.prototype.createWaveTable),"function"!=typeof AudioBufferSourceNode.prototype.start&&(AudioBufferSourceNode.prototype.start=AudioBufferSourceNode.prototype.noteGrainOn),"function"!=typeof AudioBufferSourceNode.prototype.stop&&(AudioBufferSourceNode.prototype.stop=AudioBufferSourceNode.prototype.noteOff),"function"!=typeof OscillatorNode.prototype.start&&(OscillatorNode.prototype.start=OscillatorNode.prototype.noteOn),"function"!=typeof OscillatorNode.prototype.stop&&(OscillatorNode.prototype.stop=OscillatorNode.prototype.noteOff),"function"!=typeof OscillatorNode.prototype.setPeriodicWave&&(OscillatorNode.prototype.setPeriodicWave=OscillatorNode.prototype.setWaveTable),window.Tone||(AudioNode.prototype._nativeConnect=AudioNode.prototype.connect,AudioNode.prototype.connect=function(e,i,o){if(e.input)Array.isArray(e.input)?(t(o)&&(o=0),this.connect(e.input[o])):this.connect(e.input,i,o);else try{e instanceof AudioNode?this._nativeConnect(e,i,o):this._nativeConnect(e,i)}catch(n){throw new Error("error connecting to node: "+e)}});var i=function(e,i){t(e)||1===e?this.input=this.context.createGain():e>1&&(this.input=new Array(e)),t(i)||1===i?this.output=this.context.createGain():i>1&&(this.output=new Array(e))};i.context=e,i.prototype.context=i.context,i.prototype.bufferSize=2048,i.prototype.bufferTime=i.prototype.bufferSize/i.context.sampleRate,i.prototype.connect=function(t,e,i){Array.isArray(this.output)?(e=this.defaultArg(e,0),this.output[e].connect(t,0,i)):this.output.connect(t,e,i)},i.prototype.disconnect=function(t){Array.isArray(this.output)?(t=this.defaultArg(t,0),this.output[t].disconnect()):this.output.disconnect()},i.prototype.connectSeries=function(){if(arguments.length>1)for(var t=arguments[0],e=1;e<arguments.length;e++){var i=arguments[e];t.connect(i),t=i}},i.prototype.connectParallel=function(){var t=arguments[0];if(arguments.length>1)for(var e=1;e<arguments.length;e++){var i=arguments[e];t.connect(i)}},i.prototype.chain=function(){if(arguments.length>0)for(var t=this,e=0;e<arguments.length;e++){var i=arguments[e];t.connect(i),t=i}},i.prototype.fan=function(){if(arguments.length>0)for(var t=1;t<arguments.length;t++)this.connect(arguments[t])},AudioNode.prototype.chain=i.prototype.chain,AudioNode.prototype.fan=i.prototype.fan,i.prototype.defaultArg=function(e,i){if("object"==typeof e&&"object"==typeof i){var o={};for(var n in e)o[n]=this.defaultArg(e[n],e[n]);for(var s in i)o[s]=this.defaultArg(e[s],i[s]);return o}return t(e)?i:e},i.prototype.optionsObject=function(t,e,i){var o={};if(1===t.length&&"object"==typeof t[0])o=t[0];else for(var n=0;n<e.length;n++)o[e[n]]=t[n];return this.isUndef(i)?o:this.defaultArg(o,i)},i.prototype.isUndef=t,i.prototype.equalPowerScale=function(t){var e=.5*Math.PI;return Math.sin(t*e)},i.prototype.logScale=function(t){return Math.max(this.normalize(this.gainToDb(t),-100,0),0)},i.prototype.expScale=function(t){return this.dbToGain(this.interpolate(t,-100,0))},i.prototype.dbToGain=function(t){return Math.pow(2,t/6)},i.prototype.gainToDb=function(t){return 20*(Math.log(t)/Math.LN10)},i.prototype.interpolate=function(t,e,i){return t*(i-e)+e},i.prototype.normalize=function(t,e,i){if(e>i){var o=i;i=e,e=o}else if(e==i)return 0;return(t-e)/(i-e)},i.prototype.dispose=function(){this.isUndef(this.input)||(this.input instanceof AudioNode&&this.input.disconnect(),this.input=null),this.isUndef(this.output)||(this.output instanceof AudioNode&&this.output.disconnect(),this.output=null)};var o=null;i.prototype.noGC=function(){this.output.connect(o)},AudioNode.prototype.noGC=function(){this.connect(o)},i.prototype.now=function(){return this.context.currentTime},i.prototype.samplesToSeconds=function(t){return t/this.context.sampleRate},i.prototype.toSamples=function(t){var e=this.toSeconds(t);return Math.round(e*this.context.sampleRate)},i.prototype.toSeconds=function(t,e){if(e=this.defaultArg(e,this.now()),"number"==typeof t)return t;if("string"==typeof t){var i=0;return"+"===t.charAt(0)&&(t=t.slice(1),i=e),parseFloat(t)+i}return e},i.prototype.frequencyToSeconds=function(t){return 1/parseFloat(t)},i.prototype.secondsToFrequency=function(t){return 1/t};var n=[];return i._initAudioContext=function(t){t(i.context),n.push(t)},i.setContext=function(t){i.prototype.context=t,i.context=t;for(var e=0;e<n.length;e++)n[e](t)},i.extend=function(e,o){function n(){}t(o)&&(o=i),n.prototype=o.prototype,e.prototype=new n,e.prototype.constructor=e},i.startMobile=function(){var t=i.context.createOscillator(),e=i.context.createGain();e.gain.value=0,t.connect(e),e.connect(i.context.destination);var o=i.context.currentTime;t.start(o),t.stop(o+1)},i._initAudioContext(function(t){i.prototype.bufferTime=i.prototype.bufferSize/t.sampleRate,o=t.createGain(),o.gain.value=0,o.connect(t.destination)}),i}();var c;c=function(t){"use strict";return t.SignalBase=function(){},t.extend(t.SignalBase),t.SignalBase.prototype.connect=function(e,i,o){e instanceof t.Signal?e.setValue(0):e instanceof AudioParam&&(e.value=0),t.prototype.connect.call(this,e,i,o)},t.SignalBase.prototype.dispose=function(){t.prototype.dispose.call(this)},t.SignalBase}(u);var h;h=function(t){"use strict";return t.WaveShaper=function(t,e){this._shaper=this.input=this.output=this.context.createWaveShaper(),this._curve=null,Array.isArray(t)?this.setCurve(t):isFinite(t)||this.isUndef(t)?this._curve=new Float32Array(this.defaultArg(t,1024)):"function"==typeof t&&(this._curve=new Float32Array(this.defaultArg(e,1024)),this.setMap(t))},t.extend(t.WaveShaper,t.SignalBase),t.WaveShaper.prototype.setMap=function(t){for(var e=0,i=this._curve.length;i>e;e++){var o=e/i*2-1,n=e/(i-1)*2-1;
this._curve[e]=t(o,e,n)}this._shaper.curve=this._curve},t.WaveShaper.prototype.setCurve=function(t){if(this._isSafari()){var e=t[0];t.unshift(e)}this._curve=new Float32Array(t),this._shaper.curve=this._curve},t.WaveShaper.prototype.setOversample=function(t){this._shaper.oversample=t},t.WaveShaper.prototype._isSafari=function(){var t=navigator.userAgent.toLowerCase();return-1!==t.indexOf("safari")&&-1===t.indexOf("chrome")},t.WaveShaper.prototype.dispose=function(){t.prototype.dispose.call(this),this._shaper.disconnect(),this._shaper=null,this._curve=null},t.WaveShaper}(u);var p;p=function(t){"use strict";return t.Signal=function(e){this._scalar=this.context.createGain(),this.input=this.output=this.context.createGain(),this._syncRatio=1,this.value=this.defaultArg(e,0),t.Signal._constant.chain(this._scalar,this.output)},t.extend(t.Signal,t.SignalBase),t.Signal.prototype.getValue=function(){return this._scalar.gain.value},t.Signal.prototype.setValue=function(t){0===this._syncRatio?t=0:t*=this._syncRatio,this._scalar.gain.value=t},t.Signal.prototype.setValueAtTime=function(t,e){t*=this._syncRatio,this._scalar.gain.setValueAtTime(t,this.toSeconds(e))},t.Signal.prototype.setCurrentValueNow=function(t){t=this.defaultArg(t,this.now());var e=this.getValue();return this.cancelScheduledValues(t),this._scalar.gain.setValueAtTime(e,t),e},t.Signal.prototype.linearRampToValueAtTime=function(t,e){t*=this._syncRatio,this._scalar.gain.linearRampToValueAtTime(t,this.toSeconds(e))},t.Signal.prototype.exponentialRampToValueAtTime=function(t,e){t*=this._syncRatio;try{this._scalar.gain.exponentialRampToValueAtTime(t,this.toSeconds(e))}catch(i){this._scalar.gain.linearRampToValueAtTime(t,this.toSeconds(e))}},t.Signal.prototype.exponentialRampToValueNow=function(t,e){var i=this.now();this.setCurrentValueNow(i),"+"===e.toString().charAt(0)&&(e=e.substr(1)),this.exponentialRampToValueAtTime(t,i+this.toSeconds(e))},t.Signal.prototype.linearRampToValueNow=function(t,e){var i=this.now();this.setCurrentValueNow(i),t*=this._syncRatio,"+"===e.toString().charAt(0)&&(e=e.substr(1)),this._scalar.gain.linearRampToValueAtTime(t,i+this.toSeconds(e))},t.Signal.prototype.setTargetAtTime=function(t,e,i){t*=this._syncRatio,this._scalar.gain.setTargetAtTime(t,this.toSeconds(e),i)},t.Signal.prototype.setValueCurveAtTime=function(t,e,i){for(var o=0;o<t.length;o++)t[o]*=this._syncRatio;this._scalar.gain.setValueCurveAtTime(t,this.toSeconds(e),this.toSeconds(i))},t.Signal.prototype.cancelScheduledValues=function(t){this._scalar.gain.cancelScheduledValues(this.toSeconds(t))},t.Signal.prototype.sync=function(t,e){e?this._syncRatio=e:0!==t.getValue()?this._syncRatio=this.getValue()/t.getValue():this._syncRatio=0,this._scalar.disconnect(),this._scalar=this.context.createGain(),this.connectSeries(t,this._scalar,this.output),this._scalar.gain.value=this._syncRatio},t.Signal.prototype.unsync=function(){var e=this.getValue();this._scalar.disconnect(),this._scalar=this.context.createGain(),this._scalar.gain.value=e/this._syncRatio,this._syncRatio=1,t.Signal._constant.chain(this._scalar,this.output)},t.Signal.prototype.dispose=function(){t.prototype.dispose.call(this),this._scalar.disconnect(),this._scalar=null},Object.defineProperty(t.Signal.prototype,"value",{get:function(){return this.getValue()},set:function(t){this.setValue(t)}}),t.Signal._generator=null,t.Signal._constant=null,t._initAudioContext(function(e){t.Signal._generator=e.createOscillator(),t.Signal._constant=new t.WaveShaper([1,1]),t.Signal._generator.connect(t.Signal._constant),t.Signal._generator.start(0),t.Signal._generator.noGC()}),t.Signal}(u);var l;l=function(t){"use strict";return t.Add=function(e){t.call(this,2,0),this._sum=this.input[0]=this.input[1]=this.output=this.context.createGain(),this._value=null,isFinite(e)&&(this._value=new t.Signal(e),this._value.connect(this._sum))},t.extend(t.Add,t.SignalBase),t.Add.prototype.setValue=function(t){if(null===this._value)throw new Error("cannot switch from signal to number");this._value.setValue(t)},t.Add.prototype.dispose=function(){t.prototype.dispose.call(this),this._sum=null,this._value&&(this._value.dispose(),this._value=null)},t.Add}(u);var f;f=function(t){"use strict";return t.Multiply=function(e){t.call(this,2,0),this._mult=this.input[0]=this.output=this.context.createGain(),this._factor=this.input[1]=this.output.gain,this._factor.value=this.defaultArg(e,0)},t.extend(t.Multiply,t.SignalBase),t.Multiply.prototype.setValue=function(t){this._factor.value=t},t.Multiply.prototype.dispose=function(){t.prototype.dispose.call(this),this._mult=null,this._factor=null},t.Multiply}(u);var d;d=function(t){"use strict";return t.Scale=function(e,i){this._outputMin=this.defaultArg(e,0),this._outputMax=this.defaultArg(i,1),this._scale=this.input=new t.Multiply(1),this._add=this.output=new t.Add(0),this._scale.connect(this._add),this._setRange()},t.extend(t.Scale,t.SignalBase),t.Scale.prototype.setMin=function(t){this._outputMin=t,this._setRange()},t.Scale.prototype.setMax=function(t){this._outputMax=t,this._setRange()},t.Scale.prototype._setRange=function(){this._add.setValue(this._outputMin),this._scale.setValue(this._outputMax-this._outputMin)},t.Scale.prototype.dispose=function(){t.prototype.dispose.call(this),this._add.dispose(),this._add=null,this._scale.dispose(),this._scale=null},t.Scale}(u,l,f);var y;y=function(){"use strict";var e=p,o=l,n=f,s=d,r=u,a=i;r.setContext(a.audiocontext),t.Signal=function(t){var i=new e(t);return i},e.prototype.fade=e.prototype.linearRampToValueAtTime,n.prototype.fade=e.prototype.fade,o.prototype.fade=e.prototype.fade,s.prototype.fade=e.prototype.fade,e.prototype.setInput=function(t){t.connect(this)},n.prototype.setInput=e.prototype.setInput,o.prototype.setInput=e.prototype.setInput,s.prototype.setInput=e.prototype.setInput,e.prototype.add=function(t){var e=new o(t);return this.connect(e),e},n.prototype.add=e.prototype.add,o.prototype.add=e.prototype.add,s.prototype.add=e.prototype.add,e.prototype.mult=function(t){var e=new n(t);return this.connect(e),e},n.prototype.mult=e.prototype.mult,o.prototype.mult=e.prototype.mult,s.prototype.mult=e.prototype.mult,e.prototype.scale=function(e,i,o,n){var r,a;4===arguments.length?(r=t.prototype.map(o,e,i,0,1)-.5,a=t.prototype.map(n,e,i,0,1)-.5):(r=arguments[0],a=arguments[1]);var u=new s(r,a);return this.connect(u),u},n.prototype.scale=e.prototype.scale,o.prototype.scale=e.prototype.scale,s.prototype.scale=e.prototype.scale}(p,l,f,d,u,i);var m;m=function(){"use strict";var e=i,o=l,n=f,s=d;t.Oscillator=function(i,o){if("string"==typeof i){var n=o;o=i,i=n}if("number"==typeof o){var n=o;o=i,i=n}this.started=!1,this.oscillator=e.audiocontext.createOscillator(),this.f=i||440,this.oscillator.frequency.setValueAtTime(this.f,e.audiocontext.currentTime),this.oscillator.type=o||"sine";this.oscillator;this.input=e.audiocontext.createGain(),this.output=e.audiocontext.createGain(),this._freqMods=[],this.output.gain.value=.5,this.output.gain.setValueAtTime(.5,e.audiocontext.currentTime),this.oscillator.connect(this.output),this.panPosition=0,this.connection=e.input,this.panner=new t.Panner(this.output,this.connection,1),this.mathOps=[this.output],e.soundArray.push(this)},t.Oscillator.prototype.start=function(t,i){if(this.started){var o=e.audiocontext.currentTime;this.stop(o)}if(!this.started){var n=i||this.f,s=this.oscillator.type;this.oscillator=e.audiocontext.createOscillator(),this.oscillator.frequency.exponentialRampToValueAtTime(Math.abs(n),e.audiocontext.currentTime),this.oscillator.type=s,this.oscillator.connect(this.output),t=t||0,this.oscillator.start(t+e.audiocontext.currentTime),this.freqNode=this.oscillator.frequency;for(var r in this._freqMods)"undefined"!=typeof this._freqMods[r].connect&&this._freqMods[r].connect(this.oscillator.frequency);this.started=!0}},t.Oscillator.prototype.stop=function(t){if(this.started){var i=t||0,o=e.audiocontext.currentTime;this.oscillator.stop(i+o),this.started=!1}},t.Oscillator.prototype.amp=function(t,i,o){var n=this;if("number"==typeof t){var i=i||0,o=o||0,s=e.audiocontext.currentTime,r=this.output.gain.value;this.output.gain.cancelScheduledValues(s),this.output.gain.linearRampToValueAtTime(r,s+o),this.output.gain.linearRampToValueAtTime(t,s+o+i)}else{if(!t)return this.output.gain;void 0,t.connect(n.output.gain)}},t.Oscillator.prototype.fade=t.Oscillator.prototype.amp,t.Oscillator.prototype.getAmp=function(){return this.output.gain.value},t.Oscillator.prototype.freq=function(t,i,o){if("number"!=typeof t||isNaN(t)){if(!t)return this.oscillator.frequency;t.output&&(t=t.output),t.connect(this.oscillator.frequency),this._freqMods.push(t)}else{this.f=t;var n=e.audiocontext.currentTime,i=i||0,o=o||0,s=this.oscillator.frequency.value;this.oscillator.frequency.cancelScheduledValues(n),this.oscillator.frequency.setValueAtTime(s,n+o),t>0?this.oscillator.frequency.exponentialRampToValueAtTime(t,o+i+n):this.oscillator.frequency.linearRampToValueAtTime(t,o+i+n)}},t.Oscillator.prototype.getFreq=function(){return this.oscillator.frequency.value},t.Oscillator.prototype.setType=function(t){this.oscillator.type=t},t.Oscillator.prototype.getType=function(){return this.oscillator.type},t.Oscillator.prototype.connect=function(t){t?t.hasOwnProperty("input")?(this.panner.connect(t.input),this.connection=t.input):(this.panner.connect(t),this.connection=t):this.panner.connect(e.input)},t.Oscillator.prototype.disconnect=function(t){this.output.disconnect(),this.panner.disconnect(),this.output.connect(this.panner),this.oscMods=[]},t.Oscillator.prototype.pan=function(t,e){this.panPosition=t,this.panner.pan(t,e)},t.Oscillator.prototype.getPan=function(){return this.panPosition},t.Oscillator.prototype.dispose=function(){if(this.oscillator){var t=e.audiocontext.currentTime;this.stop(t),this.disconnect(),this.oscillator.disconnect(),this.panner=null,this.oscillator=null}this.osc2&&this.osc2.dispose()},t.Oscillator.prototype.phase=function(i){this.dNode||(this.dNode=e.audiocontext.createDelay(),this.output.disconnect(),this.output.connect(this.dNode),this.dNode.connect(this.panner));var o=e.audiocontext.currentTime;this.dNode.delayTime.linearRampToValueAtTime(t.prototype.map(i,0,1,0,1/this.oscillator.frequency.value),o)};var r=function(t,e,i,o,n){var s=t.oscillator;for(var r in t.mathOps)t.mathOps[r]instanceof n&&(s.disconnect(),t.mathOps[r].dispose(),i=r,i<t.mathOps.length-2&&(o=t.mathOps[r+1]));return i==t.mathOps.length-1&&t.mathOps.push(o),r>0&&(s=t.mathOps[r-1]),s.disconnect(),s.connect(e),e.connect(o),t.mathOps[i]=e,t};t.Oscillator.prototype.add=function(t){var e=new o(t),i=this.mathOps.length-1,n=this.output;return r(this,e,i,n,o)},t.Oscillator.prototype.mult=function(t){var e=new n(t),i=this.mathOps.length-1,o=this.output;return r(this,e,i,o,n)},t.Oscillator.prototype.scale=function(e,i,o,n){var a,u;4===arguments.length?(a=t.prototype.map(o,e,i,0,1)-.5,u=t.prototype.map(n,e,i,0,1)-.5):(a=arguments[0],u=arguments[1]);var c=new s(a,u),h=this.mathOps.length-1,p=this.output;return r(this,c,h,p,s)},t.SinOsc=function(e){t.Oscillator.call(this,e,"sine")},t.SinOsc.prototype=Object.create(t.Oscillator.prototype),t.TriOsc=function(e){t.Oscillator.call(this,e,"triangle")},t.TriOsc.prototype=Object.create(t.Oscillator.prototype),t.SawOsc=function(e){t.Oscillator.call(this,e,"sawtooth")},t.SawOsc.prototype=Object.create(t.Oscillator.prototype),t.SqrOsc=function(e){t.Oscillator.call(this,e,"square")},t.SqrOsc.prototype=Object.create(t.Oscillator.prototype)}(i,p,l,f,d);var v;v=function(){"use strict";var e=i,o=l,n=f,s=d,r=u;r.setContext(e.audiocontext);var a=null,c=!1;t.Env=function(i,o,n,s,r,a,u,c){this.aTime=i,this.aLevel=o,this.dTime=n||0,this.dLevel=s||0,this.sTime=r||0,this.sLevel=a||0,this.rTime=u||0,this.rLevel=c||0,this.output=e.audiocontext.createGain(),this.control=new t.Signal,this.control.connect(this.output),this.connection=null,this.mathOps=[this.control],e.soundArray.push(this)},t.Env.prototype.set=function(t,e,i,o,n,s,r,a){this.aTime=t,this.aLevel=e,this.dTime=i||0,this.dLevel=o||0,this.sTime=n||0,this.sLevel=s||0,this.rTime=r||0,this.rLevel=a||0},t.Env.prototype.setInput=function(t){for(var e=0;e<arguments.length;e++)this.connect(arguments[e])},t.Env.prototype.ctrl=function(t){this.connect(t)},t.Env.prototype.play=function(t,i){var o=e.audiocontext.currentTime,n=i||0,s=o+n;t&&this.connection!==t&&this.connect(t);var r=this.control.getValue();this.control.cancelScheduledValues(s),this.control.linearRampToValueAtTime(r,s),this.control.linearRampToValueAtTime(this.aLevel,s+this.aTime),this.control.linearRampToValueAtTime(this.dLevel,s+this.aTime+this.dTime),this.control.linearRampToValueAtTime(this.sLevel,s+this.aTime+this.dTime+this.sTime),this.control.linearRampToValueAtTime(this.rLevel,s+this.aTime+this.dTime+this.sTime+this.rTime);s+this.aTime+this.dTime+this.sTime+this.rTime},t.Env.prototype.triggerAttack=function(t,i){var o=e.audiocontext.currentTime,n=i||0,s=o+n;this.lastAttack=s,c=!0;var r=this.control.getValue();void 0,this.control.cancelScheduledValues(s),this.control.linearRampToValueAtTime(r,s),t&&this.connection!==t&&this.connect(t),this.control.linearRampToValueAtTime(this.aLevel,s+this.aTime),this.control.linearRampToValueAtTime(this.aLevel,s+this.aTime),this.control.linearRampToValueAtTime(this.dLevel,s+this.aTime+this.dTime),this.control.linearRampToValueAtTime(this.sLevel,s+this.aTime+this.dTime+this.sTime)},t.Env.prototype.triggerRelease=function(t,i){if(c){var o,n=e.audiocontext.currentTime,s=i||0,r=n+s;if(t&&this.connection!==t&&this.connect(t),this.control.cancelScheduledValues(r),n-this.lastAttack<this.aTime){var u=this.aTime-(r-this.lastAttack);this.control.linearRampToValueAtTime(this.aLevel,r+u),this.control.linearRampToValueAtTime(this.dLevel,r+u+this.dTime),this.control.linearRampToValueAtTime(this.sLevel,r+u+this.dTime+this.sTime),this.control.linearRampToValueAtTime(this.rLevel,r+u+this.dTime+this.sTime+this.rTime),o=r+this.dTime+this.sTime+this.rTime}else if(n-this.lastAttack<this.aTime+this.dTime){var h=this.aTime+this.dTime-(n-this.lastAttack);this.control.linearRampToValueAtTime(this.dLevel,r+h),this.control.linearRampToValueAtTime(this.sLevel,r+h+.01),this.control.linearRampToValueAtTime(this.rLevel,r+h+.01+this.rTime),o=r+this.sTime+this.rTime}else if(n-this.lastAttack<this.aTime+this.dTime+this.sTime){var p=this.aTime+this.dTime+this.sTime-(n-this.lastAttack);this.control.linearRampToValueAtTime(this.sLevel,r+p),this.control.linearRampToValueAtTime(this.rLevel,r+p+this.rTime),o=r+this.rTime}else this.control.linearRampToValueAtTime(this.sLevel,r),this.control.linearRampToValueAtTime(this.rLevel,r+this.rTime),o=r+this.dTime+this.sTime+this.rTime;var l=r+this.aTime+this.dTime+this.sTime+this.rTime;this.connection&&this.connection.hasOwnProperty("oscillator")?(a=this.connection.oscillator,a.stop(l+.01)):this.connect&&this.connection.hasOwnProperty("source")&&(a=this.connection.source,a.stop(l+.01)),c=!1}},t.Env.prototype.connect=function(i){this.connection=i,(i instanceof t.Oscillator||i instanceof t.SoundFile||i instanceof t.AudioIn||i instanceof t.Reverb||i instanceof t.Noise||i instanceof t.Filter||i instanceof t.Delay)&&(i=i.output.gain),i instanceof AudioParam&&i.setValueAtTime(0,e.audiocontext.currentTime),i instanceof t.Signal&&i.setValue(0),this.output.connect(i)},t.Env.prototype.disconnect=function(t){this.output.disconnect()},t.Env.prototype.add=function(e){var i=new o(e),n=this.mathOps.length,s=this.output;return t.prototype._mathChain(this,i,n,s,o)},t.Env.prototype.mult=function(e){var i=new n(e),o=this.mathOps.length,s=this.output;return t.prototype._mathChain(this,i,o,s,n)},t.Env.prototype.scale=function(e,i,o,n){var r=new s(e,i,o,n),a=this.mathOps.length,u=this.output;return t.prototype._mathChain(this,r,a,u,s)},t.Env.prototype.dispose=function(){e.audiocontext.currentTime;this.disconnect();try{this.control.dispose(),this.control=null}catch(t){}for(var i=1;i<this.mathOps.length;i++)mathOps[i].dispose()}}(i,l,f,d,u);var g;g=function(){"use strict";function e(){for(var t=o.audiocontext,e=t.createBuffer(1,2048,t.sampleRate),i=e.getChannelData(0),n=0;2048>n;n++)i[n]=1;var s=t.createBufferSource();return s.buffer=e,s.loop=!0,s}var o=i;t.Pulse=function(i,n){t.Oscillator.call(this,i,"sawtooth"),this.w=n||0,this.osc2=new t.SawOsc(i),this.dNode=o.audiocontext.createDelay(),this.dcOffset=e(),this.dcGain=o.audiocontext.createGain(),this.dcOffset.connect(this.dcGain),this.dcGain.connect(this.output),this.f=i||440;var s=this.w/this.oscillator.frequency.value;this.dNode.delayTime.value=s,this.dcGain.gain.value=1.7*(.5-this.w),this.osc2.disconnect(),this.osc2.output.gain.minValue=-10,this.osc2.output.gain.maxValue=10,this.osc2.panner.disconnect(),this.osc2.amp(-1),this.osc2.output.connect(this.dNode),this.dNode.connect(this.output),this.output.gain.value=1,this.output.connect(this.panner)},t.Pulse.prototype=Object.create(t.Oscillator.prototype),t.Pulse.prototype.width=function(e){if("number"==typeof e){if(1>=e&&e>=0){this.w=e;var i=this.w/this.oscillator.frequency.value;this.dNode.delayTime.value=i}this.dcGain.gain.value=1.7*(.5-this.w)}else{e.connect(this.dNode.delayTime);var o=new t.SignalAdd(-.5);o.setInput(e),o=o.mult(-1),o=o.mult(1.7),o.connect(this.dcGain.gain)}},t.Pulse.prototype.start=function(t,i){var n=o.audiocontext.currentTime,s=i||0;if(!this.started){var r=t||this.f,a=this.oscillator.type;this.oscillator=o.audiocontext.createOscillator(),this.oscillator.frequency.setValueAtTime(r,n),this.oscillator.type=a,this.oscillator.connect(this.output),this.oscillator.start(s+n),this.osc2.oscillator=o.audiocontext.createOscillator(),this.osc2.oscillator.frequency.setValueAtTime(r,s+n),this.osc2.oscillator.type=a,this.osc2.oscillator.connect(this.osc2.output),this.osc2.start(s+n),this.freqNode=[this.oscillator.frequency,this.osc2.oscillator.frequency],this.dcOffset=e(),this.dcOffset.connect(this.dcGain),this.dcOffset.start(s+n),void 0!==this.mods&&void 0!==this.mods.frequency&&(this.mods.frequency.connect(this.freqNode[0]),this.mods.frequency.connect(this.freqNode[1])),this.started=!0,this.osc2.started=!0}},t.Pulse.prototype.stop=function(t){if(this.started){var e=t||0,i=o.audiocontext.currentTime;this.oscillator.stop(e+i),this.osc2.oscillator.stop(e+i),this.dcOffset.stop(e+i),this.started=!1,this.osc2.started=!1}},t.Pulse.prototype.freq=function(t,e,i){if("number"==typeof t){this.f=t;var n=o.audiocontext.currentTime,e=e||0,i=i||0,s=this.oscillator.frequency.value;this.oscillator.frequency.cancelScheduledValues(n),this.oscillator.frequency.setValueAtTime(s,n+i),this.oscillator.frequency.exponentialRampToValueAtTime(t,i+e+n),this.osc2.oscillator.frequency.cancelScheduledValues(n),this.osc2.oscillator.frequency.setValueAtTime(s,n+i),this.osc2.oscillator.frequency.exponentialRampToValueAtTime(t,i+e+n),this.freqMod&&(this.freqMod.output.disconnect(),this.freqMod=null)}else t.output&&(t.output.disconnect(),t.output.connect(this.oscillator.frequency),t.output.connect(this.osc2.oscillator.frequency),this.freqMod=t)}}(i,m);var T;T=function(){"use strict";var e=i;t.Noise=function(e){t.Oscillator.call(this),delete this.f,delete this.freq,delete this.oscillator,this.buffer=o},t.Noise.prototype=Object.create(t.Oscillator.prototype);var o=function(){for(var t=2*e.audiocontext.sampleRate,i=e.audiocontext.createBuffer(1,t,e.audiocontext.sampleRate),o=i.getChannelData(0),n=0;t>n;n++)o[n]=2*Math.random()-1;return i.type="white",i}(),n=function(){var t,i,o,n,s,r,a,u=2*e.audiocontext.sampleRate,c=e.audiocontext.createBuffer(1,u,e.audiocontext.sampleRate),h=c.getChannelData(0);t=i=o=n=s=r=a=0;for(var p=0;u>p;p++){var l=2*Math.random()-1;t=.99886*t+.0555179*l,i=.99332*i+.0750759*l,o=.969*o+.153852*l,n=.8665*n+.3104856*l,s=.55*s+.5329522*l,r=-.7616*r-.016898*l,h[p]=t+i+o+n+s+r+a+.5362*l,h[p]*=.11,a=.115926*l}return c.type="pink",c}(),s=function(){for(var t=2*e.audiocontext.sampleRate,i=e.audiocontext.createBuffer(1,t,e.audiocontext.sampleRate),o=i.getChannelData(0),n=0,s=0;t>s;s++){var r=2*Math.random()-1;o[s]=(n+.02*r)/1.02,n=o[s],o[s]*=3.5}return i.type="brown",i}();t.Noise.prototype.setType=function(t){switch(t){case"white":this.buffer=o;break;case"pink":this.buffer=n;break;case"brown":this.buffer=s;break;default:this.buffer=o}if(this.started){var i=e.audiocontext.currentTime;this.stop(i),this.start(i+.01)}},t.Noise.prototype.getType=function(){return this.buffer.type},t.Noise.prototype.start=function(){this.started&&this.stop(),this.noise=e.audiocontext.createBufferSource(),this.noise.buffer=this.buffer,this.noise.loop=!0,this.noise.connect(this.output);var t=e.audiocontext.currentTime;this.noise.start(t),this.started=!0},t.Noise.prototype.stop=function(){var t=e.audiocontext.currentTime;this.noise&&(this.noise.stop(t),this.started=!1)},t.Noise.prototype.dispose=function(){var t=e.audiocontext.currentTime;this.noise&&(this.noise.disconnect(),this.stop(t)),this.output&&this.output.disconnect(),this.panner&&this.panner.disconnect(),this.output=null,this.panner=null,this.buffer=null,this.noise=null}}(i);var S;S=function(){"use strict";var e=i;t.AudioIn=function(){this.input=e.audiocontext.createGain(),this.output=e.audiocontext.createGain(),this.stream=null,this.mediaStream=null,this.currentSource=0,this.enabled=!1,this.amplitude=new t.Amplitude,this.output.connect(this.amplitude.input),"undefined"==typeof window.MediaStreamTrack?void 0:"undefined"!=typeof window.MediaStreamTrack.getSources&&window.MediaStreamTrack.getSources(this._gotSources),e.soundArray.push(this)},t.AudioIn.prototype.start=function(){var t=this;if(e.inputSources[t.currentSource]){var i=e.inputSources[t.currentSource].id,o={audio:{optional:[{sourceId:i}]}};navigator.getUserMedia(o,this._onStream=function(i){t.stream=i,t.enabled=!0,t.mediaStream=e.audiocontext.createMediaStreamSource(i),t.mediaStream.connect(t.output),t.amplitude.setInput(t.output)},this._onStreamError=function(t){void 0})}else window.navigator.getUserMedia({audio:!0},this._onStream=function(i){t.stream=i,t.enabled=!0,t.mediaStream=e.audiocontext.createMediaStreamSource(i),t.mediaStream.connect(t.output),t.amplitude.setInput(t.output)},this._onStreamError=function(t){void 0})},t.AudioIn.prototype.stop=function(){this.stream&&this.stream.stop()},t.AudioIn.prototype.connect=function(t){t?t.hasOwnProperty("input")?this.output.connect(t.input):t.hasOwnProperty("analyser")?this.output.connect(t.analyser):this.output.connect(t):this.output.connect(e.input)},t.AudioIn.prototype.disconnect=function(t){this.output.disconnect(t),this.output.connect(this.amplitude.input)},t.AudioIn.prototype.getLevel=function(t){return t&&(this.amplitude.smoothing=t),this.amplitude.getLevel()},t.AudioIn.prototype._gotSources=function(t){for(var i=0;i!==t.length;i++){var o=t[i];"audio"===o.kind&&e.inputSources.push(o)}},t.AudioIn.prototype.amp=function(t,i){if(i){var o=i||0,n=this.output.gain.value;this.output.gain.cancelScheduledValues(e.audiocontext.currentTime),this.output.gain.setValueAtTime(n,e.audiocontext.currentTime),this.output.gain.linearRampToValueAtTime(t,o+e.audiocontext.currentTime)}else this.output.gain.cancelScheduledValues(e.audiocontext.currentTime),this.output.gain.setValueAtTime(t,e.audiocontext.currentTime)},t.AudioIn.prototype.listSources=function(){return void 0,void 0,e.inputSources.length>0?e.inputSources:"This browser does not support MediaStreamTrack.getSources()"},t.AudioIn.prototype.setSource=function(t){var i=this;e.inputSources.length>0&&t<e.inputSources.length?(i.currentSource=t,void 0):void 0},t.AudioIn.prototype.dispose=function(){this.stop(),this.output&&this.output.disconnect(),this.amplitude&&this.amplitude.disconnect(),this.amplitude=null,this.output=null}}(i);var _;_=function(){"use strict";var e=i;t.Filter=function(t){this.ac=e.audiocontext,this.input=this.ac.createGain(),this.output=this.ac.createGain(),this.biquad=this.ac.createBiquadFilter(),this.input.connect(this.biquad),this.biquad.connect(this.output),this.connect(),t&&this.setType(t)},t.Filter.prototype.process=function(t,e,i){t.connect(this.input),this.set(e,i)},t.Filter.prototype.set=function(t,e,i){t&&this.freq(t,i),e&&this.res(e,i)},t.Filter.prototype.freq=function(t,e){var i=this,o=e||0;return 0>=t&&(t=1),"number"==typeof t?(i.biquad.frequency.value=t,i.biquad.frequency.cancelScheduledValues(this.ac.currentTime+.01+o),i.biquad.frequency.exponentialRampToValueAtTime(t,this.ac.currentTime+.02+o)):t&&t.connect(this.biquad.frequency),i.biquad.frequency.value},t.Filter.prototype.res=function(t,e){var i=this,o=e||0;return"number"==typeof t?(i.biquad.Q.value=t,i.biquad.Q.cancelScheduledValues(i.ac.currentTime+.01+o),i.biquad.Q.linearRampToValueAtTime(t,i.ac.currentTime+.02+o)):t&&freq.connect(this.biquad.Q),i.biquad.Q.value},t.Filter.prototype.setType=function(t){this.biquad.type=t},t.Filter.prototype.amp=function(t,i,o){var i=i||0,o=o||0,n=e.audiocontext.currentTime,s=this.output.gain.value;this.output.gain.cancelScheduledValues(n),this.output.gain.linearRampToValueAtTime(s,n+o+.001),this.output.gain.linearRampToValueAtTime(t,n+o+i+.001)},t.Filter.prototype.connect=function(e){var i=e||t.soundOut.input;this.output.connect(i)},t.Filter.prototype.disconnect=function(){this.output.disconnect()},t.LowPass=function(){t.Filter.call(this,"lowpass")},t.LowPass.prototype=Object.create(t.Filter.prototype),t.HighPass=function(){t.Filter.call(this,"highpass")},t.HighPass.prototype=Object.create(t.Filter.prototype),t.BandPass=function(){t.Filter.call(this,"bandpass")},t.BandPass.prototype=Object.create(t.Filter.prototype)}(i);var b;b=function(){"use strict";var e=i;t.Delay=function(){this.ac=e.audiocontext,this.input=this.ac.createGain(),this.output=this.ac.createGain(),this._split=this.ac.createChannelSplitter(2),this._merge=this.ac.createChannelMerger(2),this._leftGain=this.ac.createGain(),this._rightGain=this.ac.createGain(),this.leftDelay=this.ac.createDelay(),this.rightDelay=this.ac.createDelay(),this._leftFilter=new t.Filter,this._rightFilter=new t.Filter,this._leftFilter.disconnect(),this._rightFilter.disconnect(),this.lowPass=this._leftFilter,this._leftFilter.biquad.frequency.setValueAtTime(1200,this.ac.currentTime),this._rightFilter.biquad.frequency.setValueAtTime(1200,this.ac.currentTime),this._leftFilter.biquad.Q.setValueAtTime(.3,this.ac.currentTime),this._rightFilter.biquad.Q.setValueAtTime(.3,this.ac.currentTime),this.input.connect(this._split),this.leftDelay.connect(this._leftGain),this.rightDelay.connect(this._rightGain),this._leftGain.connect(this._leftFilter.input),this._rightGain.connect(this._rightFilter.input),this._merge.connect(this.output),this.output.connect(t.soundOut.input),this._leftFilter.biquad.gain.setValueAtTime(1,this.ac.currentTime),this._rightFilter.biquad.gain.setValueAtTime(1,this.ac.currentTime),this.setType(0),this._maxDelay=this.leftDelay.delayTime.maxValue},t.Delay.prototype.process=function(t,e,i,o){var n=i||0,s=e||0;if(n>=1)throw new Error("Feedback value will force a positive feedback loop.");if(s>=this._maxDelay)throw new Error("Delay Time exceeds maximum delay time of "+this._maxDelay+" second.");t.connect(this.input),this.leftDelay.delayTime.setValueAtTime(s,this.ac.currentTime),this.rightDelay.delayTime.setValueAtTime(s,this.ac.currentTime),this._leftGain.gain.setValueAtTime(n,this.ac.currentTime),this._rightGain.gain.setValueAtTime(n,this.ac.currentTime),o&&(this._leftFilter.freq(o),this._rightFilter.freq(o))},t.Delay.prototype.delayTime=function(t){"number"!=typeof t?(t.connect(this.leftDelay.delayTime),t.connect(this.rightDelay.delayTime)):(this.leftDelay.delayTime.cancelScheduledValues(this.ac.currentTime),this.rightDelay.delayTime.cancelScheduledValues(this.ac.currentTime),this.leftDelay.delayTime.linearRampToValueAtTime(t,this.ac.currentTime),this.rightDelay.delayTime.linearRampToValueAtTime(t,this.ac.currentTime))},t.Delay.prototype.feedback=function(t){if("number"!=typeof t)t.connect(this._leftGain.gain),t.connect(this._rightGain.gain);else{if(t>=1)throw new Error("Feedback value will force a positive feedback loop.");this._leftGain.gain.exponentialRampToValueAtTime(t,this.ac.currentTime),this._rightGain.gain.exponentialRampToValueAtTime(t,this.ac.currentTime)}},t.Delay.prototype.filter=function(t,e){this._leftFilter.set(t,e),this._rightFilter.set(t,e)},t.Delay.prototype.setType=function(t){switch(1===t&&(t="pingPong"),this._split.disconnect(),this._leftFilter.disconnect(),this._rightFilter.disconnect(),this._split.connect(this.leftDelay,0),this._split.connect(this.rightDelay,1),t){case"pingPong":this._rightFilter.setType(this._leftFilter.biquad.type),this._leftFilter.output.connect(this._merge,0,0),this._rightFilter.output.connect(this._merge,0,1),this._leftFilter.output.connect(this.rightDelay),this._rightFilter.output.connect(this.leftDelay);break;default:this._leftFilter.output.connect(this._merge,0,0),this._leftFilter.output.connect(this._merge,0,1),this._leftFilter.output.connect(this.leftDelay),this._leftFilter.output.connect(this.rightDelay)}},t.Delay.prototype.amp=function(t,i,o){var i=i||0,o=o||0,n=e.audiocontext.currentTime,s=this.output.gain.value;this.output.gain.cancelScheduledValues(n),this.output.gain.linearRampToValueAtTime(s,n+o+.001),this.output.gain.linearRampToValueAtTime(t,n+o+i+.001)},t.Delay.prototype.connect=function(e){var i=e||t.soundOut.input;this.output.connect(i)},t.Delay.prototype.disconnect=function(){this.output.disconnect()}}(i,_);var w;w=function(){"use strict";var e=i;t.Reverb=function(){this.ac=e.audiocontext,this.convolverNode=this.ac.createConvolver(),this.input=this.ac.createGain(),this.output=this.ac.createGain(),this.input.gain.value=.5,this.input.connect(this.convolverNode),this.convolverNode.connect(this.output),this._seconds=3,this._decay=2,this._reverse=!1,this._buildImpulse(),this.connect(),e.soundArray.push(this)},t.Reverb.prototype.process=function(t,e,i,o){t.connect(this.input);var n=!1;e&&(this._seconds=e,n=!0),i&&(this._decay=i),o&&(this._reverse=o),n&&this._buildImpulse()},t.Reverb.prototype.set=function(t,e,i){var o=!1;t&&(this._seconds=t,o=!0),e&&(this._decay=e),i&&(this._reverse=i),o&&this._buildImpulse()},t.Reverb.prototype.amp=function(t,i,o){var i=i||0,o=o||0,n=e.audiocontext.currentTime,s=this.output.gain.value;this.output.gain.cancelScheduledValues(n),this.output.gain.linearRampToValueAtTime(s,n+o+.001),this.output.gain.linearRampToValueAtTime(t,n+o+i+.001)},t.Reverb.prototype.connect=function(e){var i=e||t.soundOut.input;this.output.connect(i.input?i.input:i)},t.Reverb.prototype.disconnect=function(){this.output.disconnect()},t.Reverb.prototype._buildImpulse=function(){var t,e,i=this.ac.sampleRate,o=i*this._seconds,n=this._decay,s=this.ac.createBuffer(2,o,i),r=s.getChannelData(0),a=s.getChannelData(1);for(e=0;o>e;e++)t=this.reverse?o-e:e,r[e]=(2*Math.random()-1)*Math.pow(1-t/o,n),a[e]=(2*Math.random()-1)*Math.pow(1-t/o,n);this.convolverNode.buffer=s},t.Reverb.prototype.dispose=function(){this.convolverNode&&(this.convolverNode.buffer=null,this.convolverNode=null),"undefined"!=typeof this.output&&(this.output.disconnect(),this.output=null),"undefined"!=typeof this.panner&&(this.panner.disconnect(),this.panner=null)},t.Convolver=function(t,i){this.ac=e.audiocontext,this.convolverNode=this.ac.createConvolver(),this.input=this.ac.createGain(),this.output=this.ac.createGain(),this.input.gain.value=.5,this.input.connect(this.convolverNode),this.convolverNode.connect(this.output),t?(this.impulses=[],this._loadBuffer(t,i)):(this._seconds=3,this._decay=2,this._reverse=!1,this._buildImpulse()),this.connect(),e.soundArray.push(this)},t.Convolver.prototype=Object.create(t.Reverb.prototype),t.prototype.registerPreloadMethod("createConvolver"),t.prototype.createConvolver=function(e,i){window.location.origin.indexOf("file://")>-1&&"undefined"===window.cordova&&void 0;
var o=new t.Convolver(e,i);return o.impulses=[],o},t.Convolver.prototype._loadBuffer=function(e,i){e=t.prototype._checkFileFormats(e);var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="arraybuffer";var n=this;o.onload=function(){var s=t.prototype.getAudioContext();s.decodeAudioData(o.response,function(t){var o={},s=e.split("/");o.name=s[s.length-1],o.audioBuffer=t,n.impulses.push(o),n.convolverNode.buffer=o.audioBuffer,i&&i(o)})},o.send()},t.Convolver.prototype.set=null,t.Convolver.prototype.process=function(t){t.connect(this.input)},t.Convolver.prototype.impulses=[],t.Convolver.prototype.addImpulse=function(t,e){window.location.origin.indexOf("file://")>-1&&"undefined"===window.cordova&&void 0,this._loadBuffer(t,e)},t.Convolver.prototype.resetImpulse=function(t,e){window.location.origin.indexOf("file://")>-1&&"undefined"===window.cordova&&void 0,this.impulses=[],this._loadBuffer(t,e)},t.Convolver.prototype.toggleImpulse=function(t){if("number"==typeof t&&t<this.impulses.length&&(this.convolverNode.buffer=this.impulses[t].audioBuffer),"string"==typeof t)for(var e=0;e<this.impulses.length;e++)if(this.impulses[e].name===t){this.convolverNode.buffer=this.impulses[e].audioBuffer;break}},t.Convolver.prototype.dispose=function(){for(var t in this.impulses)this.impulses[t]=null;this.convolverNode.disconnect(),this.concolverNode=null,"undefined"!=typeof this.output&&(this.output.disconnect(),this.output=null),"undefined"!=typeof this.panner&&(this.panner.disconnect(),this.panner=null)}}(i,e);var A;A=function(t){"use strict";return t.Clock=function(e,i){this._oscillator=null,this._jsNode=this.context.createScriptProcessor(this.bufferSize,1,1),this._jsNode.onaudioprocess=this._processBuffer.bind(this),this._controlSignal=new t.Signal(1),this._upTick=!1,this.tick=this.defaultArg(i,function(){}),this._jsNode.noGC(),this.setRate(e)},t.extend(t.Clock),t.Clock.prototype.setRate=function(t,e){var i=this.secondsToFrequency(this.toSeconds(t));e?this._controlSignal.exponentialRampToValueNow(i,e):(this._controlSignal.cancelScheduledValues(0),this._controlSignal.setValue(i))},t.Clock.prototype.getRate=function(){return this._controlSignal.getValue()},t.Clock.prototype.start=function(t){this._oscillator=this.context.createOscillator(),this._oscillator.type="square",this._oscillator.connect(this._jsNode),this._controlSignal.connect(this._oscillator.frequency),this._upTick=!1;var e=this.toSeconds(t);this._oscillator.start(e),this._oscillator.onended=function(){}},t.Clock.prototype.stop=function(t,e){var i=this.toSeconds(t);this._oscillator.onended=e,this._oscillator.stop(i)},t.Clock.prototype._processBuffer=function(t){for(var e=this.defaultArg(t.playbackTime,this.now()),i=this._jsNode.bufferSize,o=t.inputBuffer.getChannelData(0),n=this._upTick,s=this,r=0;i>r;r++){var a=o[r];a>0&&!n?(n=!0,setTimeout(function(){var t=e+s.samplesToSeconds(r+2*i);return function(){s.tick(t)}}(),0)):0>a&&n&&(n=!1)}this._upTick=n},t.Clock.prototype.dispose=function(){this._jsNode.disconnect(),this._controlSignal.dispose(),this._oscillator&&(this._oscillator.onended(),this._oscillator.disconnect()),this._jsNode.onaudioprocess=function(){},this._jsNode=null,this._controlSignal=null,this._oscillator=null},t.Clock}(u);var x;x=function(){"use strict";var e=i,o=A,n=e.audiocontext;t.Metro=function(){this.clock=new o(n.sampleRate,this.ontick.bind(this)),this.syncedParts=[],this.bpm=120,this._init(),this.tickCallback=function(){}};var s=0,r=0;t.Metro.prototype.ontick=function(t){var i=t-s,o=t-e.audiocontext.currentTime;if(!(-.02>=i-r)){s=t;for(var n in this.syncedParts){var a=this.syncedParts[n];a.incrementStep(o);for(var u in a.phrases){var c=a.phrases[u],h=c.sequence,p=this.metroTicks%h.length;0!==h[p]&&(this.metroTicks<h.length||!c.looping)&&c.callback(o,h[p])}}this.metroTicks+=1,this.tickCallback(o)}},t.Metro.prototype.setBPM=function(t,i){var o=60/(t*this.tatums);r=o;this.clock.setRate(o,i+e.audiocontext.currentTime),this.bpm=t},t.Metro.prototype.getBPM=function(t){return this.clock.getRate()/this.tatums*60},t.Metro.prototype._init=function(){this.metroTicks=0},t.Metro.prototype.resetSync=function(t){this.syncedParts=[t]},t.Metro.prototype.pushSync=function(t){this.syncedParts.push(t)},t.Metro.prototype.start=function(t){var e=t||0;this.clock.start(e),this.setBPM(this.bpm)},t.Metro.prototype.stop=function(t){var e=t||0;this.clock._oscillator&&this.clock.stop(e)},t.Metro.prototype.beatLength=function(t){this.tatums=1/t/4}}(i,A);var N;N=function(){"use strict";function e(t){t.currentPart++,t.currentPart>=t.parts.length?(t.scoreStep=0,t.onended()):(t.scoreStep=0,t.parts[t.currentPart-1].stop(),t.parts[t.currentPart].start())}var o=i,n=120;t.prototype.setBPM=function(t,e){n=t;for(var i in o.parts)o.parts[i].setBPM(n,e)},t.Phrase=function(t,e,i){this.phraseStep=0,this.name=t,this.callback=e,this.sequence=i},t.Part=function(e,i){this.length=e||0,this.partStep=0,this.phrases=[],this.looping=!1,this.isPlaying=!1,this.onended=function(){this.stop()},this.tatums=i||.0625,this.metro=new t.Metro,this.metro._init(),this.metro.beatLength(this.tatums),this.metro.setBPM(n),o.parts.push(this),this.callback=function(){}},t.Part.prototype.setBPM=function(t,e){this.metro.setBPM(t,e)},t.Part.prototype.getBPM=function(){return this.metro.getBPM()},t.Part.prototype.start=function(t){if(!this.isPlaying){this.isPlaying=!0,this.metro.resetSync(this);var e=t||0;this.metro.start(e)}},t.Part.prototype.loop=function(t){this.looping=!0,this.onended=function(){this.partStep=0};var e=t||0;this.start(e)},t.Part.prototype.noLoop=function(){this.looping=!1,this.onended=function(){this.stop()}},t.Part.prototype.stop=function(t){this.partStep=0,this.pause(t)},t.Part.prototype.pause=function(t){this.isPlaying=!1;var e=t||0;this.metro.stop(e)},t.Part.prototype.addPhrase=function(e,i,o){var n;if(3===arguments.length)n=new t.Phrase(e,i,o);else{if(!(arguments[0]instanceof t.Phrase))throw"invalid input. addPhrase accepts name, callback, array or a p5.Phrase";n=arguments[0]}this.phrases.push(n),n.sequence.length>this.length&&(this.length=n.sequence.length)},t.Part.prototype.removePhrase=function(t){for(var e in this.phrases)this.phrases[e].name===t&&this.phrases.split(e,1)},t.Part.prototype.getPhrase=function(t){for(var e in this.phrases)if(this.phrases[e].name===t)return this.phrases[e]},t.Part.prototype.replaceSequence=function(t,e){for(var i in this.phrases)this.phrases[i].name===t&&(this.phrases[i].sequence=e)},t.Part.prototype.incrementStep=function(t){this.partStep<this.length-1?(this.callback(t),this.partStep+=1):(this.looping&&this.callback(t),this.onended(),this.partStep=0)},t.Part.prototype.onStep=function(t){this.callback=t},t.Score=function(){this.parts=[],this.currentPart=0;var t=this;for(var i in arguments)this.parts[i]=arguments[i],this.parts[i].nextPart=this.parts[i+1],this.parts[i].onended=function(){t.resetPart(i),e(t)};this.looping=!1},t.Score.prototype.onended=function(){this.looping?this.parts[0].start():this.parts[this.parts.length-1].onended=function(){this.stop(),this.resetParts()},this.currentPart=0},t.Score.prototype.start=function(){this.parts[this.currentPart].start(),this.scoreStep=0},t.Score.prototype.stop=function(){this.parts[this.currentPart].stop(),this.currentPart=0,this.scoreStep=0},t.Score.prototype.pause=function(){this.parts[this.currentPart].stop()},t.Score.prototype.loop=function(){this.looping=!0,this.start()},t.Score.prototype.noLoop=function(){this.looping=!1},t.Score.prototype.resetParts=function(){for(var t in this.parts)this.resetPart(t)},t.Score.prototype.resetPart=function(t){this.parts[t].stop(),this.parts[t].partStep=0;for(var e in this.parts[t].phrases)this.parts[t].phrases[e].phraseStep=0},t.Score.prototype.setBPM=function(t,e){for(var i in this.parts)this.parts[i].setBPM(t,e)}}(i);var P;P=function(){"use strict";function e(t,e){for(var i=t.length+e.length,o=new Float32Array(i),n=0,s=0;i>s;)o[s++]=t[n],o[s++]=e[n],n++;return o}function o(t,e,i){for(var o=i.length,n=0;o>n;n++)t.setUint8(e+n,i.charCodeAt(n))}var n=i,s=n.audiocontext;t.SoundRecorder=function(){this.input=s.createGain(),this.output=s.createGain(),this.recording=!1,this.bufferSize=1024,this._channels=2,this._clear(),this._jsNode=s.createScriptProcessor(this.bufferSize,this._channels,2),this._jsNode.onaudioprocess=this._audioprocess.bind(this),this._callback=function(){},this._jsNode.connect(t.soundOut._silentNode),this.setInput(),n.soundArray.push(this)},t.SoundRecorder.prototype.setInput=function(e){this.input.disconnect(),this.input=null,this.input=s.createGain(),this.input.connect(this._jsNode),this.input.connect(this.output),e?e.connect(this.input):t.soundOut.output.connect(this.input)},t.SoundRecorder.prototype.record=function(t,e,i){this.recording=!0,e&&(this.sampleLimit=Math.round(e*s.sampleRate)),t&&i?this._callback=function(){this.buffer=this._getBuffer(),t.setBuffer(this.buffer),i()}:t&&(this._callback=function(){this.buffer=this._getBuffer(),t.setBuffer(this.buffer)})},t.SoundRecorder.prototype.stop=function(){this.recording=!1,this._callback(),this._clear()},t.SoundRecorder.prototype._clear=function(){this._leftBuffers=[],this._rightBuffers=[],this.recordedSamples=0,this.sampleLimit=null},t.SoundRecorder.prototype._audioprocess=function(t){if(this.recording!==!1&&this.recording===!0)if(this.sampleLimit&&this.recordedSamples>=this.sampleLimit)this.stop();else{var e=t.inputBuffer.getChannelData(0),i=t.inputBuffer.getChannelData(1);this._leftBuffers.push(new Float32Array(e)),this._rightBuffers.push(new Float32Array(i)),this.recordedSamples+=this.bufferSize}},t.SoundRecorder.prototype._getBuffer=function(){var t=[];return t.push(this._mergeBuffers(this._leftBuffers)),t.push(this._mergeBuffers(this._rightBuffers)),t},t.SoundRecorder.prototype._mergeBuffers=function(t){for(var e=new Float32Array(this.recordedSamples),i=0,o=t.length,n=0;o>n;n++){var s=t[n];e.set(s,i),i+=s.length}return e},t.SoundRecorder.prototype.dispose=function(){this._clear(),this._callback=function(){},this.input&&this.input.disconnect(),this.input=null,this._jsNode=null},t.prototype.saveSound=function(i,n){var s=i.buffer.getChannelData(0),r=i.buffer.getChannelData(1),a=e(s,r),u=new ArrayBuffer(44+2*a.length),c=new DataView(u);o(c,0,"RIFF"),c.setUint32(4,44+2*a.length,!0),o(c,8,"WAVE"),o(c,12,"fmt "),c.setUint32(16,16,!0),c.setUint16(20,1,!0),c.setUint16(22,2,!0),c.setUint32(24,44100,!0),c.setUint32(28,176400,!0),c.setUint16(32,4,!0),c.setUint16(34,16,!0),o(c,36,"data"),c.setUint32(40,2*a.length,!0);for(var h=a.length,p=44,l=1,f=0;h>f;f++)c.setInt16(p,32767*a[f]*l,!0),p+=2;t.prototype.writeFile([c],n,"wav")}}(e,i);var F;F=function(){"use strict";t.PeakDetect=function(t,e,i,o){this.framesPerPeak=o||5,this.framesSinceLastPeak=0,this.decayRate=.95,this.threshold=i||.25,this.cutoff=0,this.energy=0,this.penergy=0,this.isDetected=!1,this.f1=t||40,this.f2=e||2e4,this._onPeak=function(){}},t.PeakDetect.prototype.update=function(t){var e=this.energy=t.getEnergy(this.f1,this.f2)/255;e>this.cutoff&&e>this.threshold&&e-this.penergy>0?(this._onPeak(),this.isDetected=!0,this.cutoff=1.1*e,this.framesSinceLastPeak=0):(this.isDetected=!1,this.framesSinceLastPeak<=this.framesPerPeak?this.framesSinceLastPeak++:(this.cutoff*=this.decayRate,this.cutoff=Math.max(this.cutoff,this.threshold))),this.penergy=e},t.PeakDetect.prototype.onPeak=function(t,e){var i=this;i._onPeak=function(){t(i.energy,e)}}}(i);var V;V=function(){"use strict";var e=i;t.Gain=function(){this.ac=e.audiocontext,this.input=this.ac.createGain(),this.output=this.ac.createGain(),this.input.gain.value=.5,this.input.connect(this.output)},t.Gain.prototype.setInput=function(t){t.connect(this.input)},t.Gain.prototype.connect=function(e){var i=e||t.soundOut.input;this.output.connect(i.input?i.input:i)},t.Gain.prototype.disconnect=function(){this.output.disconnect()},t.Gain.prototype.amp=function(t,i,o){var i=i||0,o=o||0,n=e.audiocontext.currentTime,s=this.output.gain.value;this.output.gain.cancelScheduledValues(n),this.output.gain.linearRampToValueAtTime(s,n+o),this.output.gain.linearRampToValueAtTime(t,n+o+i)}}(i,e);var R;R=function(){"use strict";var t=e;return t}(e,i,o,n,s,r,a,y,m,v,g,T,S,_,b,w,x,N,P,F,V)});
;!function(){"use strict";function n(n){for(var t=n.length,e={0:0},r=0;t>r;r++)n[r]&&(e[n[r].charCodeAt(0)]=r);return e}function t(n){for(var t,e,r=n.length,o={},i=0;r>i;i++)t=n[i][0].charCodeAt(0),e=n[i][1].charCodeAt(0),"undefined"==typeof o[t]&&(o[t]={}),o[t][e]=n[i][2].charCodeAt(0);return o}function e(n){return a[n]}function r(n){return"undefined"!=typeof s[n]}function o(n){return"undefined"!=typeof h[n]}function i(n){return"undefined"!=typeof p[n]}function f(n){return n>=44032&&55203>=n}function u(n,t){return g[n]&&g[n][t]?g[n][t]:!1}function c(n,t){return C[n]&&C[n][t]?C[n][t]:!1}function d(n){this.string=n,this.disassembled=H(n).join("")}var a,s,h,p,C,g,y=["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],A=["ㅏ","ㅐ","ㅑ","ㅒ","ㅓ","ㅔ","ㅕ","ㅖ","ㅗ",["ㅗ","ㅏ"],["ㅗ","ㅐ"],["ㅗ","ㅣ"],"ㅛ","ㅜ",["ㅜ","ㅓ"],["ㅜ","ㅔ"],["ㅜ","ㅣ"],"ㅠ","ㅡ",["ㅡ","ㅣ"],"ㅣ"],l=["","ㄱ","ㄲ",["ㄱ","ㅅ"],"ㄴ",["ㄴ","ㅈ"],["ㄴ","ㅎ"],"ㄷ","ㄹ",["ㄹ","ㄱ"],["ㄹ","ㅁ"],["ㄹ","ㅂ"],["ㄹ","ㅅ"],["ㄹ","ㅌ"],["ㄹ","ㅍ"],["ㄹ","ㅎ"],"ㅁ","ㅂ",["ㅂ","ㅅ"],"ㅅ","ㅆ","ㅇ","ㅈ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],v=44032,m=["ㄱ","ㄲ","ㄳ","ㄴ","ㄵ","ㄶ","ㄷ","ㄸ","ㄹ","ㄺ","ㄻ","ㄼ","ㄽ","ㄾ","ㄿ","ㅀ","ㅁ","ㅂ","ㅃ","ㅄ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],j=["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],b=["ㅏ","ㅐ","ㅑ","ㅒ","ㅓ","ㅔ","ㅕ","ㅖ","ㅗ","ㅘ","ㅙ","ㅚ","ㅛ","ㅜ","ㅝ","ㅞ","ㅟ","ㅠ","ㅡ","ㅢ","ㅣ"],S=["","ㄱ","ㄲ","ㄳ","ㄴ","ㄵ","ㄶ","ㄷ","ㄹ","ㄺ","ㄻ","ㄼ","ㄽ","ㄾ","ㄿ","ㅀ","ㅁ","ㅂ","ㅄ","ㅅ","ㅆ","ㅇ","ㅈ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],w=[["ㄱ","ㅅ","ㄳ"],["ㄴ","ㅈ","ㄵ"],["ㄴ","ㅎ","ㄶ"],["ㄹ","ㄱ","ㄺ"],["ㄹ","ㅁ","ㄻ"],["ㄹ","ㅂ","ㄼ"],["ㄹ","ㅅ","ㄽ"],["ㄹ","ㅌ","ㄾ"],["ㄹ","ㅍ","ㄿ"],["ㄹ","ㅎ","ㅀ"],["ㅂ","ㅅ","ㅄ"]],x=[["ㅗ","ㅏ","ㅘ"],["ㅗ","ㅐ","ㅙ"],["ㅗ","ㅣ","ㅚ"],["ㅜ","ㅓ","ㅝ"],["ㅜ","ㅔ","ㅞ"],["ㅜ","ㅣ","ㅟ"],["ㅡ","ㅣ","ㅢ"]];a=n(m),s=n(j),h=n(b),p=n(S),C=t(w),g=t(x);var H=function(n){"object"==typeof n&&(n=n.join(""));for(var t,i,u,c,d,a=[],C=n.length,g=0;C>g;g++)c=n.charCodeAt(g),f(c)?(c-=v,u=c%28,i=(c-u)/28%21,t=parseInt((c-u)/28/21),a.push(y[t]),"object"==typeof A[i]?a=a.concat(A[i]):a.push(A[i]),u>0&&("object"==typeof l[u]?a=a.concat(l[u]):a.push(l[u]))):e(c)?(d=r(c)?y[s[c]]:l[p[c]],"string"==typeof d?a.push(d):a=a.concat(d)):o(c)?(d=A[h[c]],"string"==typeof d?a.push(d):a=a.concat(d)):a.push(n.charAt(g));return a},O=function(n){function t(t){var e,i,f,a,C=0,y="";if(!(g+1>t))for(var A=1;;A++){if(1===A){if(e=n[g+A].charCodeAt(0),o(e))return t>=g+A+1&&o(i=n[g+A+1].charCodeAt(0))?(d.push(String.fromCharCode(u(e,i))),void(g=t)):(d.push(n[g+A]),void(g=t));if(!r(e))return d.push(n[g+A]),void(g=t);y=n[g+A]}else if(2===A){if(i=n[g+A].charCodeAt(0),r(i))return e=c(e,i),y=String.fromCharCode(e),d.push(y),void(g=t);y=String.fromCharCode(28*(21*s[e]+h[i])+v)}else 3===A?(f=n[g+A].charCodeAt(0),u(i,f)?i=u(i,f):C=f,y=String.fromCharCode(28*(21*s[e]+h[i])+p[C]+v)):4===A?(a=n[g+A].charCodeAt(0),C=c(C,a)?c(C,a):a,y=String.fromCharCode(28*(21*s[e]+h[i])+p[C]+v)):5===A&&(a=n[g+A].charCodeAt(0),C=c(C,a),y=String.fromCharCode(28*(21*s[e]+h[i])+p[C]+v));if(g+A>=t)return d.push(y),void(g=t)}}"string"==typeof n&&(n=H(n));for(var e,f,d=[],a=n.length,C=0,g=-1,y=0;a>y;y++)e=n[y].charCodeAt(0),r(e)||o(e)||i(e)?(0===C?r(e)?C=1:o(e)&&(C=4):1==C?o(e)?C=2:c(f,e)?C=5:t(y-1):2==C?i(e)?C=3:o(e)?u(f,e)||(t(y-1),C=4):(t(y-1),C=1):3==C?i(e)?c(f,e)||(t(y-1),C=1):r(e)?(t(y-1),C=1):o(e)&&(t(y-2),C=2):4==C?o(e)?u(f,e)?(t(y),C=0):t(y-1):(t(y-1),C=1):5==C&&(o(e)?(t(y-2),C=2):(t(y-1),C=1)),f=e):(t(y-1),t(y),C=0);return t(y-1),d.join("")},I=function(n,t){var e=H(n).join(""),r=H(t).join("");return e.indexOf(r)};d.prototype.search=function(n){return H(n).join("").indexOf(this.disassembled)};var J=function(n){"object"==typeof n&&(n=n.join(""));var t=n.charCodeAt(n.length-1);if(f(t)){t-=v;var r=t%28;if(r>0)return!0}else if("undefined"!=typeof e(t))return!0;return!1},V={disassemble:H,assemble:O,search:I,Searcher:d,endsWithConsonant:J,isHangul:function(n){return"string"==typeof n&&(n=n.charCodeAt(0)),f(n)},isConsonant:function(n){return"string"==typeof n&&(n=n.charCodeAt(0)),"undefined"!=typeof e(n)},isVowel:function(n){return"string"==typeof n&&(n=n.charCodeAt(0)),o(n)},isCho:function(n){return"string"==typeof n&&(n=n.charCodeAt(0)),r(n)},isJong:function(n){return"string"==typeof n&&(n=n.charCodeAt(0)),i(n)}};"function"==typeof define&&define.amd?define(function(){return V}):"undefined"!=typeof module?module.exports=V:window.Hangul=V}();
;!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.page=t()}}(function(){return function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[a]={exports:{}};e[a][0].call(f.exports,function(t){var n=e[a][1][t];return i(n?n:t)},f,f.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){(function(n){"use strict";function r(t,e){if("function"==typeof t)return r("*",t);if("function"==typeof e)for(var n=new s(t),i=1;i<arguments.length;++i)r.callbacks.push(n.middleware(arguments[i]));else"string"==typeof t?r["string"==typeof e?"redirect":"show"](t,e):r.start(t)}function i(t){if(!t.handled){var e;e=y?g+v.hash.replace("#!",""):v.pathname+v.search,e!==t.canonicalPath&&(r.stop(),t.handled=!1,v.href=t.canonicalPath)}}function o(t){return"string"!=typeof t?t:m?decodeURIComponent(t.replace(/\+/g," ")):t}function a(t,e){"/"===t[0]&&0!==t.indexOf(g)&&(t=g+(y?"#!":"")+t);var n=t.indexOf("?");if(this.canonicalPath=t,this.path=t.replace(g,"")||"/",y&&(this.path=this.path.replace("#!","")||"/"),this.title=document.title,this.state=e||{},this.state.path=t,this.querystring=~n?o(t.slice(n+1)):"",this.pathname=o(~n?t.slice(0,n):t),this.params={},this.hash="",!y){if(!~this.path.indexOf("#"))return;var r=this.path.split("#");this.path=r[0],this.hash=o(r[1])||"",this.querystring=this.querystring.split("#")[0]}}function s(t,e){e=e||{},this.path="*"===t?"(.*)":t,this.method="GET",this.regexp=h(this.path,this.keys=[],e.sensitive,e.strict)}function u(t){if(1===c(t)&&!(t.metaKey||t.ctrlKey||t.shiftKey||t.defaultPrevented)){for(var e=t.target;e&&"A"!==e.nodeName;)e=e.parentNode;if(e&&"A"===e.nodeName&&!e.hasAttribute("download")&&"external"!==e.getAttribute("rel")){var i=e.getAttribute("href");if((y||e.pathname!==v.pathname||!e.hash&&"#"!==i)&&!(i&&i.indexOf("mailto:")>-1)&&!e.target&&f(e.href)){var o=e.pathname+e.search+(e.hash||"");"undefined"!=typeof n&&o.match(/^\/[a-zA-Z]:\//)&&(o=o.replace(/^\/[a-zA-Z]:\//,"/"));var a=o;0===o.indexOf(g)&&(o=o.substr(g.length)),y&&(o=o.replace("#!","")),g&&a===o||(t.preventDefault(),r.show(a))}}}}function c(t){return t=t||window.event,null===t.which?t.button:t.which}function f(t){var e=v.protocol+"//"+v.hostname;return v.port&&(e+=":"+v.port),t&&0===t.indexOf(e)}var h=t("path-to-regexp");e.exports=r;var p,d,l="undefined"!=typeof document&&document.ontouchstart?"touchstart":"click",v="undefined"!=typeof window&&(window.history.location||window.location),w=!0,m=!0,g="",y=!1;r.callbacks=[],r.exits=[],r.current="",r.len=0,r.base=function(t){return 0===arguments.length?g:void(g=t)},r.start=function(t){if(t=t||{},!p&&(p=!0,!1===t.dispatch&&(w=!1),!1===t.decodeURLComponents&&(m=!1),!1!==t.popstate&&window.addEventListener("popstate",x,!1),!1!==t.click&&document.addEventListener(l,u,!1),!0===t.hashbang&&(y=!0),w)){var e=y&&~v.hash.indexOf("#!")?v.hash.substr(2)+v.search:v.pathname+v.search+v.hash;r.replace(e,null,!0,w)}},r.stop=function(){p&&(r.current="",r.len=0,p=!1,document.removeEventListener(l,u,!1),window.removeEventListener("popstate",x,!1))},r.show=function(t,e,n,i){var o=new a(t,e);return r.current=o.path,!1!==n&&r.dispatch(o),!1!==o.handled&&!1!==i&&o.pushState(),o},r.back=function(t,e){r.len>0?(history.back(),r.len--):t?setTimeout(function(){r.show(t,e)}):setTimeout(function(){r.show(g,e)})},r.redirect=function(t,e){"string"==typeof t&&"string"==typeof e&&r(t,function(t){setTimeout(function(){r.replace(e)},0)}),"string"==typeof t&&"undefined"==typeof e&&setTimeout(function(){r.replace(t)},0)},r.replace=function(t,e,n,i){var o=new a(t,e);return r.current=o.path,o.init=n,o.save(),!1!==i&&r.dispatch(o),o},r.dispatch=function(t){function e(){var t=r.exits[s++];return t?void t(o,e):n()}function n(){var e=r.callbacks[a++];return t.path!==r.current?void(t.handled=!1):e?void e(t,n):i(t)}var o=d,a=0,s=0;d=t,o?e():n()},r.exit=function(t,e){if("function"==typeof t)return r.exit("*",t);for(var n=new s(t),i=1;i<arguments.length;++i)r.exits.push(n.middleware(arguments[i]))},r.Context=a,a.prototype.pushState=function(){r.len++,history.pushState(this.state,this.title,y&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},a.prototype.save=function(){history.replaceState(this.state,this.title,y&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},r.Route=s,s.prototype.middleware=function(t){var e=this;return function(n,r){return e.match(n.path,n.params)?t(n,r):void r()}},s.prototype.match=function(t,e){var n=this.keys,r=t.indexOf("?"),i=~r?t.slice(0,r):t,a=this.regexp.exec(decodeURIComponent(i));if(!a)return!1;for(var s=1,u=a.length;u>s;++s){var c=n[s-1],f=o(a[s]);void 0===f&&hasOwnProperty.call(e,c.name)||(e[c.name]=f)}return!0};var x=function(){var t=!1;if("undefined"!=typeof window)return"complete"===document.readyState?t=!0:window.addEventListener("load",function(){setTimeout(function(){t=!0},0)}),function(e){if(t)if(e.state){var n=e.state.path;r.replace(n,e.state)}else r.show(v.pathname+v.hash,void 0,void 0,!1)}}();r.sameOrigin=f}).call(this,t("_process"))},{_process:2,"path-to-regexp":3}],2:[function(t,e,n){function r(){}var i=e.exports={};i.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.MutationObserver,n="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};var r=[];if(e){var i=document.createElement("div"),o=new MutationObserver(function(){var t=r.slice();r.length=0,t.forEach(function(t){t()})});return o.observe(i,{attributes:!0}),function(t){r.length||i.setAttribute("yes","no"),r.push(t)}}return n?(window.addEventListener("message",function(t){var e=t.source;if((e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),r.length>0)){var n=r.shift();n()}},!0),function(t){r.push(t),window.postMessage("process-tick","*")}):function(t){setTimeout(t,0)}}(),i.title="browser",i.browser=!0,i.env={},i.argv=[],i.on=r,i.addListener=r,i.once=r,i.off=r,i.removeListener=r,i.removeAllListeners=r,i.emit=r,i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")}},{}],3:[function(t,e,n){function r(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function i(t,e){return t.keys=e,t}function o(t){return t.sensitive?"":"i"}function a(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,delimiter:null,optional:!1,repeat:!1});return i(t,e)}function s(t,e,n){for(var r=[],a=0;a<t.length;a++)r.push(c(t[a],e,n).source);var s=new RegExp("(?:"+r.join("|")+")",o(n));return i(s,e)}function u(t,e){function n(t,n,o,a,s,u,c,f){if(n)return n;if(f)return"\\"+f;var h="+"===c||"*"===c,p="?"===c||"*"===c;return e.push({name:a||i++,delimiter:o||"/",optional:p,repeat:h}),o=o?"\\"+o:"",s=r(s||u||"[^"+(o||"\\/")+"]+?"),h&&(s=s+"(?:"+o+s+")*"),p?"(?:"+o+"("+s+"))?":o+"("+s+")"}var i=0;return t.replace(h,n)}function c(t,e,n){if(e=e||[],f(e)?n||(n={}):(n=e,e=[]),t instanceof RegExp)return a(t,e,n);if(f(t))return s(t,e,n);var r=n.strict,c=n.end!==!1,h=u(t,e),p="/"===t.charAt(t.length-1);return r||(h=(p?h.slice(0,-2):h)+"(?:\\/(?=$))?"),h+=c?"$":r&&p?"":"(?=\\/|$)",i(new RegExp("^"+h,o(n)),e)}var f=t("isarray");e.exports=c;var h=new RegExp(["(\\\\.)","([\\/.])?(?:\\:(\\w+)(?:\\(((?:\\\\.|[^)])*)\\))?|\\(((?:\\\\.|[^)])*)\\))([+*?])?","([.+*?=^!:${}()[\\]|\\/])"].join("|"),"g")},{isarray:4}],4:[function(t,e,n){e.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},{}]},{},[1])(1)});
;window.addEventListener("WebComponentsReady",function(){if(!n)var n=document.getElementById("tinavg_app");page("/",function(){n.route="home"}),page("/privacy",function(){n.route="privacy"}),page("/terms",function(){n.route="terms"}),page("/contact",function(){n.route="contact"}),page("/lang/:lang",function(e){n.route="home",n.setLangManual(e.params.lang)}),page({hashbang:!0})});
;!function(e,t,n){function r(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function a(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return p[e.which]?p[e.which]:f[e.which]?f[e.which]:String.fromCharCode(e.which).toLowerCase()}function i(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}function o(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function c(e,t){var n,r,a,i=[];for(n=e,"+"===n?n=["+"]:(n=n.replace(/\+{2}/g,"+plus"),n=n.split("+")),a=0;a<n.length;++a)r=n[a],d[r]&&(r=d[r]),t&&"keypress"!=t&&h[r]&&(r=h[r],i.push("shift")),o(r)&&i.push(r);if(n=r,a=t,!a){if(!u){u={};for(var c in p)c>95&&112>c||p.hasOwnProperty(c)&&(u[p[c]]=c)}a=u[n]?"keydown":"keypress"}return"keypress"==a&&i.length&&(a="keydown"),{key:r,modifiers:i,action:a}}function s(e,n){return null===e||e===t?!1:e===n?!0:s(e.parentNode,n)}function l(e){function n(e){e=e||{};var t,n=!1;for(t in m)e[t]?n=!0:m[t]=0;n||(g=!1)}function s(e,t,n,r,a,i){var c,s,l=[],u=n.type;if(!d._callbacks[e])return[];for("keyup"==u&&o(e)&&(t=[e]),c=0;c<d._callbacks[e].length;++c)if(s=d._callbacks[e][c],(r||!s.seq||m[s.seq]==s.level)&&u==s.action){var p;(p="keypress"==u&&!n.metaKey&&!n.ctrlKey)||(p=s.modifiers,p=t.sort().join(",")===p.sort().join(",")),p&&(p=r&&s.seq==r&&s.level==i,(!r&&s.combo==a||p)&&d._callbacks[e].splice(c,1),l.push(s))}return l}function u(e,t,n,r){d.stopCallback(t,t.target||t.srcElement,n,r)||!1!==e(t,n)||(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation?t.stopPropagation():t.cancelBubble=!0)}function p(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t=a(e);t&&("keyup"==e.type&&k===t?k=!1:d.handleKey(t,i(e),e))}function f(e,t,r,i){function o(t){return function(){g=t,++m[e],clearTimeout(y),y=setTimeout(n,1e3)}}function s(t){u(r,t,e),"keyup"!==i&&(k=a(t)),setTimeout(n,10)}for(var l=m[e]=0;l<t.length;++l){var p=l+1===t.length?s:o(i||c(t[l+1]).action);h(t[l],p,i,e,l)}}function h(e,t,n,r,a){d._directMap[e+":"+n]=t,e=e.replace(/\s+/g," ");var i=e.split(" ");1<i.length?f(e,i,t,n):(n=c(e,n),d._callbacks[n.key]=d._callbacks[n.key]||[],s(n.key,n.modifiers,{type:n.action},r,e,a),d._callbacks[n.key][r?"unshift":"push"]({callback:t,modifiers:n.modifiers,action:n.action,seq:r,level:a,combo:e}))}var d=this;if(e=e||t,!(d instanceof l))return new l(e);d.target=e,d._callbacks={},d._directMap={};var y,m={},k=!1,b=!1,g=!1;d._handleKey=function(e,t,r){var a,i=s(e,t,r);t={};var c=0,l=!1;for(a=0;a<i.length;++a)i[a].seq&&(c=Math.max(c,i[a].level));for(a=0;a<i.length;++a)i[a].seq?i[a].level==c&&(l=!0,t[i[a].seq]=1,u(i[a].callback,r,i[a].combo,i[a].seq)):l||u(i[a].callback,r,i[a].combo);i="keypress"==r.type&&b,r.type!=g||o(e)||i||n(t),b=l&&"keydown"==r.type},d._bindMultiple=function(e,t,n){for(var r=0;r<e.length;++r)h(e[r],t,n)},r(e,"keypress",p),r(e,"keydown",p),r(e,"keyup",p)}var u,p={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},f={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},h={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},d={option:"alt",command:"meta","return":"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"};for(n=1;20>n;++n)p[111+n]="f"+n;for(n=0;9>=n;++n)p[n+96]=n;l.prototype.bind=function(e,t,n){return e=e instanceof Array?e:[e],this._bindMultiple.call(this,e,t,n),this},l.prototype.unbind=function(e,t){return this.bind.call(this,e,function(){},t)},l.prototype.trigger=function(e,t){return this._directMap[e+":"+t]&&this._directMap[e+":"+t]({},e),this},l.prototype.reset=function(){return this._callbacks={},this._directMap={},this},l.prototype.stopCallback=function(e,t){return-1<(" "+t.className+" ").indexOf(" mousetrap ")||s(t,this.target)?!1:"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},l.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},l.init=function(){var e,n=l(t);for(e in n)"_"!==e.charAt(0)&&(l[e]=function(e){return function(){return n[e].apply(n,arguments)}}(e))},l.init(),e.Mousetrap=l,"undefined"!=typeof module&&module.exports&&(module.exports=l),"function"==typeof define&&define.amd&&define(function(){return l})}(window,document);
;!function(e){"use strict";e.querySelector("tinavg-webapp");window.addEventListener("WebComponentsReady",function(){}),window.cookieconsent_options={learnMore:"more info",link:"https://www.tinavg.com/terms.html",theme:"dark-top"},setTimeout(function(){e.querySelector("[unresolved]")&&(e.getElementById("friendly_message").removeAttribute("hidden"),e.querySelector("[unresolved]").removeAttribute("unresolved"))},25e3)}(document);
;Polymer({is:"iron-localstorage",properties:{name:{type:String,value:""},value:{type:Object,notify:!0},useRaw:{type:Boolean,value:!1},autoSaveDisabled:{type:Boolean,value:!1},errorMessage:{type:String,notify:!0},_loaded:{type:Boolean,value:!1}},observers:["_debounceReload(name,useRaw)","_trySaveValue(autoSaveDisabled)","_trySaveValue(value.*)"],ready:function(){this._boundHandleStorage=this._handleStorage.bind(this)},attached:function(){window.addEventListener("storage",this._boundHandleStorage)},detached:function(){window.removeEventListener("storage",this._boundHandleStorage)},_handleStorage:function(e){e.key==this.name&&this._load(!0)},_trySaveValue:function(){this._doNotSave||this._loaded&&!this.autoSaveDisabled&&this.debounce("save",this.save)},_debounceReload:function(){this.debounce("reload",this.reload)},reload:function(){this._loaded=!1,this._load()},_load:function(e){var a=window.localStorage.getItem(this.name);if(null===a)this._loaded=!0,this._doNotSave=!0,this.value=null,this._doNotSave=!1,this.fire("iron-localstorage-load-empty",{externalChange:e});else{if(!this.useRaw)try{a=JSON.parse(a)}catch(o){this.errorMessage="Could not parse local storage value",void 0,a=null}this._loaded=!0,this._doNotSave=!0,this.value=a,this._doNotSave=!1,this.fire("iron-localstorage-load",{externalChange:e})}},save:function(){var e=this.useRaw?this.value:JSON.stringify(this.value);try{null===this.value?window.localStorage.removeItem(this.name):window.localStorage.setItem(this.name,e)}catch(a){this.errorMessage=a.message,void 0}}});
;Polymer({is:"iron-icon",properties:{icon:{type:String,observer:"_iconChanged"},theme:{type:String,observer:"_updateIcon"},src:{type:String,observer:"_srcChanged"}},_DEFAULT_ICONSET:"icons",_iconChanged:function(t){var i=(t||"").split(":");this._iconName=i.pop(),this._iconsetName=i.pop()||this._DEFAULT_ICONSET,this._updateIcon()},_srcChanged:function(t){this._updateIcon()},_usesIconset:function(){return this.icon||!this.src},_updateIcon:function(){this._usesIconset()?this._iconsetName&&(this._iconset=this.$.meta.byKey(this._iconsetName),this._iconset?this._iconset.applyIcon(this,this._iconName,this.theme):this._warn(this._logf("_updateIcon","could not find iconset `"+this._iconsetName+"`, did you import the iconset?"))):(this._img||(this._img=document.createElement("img"),this._img.style.width="100%",this._img.style.height="100%",this._img.draggable=!1),this._img.src=this.src,Polymer.dom(this.root).appendChild(this._img))}});
;Polymer({is:"iron-pages",behaviors:[Polymer.IronResizableBehavior,Polymer.IronSelectableBehavior],properties:{activateEvent:{type:String,value:null}},observers:["_selectedPageChanged(selected)"],_selectedPageChanged:function(e,a){this.async(this.notifyResize)}});
;!function(){function t(t){this.element=t,this.width=this.boundingRect.width,this.height=this.boundingRect.height,this.size=Math.max(this.width,this.height)}function i(t){this.element=t,this.color=window.getComputedStyle(t).color,this.wave=document.createElement("div"),this.waveContainer=document.createElement("div"),this.wave.style.backgroundColor=this.color,this.wave.classList.add("wave"),this.waveContainer.classList.add("wave-container"),Polymer.dom(this.waveContainer).appendChild(this.wave),this.resetInteractionState()}var e={cssColorWithAlpha:function(t,i){var e=t.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);return"undefined"==typeof i&&(i=1),e?"rgba("+e[1]+", "+e[2]+", "+e[3]+", "+i+")":"rgba(255, 255, 255, "+i+")"},distance:function(t,i,e,n){var s=t-e,o=i-n;return Math.sqrt(s*s+o*o)},now:function(){return window.performance&&window.performance.now?window.performance.now.bind(window.performance):Date.now}()};t.prototype={get boundingRect(){return this.element.getBoundingClientRect()},furthestCornerDistanceFrom:function(t,i){var n=e.distance(t,i,0,0),s=e.distance(t,i,this.width,0),o=e.distance(t,i,0,this.height),a=e.distance(t,i,this.width,this.height);return Math.max(n,s,o,a)}},i.MAX_RADIUS=300,i.prototype={get recenters(){return this.element.recenters},get center(){return this.element.center},get mouseDownElapsed(){var t;return this.mouseDownStart?(t=e.now()-this.mouseDownStart,this.mouseUpStart&&(t-=this.mouseUpElapsed),t):0},get mouseUpElapsed(){return this.mouseUpStart?e.now()-this.mouseUpStart:0},get mouseDownElapsedSeconds(){return this.mouseDownElapsed/1e3},get mouseUpElapsedSeconds(){return this.mouseUpElapsed/1e3},get mouseInteractionSeconds(){return this.mouseDownElapsedSeconds+this.mouseUpElapsedSeconds},get initialOpacity(){return this.element.initialOpacity},get opacityDecayVelocity(){return this.element.opacityDecayVelocity},get radius(){var t=this.containerMetrics.width*this.containerMetrics.width,e=this.containerMetrics.height*this.containerMetrics.height,n=1.1*Math.min(Math.sqrt(t+e),i.MAX_RADIUS)+5,s=1.1-.2*(n/i.MAX_RADIUS),o=this.mouseInteractionSeconds/s,a=n*(1-Math.pow(80,-o));return Math.abs(a)},get opacity(){return this.mouseUpStart?Math.max(0,this.initialOpacity-this.mouseUpElapsedSeconds*this.opacityDecayVelocity):this.initialOpacity},get outerOpacity(){var t=.3*this.mouseUpElapsedSeconds,i=this.opacity;return Math.max(0,Math.min(t,i))},get isOpacityFullyDecayed(){return this.opacity<.01&&this.radius>=Math.min(this.maxRadius,i.MAX_RADIUS)},get isRestingAtMaxRadius(){return this.opacity>=this.initialOpacity&&this.radius>=Math.min(this.maxRadius,i.MAX_RADIUS)},get isAnimationComplete(){return this.mouseUpStart?this.isOpacityFullyDecayed:this.isRestingAtMaxRadius},get translationFraction(){return Math.min(1,this.radius/this.containerMetrics.size*2/Math.sqrt(2))},get xNow(){return this.xEnd?this.xStart+this.translationFraction*(this.xEnd-this.xStart):this.xStart},get yNow(){return this.yEnd?this.yStart+this.translationFraction*(this.yEnd-this.yStart):this.yStart},get isMouseDown(){return this.mouseDownStart&&!this.mouseUpStart},resetInteractionState:function(){this.maxRadius=0,this.mouseDownStart=0,this.mouseUpStart=0,this.xStart=0,this.yStart=0,this.xEnd=0,this.yEnd=0,this.slideDistance=0,this.containerMetrics=new t(this.element)},draw:function(){var t,i,e;this.wave.style.opacity=this.opacity,t=this.radius/(this.containerMetrics.size/2),i=this.xNow-this.containerMetrics.width/2,e=this.yNow-this.containerMetrics.height/2,this.waveContainer.style.webkitTransform="translate("+i+"px, "+e+"px)",this.waveContainer.style.transform="translate3d("+i+"px, "+e+"px, 0)",this.wave.style.webkitTransform="scale("+t+","+t+")",this.wave.style.transform="scale3d("+t+","+t+",1)"},downAction:function(t){var i=this.containerMetrics.width/2,n=this.containerMetrics.height/2;this.resetInteractionState(),this.mouseDownStart=e.now(),this.center?(this.xStart=i,this.yStart=n,this.slideDistance=e.distance(this.xStart,this.yStart,this.xEnd,this.yEnd)):(this.xStart=t?t.detail.x-this.containerMetrics.boundingRect.left:this.containerMetrics.width/2,this.yStart=t?t.detail.y-this.containerMetrics.boundingRect.top:this.containerMetrics.height/2),this.recenters&&(this.xEnd=i,this.yEnd=n,this.slideDistance=e.distance(this.xStart,this.yStart,this.xEnd,this.yEnd)),this.maxRadius=this.containerMetrics.furthestCornerDistanceFrom(this.xStart,this.yStart),this.waveContainer.style.top=(this.containerMetrics.height-this.containerMetrics.size)/2+"px",this.waveContainer.style.left=(this.containerMetrics.width-this.containerMetrics.size)/2+"px",this.waveContainer.style.width=this.containerMetrics.size+"px",this.waveContainer.style.height=this.containerMetrics.size+"px"},upAction:function(t){this.isMouseDown&&(this.mouseUpStart=e.now())},remove:function(){Polymer.dom(this.waveContainer.parentNode).removeChild(this.waveContainer)}},Polymer({is:"paper-ripple",behaviors:[Polymer.IronA11yKeysBehavior],properties:{initialOpacity:{type:Number,value:.25},opacityDecayVelocity:{type:Number,value:.8},recenters:{type:Boolean,value:!1},center:{type:Boolean,value:!1},ripples:{type:Array,value:function(){return[]}},animating:{type:Boolean,readOnly:!0,reflectToAttribute:!0,value:!1},holdDown:{type:Boolean,value:!1,observer:"_holdDownChanged"},_animating:{type:Boolean},_boundAnimate:{type:Function,value:function(){return this.animate.bind(this)}}},get target(){var t,i=Polymer.dom(this).getOwnerRoot();return t=11==this.parentNode.nodeType?i.host:this.parentNode},keyBindings:{"enter:keydown":"_onEnterKeydown","space:keydown":"_onSpaceKeydown","space:keyup":"_onSpaceKeyup"},attached:function(){this.listen(this.target,"up","upAction"),this.listen(this.target,"down","downAction"),this.target.hasAttribute("noink")||(this.keyEventTarget=this.target)},get shouldKeepAnimating(){for(var t=0;t<this.ripples.length;++t)if(!this.ripples[t].isAnimationComplete)return!0;return!1},simulatedRipple:function(){this.downAction(null),this.async(function(){this.upAction()},1)},downAction:function(t){if(!(this.holdDown&&this.ripples.length>0)){var i=this.addRipple();i.downAction(t),this._animating||this.animate()}},upAction:function(t){this.holdDown||(this.ripples.forEach(function(i){i.upAction(t)}),this.animate())},onAnimationComplete:function(){this._animating=!1,this.$.background.style.backgroundColor=null,this.fire("transitionend")},addRipple:function(){var t=new i(this);return Polymer.dom(this.$.waves).appendChild(t.waveContainer),this.$.background.style.backgroundColor=t.color,this.ripples.push(t),this._setAnimating(!0),t},removeRipple:function(t){var i=this.ripples.indexOf(t);0>i||(this.ripples.splice(i,1),t.remove(),this.ripples.length||this._setAnimating(!1))},animate:function(){var t,i;for(this._animating=!0,t=0;t<this.ripples.length;++t)i=this.ripples[t],i.draw(),this.$.background.style.opacity=i.outerOpacity,i.isOpacityFullyDecayed&&!i.isRestingAtMaxRadius&&this.removeRipple(i);this.shouldKeepAnimating||0!==this.ripples.length?window.requestAnimationFrame(this._boundAnimate):this.onAnimationComplete()},_onEnterKeydown:function(){this.downAction(),this.async(this.upAction,1)},_onSpaceKeydown:function(){this.downAction()},_onSpaceKeyup:function(){this.upAction()},_holdDownChanged:function(t){t?this.downAction():this.upAction()}})}();
;Polymer({is:"paper-icon-button",hostAttributes:{role:"button",tabindex:"0"},behaviors:[Polymer.PaperInkyFocusBehavior],properties:{src:{type:String},icon:{type:String},alt:{type:String,observer:"_altChanged"}},_altChanged:function(t,e){var r=this.getAttribute("aria-label");r&&e!=r||this.setAttribute("aria-label",t)}});
;Polymer({is:"paper-tab",behaviors:[Polymer.IronControlState,Polymer.IronButtonState],properties:{noink:{type:Boolean,value:!1}},hostAttributes:{role:"tab"},listeners:{down:"_updateNoink"},attached:function(){this._updateNoink()},get _parentNoink(){var t=Polymer.dom(this).parentNode;return!!t&&!!t.noink},_updateNoink:function(){this.noink=!!this.noink||!!this._parentNoink}});
;Polymer({is:"paper-tabs",behaviors:[Polymer.IronResizableBehavior,Polymer.IronMenubarBehavior],properties:{noink:{type:Boolean,value:!1},noBar:{type:Boolean,value:!1},noSlide:{type:Boolean,value:!1},scrollable:{type:Boolean,value:!1},disableDrag:{type:Boolean,value:!1},hideScrollButtons:{type:Boolean,value:!1},alignBottom:{type:Boolean,value:!1},selected:{type:String,notify:!0},selectable:{type:String,value:"paper-tab"},_step:{type:Number,value:10},_holdDelay:{type:Number,value:1},_leftHidden:{type:Boolean,value:!1},_rightHidden:{type:Boolean,value:!1},_previousTab:{type:Object}},hostAttributes:{role:"tablist"},listeners:{"iron-resize":"_onResize","iron-select":"_onIronSelect","iron-deselect":"_onIronDeselect"},_computeScrollButtonClass:function(t,e,i){return!e||i?"hidden":t?"not-visible":""},_computeTabsContentClass:function(t){return t?"scrollable":"horizontal layout"},_computeSelectionBarClass:function(t,e){return t?"hidden":e?"align-bottom":void 0},_onResize:function(){this.debounce("_onResize",function(){this._scroll(),this._tabChanged(this.selectedItem)},10)},_onIronSelect:function(t){this._tabChanged(t.detail.item,this._previousTab),this._previousTab=t.detail.item,this.cancelDebouncer("tab-changed")},_onIronDeselect:function(t){this.debounce("tab-changed",function(){this._tabChanged(null,this._previousTab)},1)},get _tabContainerScrollSize(){return Math.max(0,this.$.tabsContainer.scrollWidth-this.$.tabsContainer.offsetWidth)},_scroll:function(){var t;this.scrollable&&(t=this.$.tabsContainer.scrollLeft,this._leftHidden=0===t,this._rightHidden=t===this._tabContainerScrollSize)},_onLeftScrollButtonDown:function(){this._holdJob=setInterval(this._scrollToLeft.bind(this),this._holdDelay)},_onRightScrollButtonDown:function(){this._holdJob=setInterval(this._scrollToRight.bind(this),this._holdDelay)},_onScrollButtonUp:function(){clearInterval(this._holdJob),this._holdJob=null},_scrollToLeft:function(){this.$.tabsContainer.scrollLeft-=this._step},_scrollToRight:function(){this.$.tabsContainer.scrollLeft+=this._step},_tabChanged:function(t,e){if(!t)return void this._positionBar(0,0);var i=this.$.tabsContent.getBoundingClientRect(),o=i.width,n=t.getBoundingClientRect(),s=n.left-i.left;if(this._pos={width:this._calcPercent(n.width,o),left:this._calcPercent(s,o)},this.noSlide||null==e)return void this._positionBar(this._pos.width,this._pos.left);var l=e.getBoundingClientRect(),a=this.items.indexOf(e),r=this.items.indexOf(t),c=5;this.$.selectionBar.classList.add("expand"),r>a?this._positionBar(this._calcPercent(n.left+n.width-l.left,o)-c,this._left):this._positionBar(this._calcPercent(l.left+l.width-n.left,o)-c,this._calcPercent(s,o)+c),this.scrollable&&this._scrollToSelectedIfNeeded(n.width,s)},_scrollToSelectedIfNeeded:function(t,e){var i=e-this.$.tabsContainer.scrollLeft;0>i?this.$.tabsContainer.scrollLeft+=i:(i+=t-this.$.tabsContainer.offsetWidth,i>0&&(this.$.tabsContainer.scrollLeft+=i))},_calcPercent:function(t,e){return 100*t/e},_positionBar:function(t,e){t=t||0,e=e||0,this._width=t,this._left=e,this.transform("translate3d("+e+"%, 0, 0) scaleX("+t/100+")",this.$.selectionBar)},_onBarTransitionEnd:function(t){var e=this.$.selectionBar.classList;e.contains("expand")?(e.remove("expand"),e.add("contract"),this._positionBar(this._pos.width,this._pos.left)):e.contains("contract")&&e.remove("contract")}});
;!function(){"use strict";var t=1,e=2,s={outerScroll:{scroll:!0},shadowMode:{standard:e,waterfall:t,"waterfall-tall":t},tallMode:{"waterfall-tall":!0}};Polymer({is:"paper-header-panel",properties:{mode:{type:String,value:"standard",observer:"_modeChanged",reflectToAttribute:!0},shadow:{type:Boolean,value:!1},tallClass:{type:String,value:"tall"},atTop:{type:Boolean,value:!0,readOnly:!0}},observers:["_computeDropShadowHidden(atTop, mode, shadow)"],ready:function(){this.scrollHandler=this._scroll.bind(this),this._addListener(),this._keepScrollingState()},detached:function(){this._removeListener()},get header(){return Polymer.dom(this.$.headerContent).getDistributedNodes()[0]},get scroller(){return this._getScrollerForMode(this.mode)},get visibleShadow(){return this.$.dropShadow.classList.contains("has-shadow")},_computeDropShadowHidden:function(o,l,a){var r=s.shadowMode[l];this.shadow?this.toggleClass("has-shadow",!0,this.$.dropShadow):r===e?this.toggleClass("has-shadow",!0,this.$.dropShadow):r!==t||o?this.toggleClass("has-shadow",!1,this.$.dropShadow):this.toggleClass("has-shadow",!0,this.$.dropShadow)},_computeMainContainerClass:function(t){var e={};return e.flex="cover"!==t,Object.keys(e).filter(function(t){return e[t]}).join(" ")},_addListener:function(){this.scroller.addEventListener("scroll",this.scrollHandler,!1)},_removeListener:function(){this.scroller.removeEventListener("scroll",this.scrollHandler)},_modeChanged:function(t,e){var o=s,l=this.header,a=200;l&&(o.tallMode[e]&&!o.tallMode[t]?(l.classList.remove(this.tallClass),this.async(function(){l.classList.remove("animate")},a)):l.classList.toggle("animate",o.tallMode[t])),this._keepScrollingState()},_keepScrollingState:function(){var t=this.scroller,e=this.header;this._setAtTop(0===t.scrollTop),e&&this.tallClass&&s.tallMode[this.mode]&&this.toggleClass(this.tallClass,this.atTop||e.classList.contains(this.tallClass)&&t.scrollHeight<this.offsetHeight,e)},_scroll:function(){this._keepScrollingState(),this.fire("content-scroll",{target:this.scroller},{bubbles:!1})},_getScrollerForMode:function(t){return s.outerScroll[t]?this:this.$.mainContainer}})}();
;!function(){"use strict";function e(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&e[i]&&t.push(i);return t.join(" ")}var t=null;Polymer({is:"paper-drawer-panel",properties:{defaultSelected:{type:String,value:"main"},disableEdgeSwipe:{type:Boolean,value:!1},disableSwipe:{type:Boolean,value:!1},dragging:{type:Boolean,value:!1,readOnly:!0,notify:!0},drawerWidth:{type:String,value:"256px"},edgeSwipeSensitivity:{type:Number,value:30},forceNarrow:{type:Boolean,value:!1},hasTransform:{type:Boolean,value:function(){return"transform"in this.style}},hasWillChange:{type:Boolean,value:function(){return"willChange"in this.style}},narrow:{reflectToAttribute:!0,type:Boolean,value:!1,readOnly:!0,notify:!0},peeking:{type:Boolean,value:!1,readOnly:!0,notify:!0},responsiveWidth:{type:String,value:"640px"},rightDrawer:{type:Boolean,value:!1},selected:{reflectToAttribute:!0,notify:!0,type:String,value:null},drawerToggleAttribute:{type:String,value:"paper-drawer-toggle"},transition:{type:Boolean,value:!1}},listeners:{tap:"_onTap",track:"_onTrack",down:"_downHandler",up:"_upHandler"},observers:["_forceNarrowChanged(forceNarrow, defaultSelected)"],togglePanel:function(){this._isMainSelected()?this.openDrawer():this.closeDrawer()},openDrawer:function(){this.selected="drawer"},closeDrawer:function(){this.selected="main"},ready:function(){this.transition=!0},_computeIronSelectorClass:function(t,i,r,n,a){return e({dragging:r,"narrow-layout":t,"right-drawer":n,"left-drawer":!n,transition:i,peeking:a})},_computeDrawerStyle:function(e){return"width:"+e+";"},_computeMainStyle:function(e,t,i){var r="";return r+="left:"+(e||t?"0":i)+";",t&&(r+="right:"+(e?"":i)+";"),r},_computeMediaQuery:function(e,t){return e?"":"(max-width: "+t+")"},_computeSwipeOverlayHidden:function(e,t){return!e||t},_onTrack:function(e){if(!t||this===t)switch(e.detail.state){case"start":this._trackStart(e);break;case"track":this._trackX(e);break;case"end":this._trackEnd(e)}},_responsiveChange:function(e){this._setNarrow(e),this.narrow&&(this.selected=this.defaultSelected),this.setScrollDirection(this._swipeAllowed()?"y":"all"),this.fire("paper-responsive-change",{narrow:this.narrow})},_onQueryMatchesChanged:function(e){this._responsiveChange(e.detail.value)},_forceNarrowChanged:function(){this._responsiveChange(this.forceNarrow||this.$.mq.queryMatches)},_swipeAllowed:function(){return this.narrow&&!this.disableSwipe},_isMainSelected:function(){return"main"===this.selected},_startEdgePeek:function(){this.width=this.$.drawer.offsetWidth,this._moveDrawer(this._translateXForDeltaX(this.rightDrawer?-this.edgeSwipeSensitivity:this.edgeSwipeSensitivity)),this._setPeeking(!0)},_stopEdgePeek:function(){this.peeking&&(this._setPeeking(!1),this._moveDrawer(null))},_downHandler:function(e){!this.dragging&&this._isMainSelected()&&this._isEdgeTouch(e)&&!t&&(this._startEdgePeek(),e.preventDefault(),t=this)},_upHandler:function(){this._stopEdgePeek(),t=null},_onTap:function(e){var t=Polymer.dom(e).localTarget,i=t&&this.drawerToggleAttribute&&t.hasAttribute(this.drawerToggleAttribute);i&&this.togglePanel()},_isEdgeTouch:function(e){var t=e.detail.x;return!this.disableEdgeSwipe&&this._swipeAllowed()&&(this.rightDrawer?t>=this.offsetWidth-this.edgeSwipeSensitivity:t<=this.edgeSwipeSensitivity)},_trackStart:function(e){this._swipeAllowed()&&(t=this,this._setDragging(!0),this._isMainSelected()&&this._setDragging(this.peeking||this._isEdgeTouch(e)),this.dragging&&(this.width=this.$.drawer.offsetWidth,this.transition=!1))},_translateXForDeltaX:function(e){var t=this._isMainSelected();return this.rightDrawer?Math.max(0,t?this.width+e:e):Math.min(0,t?e-this.width:e)},_trackX:function(e){if(this.dragging){var t=e.detail.dx;if(this.peeking){if(Math.abs(t)<=this.edgeSwipeSensitivity)return;this._setPeeking(!1)}this._moveDrawer(this._translateXForDeltaX(t))}},_trackEnd:function(e){if(this.dragging){var i=e.detail.dx>0;this._setDragging(!1),this.transition=!0,t=null,this._moveDrawer(null),this.rightDrawer?this[i?"closeDrawer":"openDrawer"]():this[i?"openDrawer":"closeDrawer"]()}},_transformForTranslateX:function(e){return null===e?"":this.hasWillChange?"translateX("+e+"px)":"translate3d("+e+"px, 0, 0)"},_moveDrawer:function(e){this.transform(this._transformForTranslateX(e),this.$.drawer)}})}();
;Polymer({is:"paper-toggle-button",behaviors:[Polymer.PaperInkyFocusBehavior],hostAttributes:{role:"button","aria-pressed":"false",tabindex:0},properties:{checked:{type:Boolean,value:!1,reflectToAttribute:!0,notify:!0,observer:"_checkedChanged"},toggles:{type:Boolean,value:!0,reflectToAttribute:!0}},listeners:{track:"_ontrack"},ready:function(){this._isReady=!0},_buttonStateChanged:function(){this.disabled||this._isReady&&(this.checked=this.active)},_checkedChanged:function(t){this.active=this.checked,this.fire("iron-change")},_ontrack:function(t){var e=t.detail;"start"===e.state?this._trackStart(e):"track"===e.state?this._trackMove(e):"end"===e.state&&this._trackEnd(e)},_trackStart:function(t){this._width=this.$.toggleBar.offsetWidth/2,this._trackChecked=this.checked,this.$.toggleButton.classList.add("dragging")},_trackMove:function(t){var e=t.dx;this._x=Math.min(this._width,Math.max(0,this._trackChecked?this._width+e:e)),this.translate3d(this._x+"px",0,0,this.$.toggleButton),this._userActivate(this._x>this._width/2)},_trackEnd:function(t){this.$.toggleButton.classList.remove("dragging"),this.transform("",this.$.toggleButton)}});
;!function(){"use strict";Polymer.IronA11yAnnouncer=Polymer({is:"iron-a11y-announcer",properties:{mode:{type:String,value:"polite"},_text:{type:String,value:""}},created:function(){Polymer.IronA11yAnnouncer.instance||(Polymer.IronA11yAnnouncer.instance=this),document.body.addEventListener("iron-announce",this._onIronAnnounce.bind(this))},announce:function(n){this._text="",this.async(function(){this._text=n},100)},_onIronAnnounce:function(n){n.detail&&n.detail.text&&this.announce(n.detail.text)}}),Polymer.IronA11yAnnouncer.instance=null,Polymer.IronA11yAnnouncer.requestAvailability=function(){Polymer.IronA11yAnnouncer.instance||(Polymer.IronA11yAnnouncer.instance=document.createElement("iron-a11y-announcer")),document.body.appendChild(Polymer.IronA11yAnnouncer.instance)}}();
;!function(){var t=Polymer({is:"paper-toast",properties:{duration:{type:Number,value:3e3},text:{type:String,value:""},visible:{type:Boolean,readOnly:!0,value:!1,observer:"_visibleChanged"}},created:function(){Polymer.IronA11yAnnouncer.requestAvailability()},ready:function(){this.async(function(){this.hide()})},show:function(){t.currentToast&&t.currentToast.hide(),t.currentToast=this,this.removeAttribute("aria-hidden"),this._setVisible(!0),this.fire("iron-announce",{text:this.text}),this.debounce("hide",this.hide,this.duration)},hide:function(){this.setAttribute("aria-hidden","true"),this._setVisible(!1)},toggle:function(){this.visible?this.hide():this.show()},_visibleChanged:function(t){this.toggleClass("paper-toast-open",t)}});t.currentToast=null}();
;!function(){Polymer({is:"iron-overlay-backdrop",properties:{opened:{readOnly:!0,reflectToAttribute:!0,type:Boolean,value:!1},_manager:{type:Object,value:Polymer.IronOverlayManager}},prepare:function(){this.parentNode||(Polymer.dom(document.body).appendChild(this),this.style.zIndex=this._manager.currentOverlayZ()-1)},open:function(){this._manager.getBackdrops().length<2&&this._setOpened(!0)},close:function(){this._manager.getBackdrops().length<2&&this._setOpened(!1)},complete:function(){0===this._manager.getBackdrops().length&&this.parentNode&&Polymer.dom(this.parentNode).removeChild(this)}})}();
;!function(){Polymer({is:"paper-dialog",behaviors:[Polymer.PaperDialogBehavior,Polymer.NeonAnimationRunnerBehavior],listeners:{"neon-animation-finish":"_onNeonAnimationFinish"},_renderOpened:function(){this.withBackdrop&&this.backdropElement.open(),this.playAnimation("entry")},_renderClosed:function(){this.withBackdrop&&this.backdropElement.close(),this.playAnimation("exit")},_onNeonAnimationFinish:function(){this.opened?this._finishRenderOpened():this._finishRenderClosed()}})}();
;Polymer({is:"paper-material",properties:{elevation:{type:Number,reflectToAttribute:!0,value:1},animated:{type:Boolean,reflectToAttribute:!0,value:!1}}});
;Polymer({is:"paper-button",behaviors:[Polymer.PaperButtonBehavior],properties:{raised:{type:Boolean,reflectToAttribute:!0,value:!1,observer:"_calculateElevation"}},_calculateElevation:function(){this.raised?Polymer.PaperButtonBehaviorImpl._calculateElevation.apply(this):this._elevation=0},_computeContentClass:function(e){var t="content ";return e&&(t+=" keyboard-focus"),t}});
;!function(){Polymer({is:"paper-input-container",properties:{noLabelFloat:{type:Boolean,value:!1},alwaysFloatLabel:{type:Boolean,value:!1},attrForValue:{type:String,value:"bind-value"},autoValidate:{type:Boolean,value:!1},invalid:{observer:"_invalidChanged",type:Boolean,value:!1},focused:{readOnly:!0,type:Boolean,value:!1,notify:!0},_addons:{type:Array},_inputHasContent:{type:Boolean,value:!1},_inputSelector:{type:String,value:"input,textarea,.paper-input-input"},_boundOnFocus:{type:Function,value:function(){return this._onFocus.bind(this)}},_boundOnBlur:{type:Function,value:function(){return this._onBlur.bind(this)}},_boundOnInput:{type:Function,value:function(){return this._onInput.bind(this)}},_boundValueChanged:{type:Function,value:function(){return this._onValueChanged.bind(this)}}},listeners:{"addon-attached":"_onAddonAttached","iron-input-validate":"_onIronInputValidate"},get _valueChangedEvent(){return this.attrForValue+"-changed"},get _propertyForValue(){return Polymer.CaseMap.dashToCamelCase(this.attrForValue)},get _inputElement(){return Polymer.dom(this).querySelector(this._inputSelector)},get _inputElementValue(){return this._inputElement[this._propertyForValue]||this._inputElement.value},ready:function(){this._addons||(this._addons=[]),this.addEventListener("focus",this._boundOnFocus,!0),this.addEventListener("blur",this._boundOnBlur,!0),this.attrForValue?this._inputElement.addEventListener(this._valueChangedEvent,this._boundValueChanged):this.addEventListener("input",this._onInput)},attached:function(){""!=this._inputElementValue?this._handleValueAndAutoValidate(this._inputElement):this._handleValue(this._inputElement)},_onAddonAttached:function(t){this._addons||(this._addons=[]);var n=t.target;-1===this._addons.indexOf(n)&&(this._addons.push(n),this.isAttached&&this._handleValue(this._inputElement))},_onFocus:function(){this._setFocused(!0)},_onBlur:function(){this._setFocused(!1),this._handleValueAndAutoValidate(this._inputElement)},_onInput:function(t){this._handleValueAndAutoValidate(t.target)},_onValueChanged:function(t){this._handleValueAndAutoValidate(t.target)},_handleValue:function(t){var n=this._inputElementValue;n||0===n||"number"===t.type&&!t.checkValidity()?this._inputHasContent=!0:this._inputHasContent=!1,this.updateAddons({inputElement:t,value:n,invalid:this.invalid})},_handleValueAndAutoValidate:function(t){if(this.autoValidate){var n;n=t.validate?t.validate(this._inputElementValue):t.checkValidity(),this.invalid=!n}this._handleValue(t)},_onIronInputValidate:function(t){this.invalid=this._inputElement.invalid},_invalidChanged:function(){this._addons&&this.updateAddons({invalid:this.invalid})},updateAddons:function(t){for(var n,e=0;n=this._addons[e];e++)n.update(t)},_computeInputContentClass:function(t,n,e,i,a){var u="input-content";if(t)a&&(u+=" label-is-hidden");else{var o=this.querySelector("label");n||a?(u+=" label-is-floating",i?u+=" is-invalid":e&&(u+=" label-is-highlighted"),this.$.prefix&&o&&o.offsetParent&&Polymer.dom(this.$.prefix).getDistributedNodes().length>0&&(o.style.left=-o.offsetParent.offsetLeft+"px")):o&&(o.style.left=0)}return u},_computeUnderlineClass:function(t,n){var e="underline";return n?e+=" is-invalid":t&&(e+=" is-highlighted"),e},_computeAddOnContentClass:function(t,n){var e="add-on-content";return n?e+=" is-invalid":t&&(e+=" is-highlighted"),e}})}();
;!function(){Polymer({is:"paper-input-error",behaviors:[Polymer.PaperInputAddonBehavior],properties:{invalid:{readOnly:!0,reflectToAttribute:!0,type:Boolean}},update:function(e){this._setInvalid(e.invalid)}})}();
;!function(){Polymer({is:"paper-input-char-counter",behaviors:[Polymer.PaperInputAddonBehavior],properties:{_charCounterStr:{type:String,value:"0"}},update:function(e){if(e.inputElement){e.value=e.value||"";var t=e.value.replace(/(\r\n|\n|\r)/g,"--").length;e.inputElement.hasAttribute("maxlength")&&(t+="/"+e.inputElement.getAttribute("maxlength")),this._charCounterStr=t}}})}();
;!function(){Polymer({is:"paper-input",behaviors:[Polymer.IronFormElementBehavior,Polymer.PaperInputBehavior,Polymer.IronControlState]})}();
;Polymer({is:"iron-autogrow-textarea",behaviors:[Polymer.IronFormElementBehavior,Polymer.IronValidatableBehavior,Polymer.IronControlState],properties:{bindValue:{observer:"_bindValueChanged",type:String},rows:{type:Number,value:1,observer:"_updateCached"},maxRows:{type:Number,value:0,observer:"_updateCached"},autocomplete:{type:String,value:"off"},autofocus:{type:Boolean,value:!1},inputmode:{type:String},name:{type:String},value:{notify:!0,type:String,computed:"_computeValue(bindValue)"},placeholder:{type:String},readonly:{type:String},required:{type:Boolean},maxlength:{type:Number}},listeners:{input:"_onInput"},get textarea(){return this.$.textarea},validate:function(){if(!this.required&&""==this.value)return this.invalid=!1,!0;var e;return this.hasValidator()?e=Polymer.IronValidatableBehavior.validate.call(this,this.value):(e=this.$.textarea.validity.valid,this.invalid=!e),this.fire("iron-input-validate"),e},_update:function(){this.$.mirror.innerHTML=this._valueForMirror();var e=this.textarea;e&&this.bindValue!=e.value&&(this.bindValue=e.value)},_bindValueChanged:function(){var e=this.textarea;e&&(e.value=this.bindValue,this._update(),this.fire("bind-value-changed",{value:this.bindValue}))},_onInput:function(e){this.bindValue=e.path?e.path[0].value:e.target.value,this._update()},_constrain:function(e){var t;for(e=e||[""],t=this.maxRows>0&&e.length>this.maxRows?e.slice(0,this.maxRows):e.slice(0);this.rows>0&&t.length<this.rows;)t.push("");return t.join("<br>")+"&nbsp;"},_valueForMirror:function(){var e=this.textarea;if(e)return this.tokens=e&&e.value?e.value.replace(/&/gm,"&amp;").replace(/"/gm,"&quot;").replace(/'/gm,"&#39;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").split("\n"):[""],this._constrain(this.tokens)},_updateCached:function(){this.$.mirror.innerHTML=this._constrain(this.tokens)},_computeValue:function(){return this.bindValue}});
;!function(){Polymer({is:"paper-textarea",behaviors:[Polymer.PaperInputBehavior],properties:{_ariaLabelledBy:{observer:"_ariaLabelledByChanged",type:String},_ariaDescribedBy:{observer:"_ariaDescribedByChanged",type:String},rows:{type:Number,value:1},maxRows:{type:Number,value:0}},_ariaLabelledByChanged:function(e){this.$.input.textarea.setAttribute("aria-labelledby",e)},_ariaDescribedByChanged:function(e){this.$.input.textarea.setAttribute("aria-describedby",e)}})}();
;Polymer({is:"paper-progress",behaviors:[Polymer.IronRangeBehavior],properties:{secondaryProgress:{type:Number,value:0,notify:!0},secondaryRatio:{type:Number,value:0,readOnly:!0,observer:"_secondaryRatioChanged"},indeterminate:{type:Boolean,value:!1,notify:!0,observer:"_toggleIndeterminate"}},observers:["_ratioChanged(ratio)","_secondaryProgressChanged(secondaryProgress, min, max)"],_toggleIndeterminate:function(){this.toggleClass("indeterminate",this.indeterminate,this.$.activeProgress),this.toggleClass("indeterminate",this.indeterminate,this.$.indeterminateSplitter)},_transformProgress:function(e,r){var s="scaleX("+r/100+")";e.style.transform=e.style.webkitTransform=s},_ratioChanged:function(e){this._transformProgress(this.$.activeProgress,e)},_secondaryRatioChanged:function(e){this._transformProgress(this.$.secondaryProgress,e)},_secondaryProgressChanged:function(){this.secondaryProgress=this._clampValue(this.secondaryProgress),this._setSecondaryRatio(100*this._calcRatio(this.secondaryProgress))}});
;!function(){"use strict";Polymer({is:"iron-dropdown",behaviors:[Polymer.IronControlState,Polymer.IronA11yKeysBehavior,Polymer.IronOverlayBehavior,Polymer.NeonAnimationRunnerBehavior],properties:{horizontalAlign:{type:String,value:"left",reflectToAttribute:!0},verticalAlign:{type:String,value:"top",reflectToAttribute:!0},horizontalOffset:{type:Number,value:0,notify:!0},verticalOffset:{type:Number,value:0,notify:!0},positionTarget:{type:Object,observer:"_positionTargetChanged"},openAnimationConfig:{type:Object},closeAnimationConfig:{type:Object},focusTarget:{type:Object},noAnimations:{type:Boolean,value:!1},_positionRectMemo:{type:Object}},listeners:{"neon-animation-finish":"_onNeonAnimationFinish"},observers:["_updateOverlayPosition(verticalAlign, horizontalAlign, verticalOffset, horizontalOffset)"],attached:function(){void 0===this.positionTarget&&(this.positionTarget=this._defaultPositionTarget)},get containedElement(){return Polymer.dom(this.$.content).getDistributedNodes()[0]},get _focusTarget(){return this.focusTarget||this.containedElement},get _defaultPositionTarget(){var t=Polymer.dom(this).parentNode;return t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(t=t.host),t},get _positionRect(){return!this._positionRectMemo&&this.positionTarget&&(this._positionRectMemo=this.positionTarget.getBoundingClientRect()),this._positionRectMemo},get _horizontalAlignTargetValue(){var t;return t="right"===this.horizontalAlign?document.documentElement.clientWidth-this._positionRect.right:this._positionRect.left,t+=this.horizontalOffset,Math.max(t,0)},get _verticalAlignTargetValue(){var t;return t="bottom"===this.verticalAlign?document.documentElement.clientHeight-this._positionRect.bottom:this._positionRect.top,t+=this.verticalOffset,Math.max(t,0)},_openedChanged:function(t){t&&this.disabled?this.cancel():(this.cancelAnimation(),this._prepareDropdown(),Polymer.IronOverlayBehaviorImpl._openedChanged.apply(this,arguments)),this.opened&&this._focusContent()},_renderOpened:function(){Polymer.IronDropdownScrollManager.pushScrollLock(this),!this.noAnimations&&this.animationConfig&&this.animationConfig.open?(this.$.contentWrapper.classList.add("animating"),this.playAnimation("open")):Polymer.IronOverlayBehaviorImpl._renderOpened.apply(this,arguments)},_renderClosed:function(){Polymer.IronDropdownScrollManager.removeScrollLock(this),!this.noAnimations&&this.animationConfig&&this.animationConfig.close?(this.$.contentWrapper.classList.add("animating"),this.playAnimation("close")):Polymer.IronOverlayBehaviorImpl._renderClosed.apply(this,arguments)},_onNeonAnimationFinish:function(){this.$.contentWrapper.classList.remove("animating"),this.opened?Polymer.IronOverlayBehaviorImpl._renderOpened.apply(this):Polymer.IronOverlayBehaviorImpl._renderClosed.apply(this)},_onIronResize:function(){var t,i,e=this.containedElement;e&&(t=e.scrollTop,i=e.scrollLeft),this.opened&&this._updateOverlayPosition(),Polymer.IronOverlayBehaviorImpl._onIronResize.apply(this,arguments),e&&(e.scrollTop=t,e.scrollLeft=i)},_positionTargetChanged:function(){this._updateOverlayPosition()},_updateAnimationConfig:function(){var t={},i=[];this.openAnimationConfig&&(t.open=[{name:"opaque-animation"}].concat(this.openAnimationConfig),i=i.concat(t.open)),this.closeAnimationConfig&&(t.close=this.closeAnimationConfig,i=i.concat(t.close)),i.forEach(function(t){t.node=this.containedElement},this),this.animationConfig=t},_prepareDropdown:function(){this.sizingTarget=this.containedElement||this.sizingTarget,this._updateAnimationConfig(),this._updateOverlayPosition()},_updateOverlayPosition:function(){this._positionRectMemo=null,this.positionTarget&&(this.style[this.horizontalAlign]=this._horizontalAlignTargetValue+"px",this.style[this.verticalAlign]=this._verticalAlignTargetValue+"px",this._fitInfo&&(this._fitInfo.inlineStyle[this.horizontalAlign]=this.style[this.horizontalAlign],this._fitInfo.inlineStyle[this.verticalAlign]=this.style[this.verticalAlign]))},_focusContent:function(){this.async(function(){this._focusTarget&&this._focusTarget.focus()})}})}();
;!function(){"use strict";var e=Polymer({is:"paper-menu-button",behaviors:[Polymer.IronA11yKeysBehavior,Polymer.IronControlState],properties:{opened:{type:Boolean,value:!1,notify:!0,observer:"_openedChanged"},horizontalAlign:{type:String,value:"left",reflectToAttribute:!0},verticalAlign:{type:String,value:"top",reflectToAttribute:!0},horizontalOffset:{type:Number,value:0,notify:!0},verticalOffset:{type:Number,value:0,notify:!0},noAnimations:{type:Boolean,value:!1},ignoreSelect:{type:Boolean,value:!1},openAnimationConfig:{type:Object,value:function(){return[{name:"fade-in-animation",timing:{delay:100,duration:200}},{name:"paper-menu-grow-width-animation",timing:{delay:100,duration:150,easing:e.ANIMATION_CUBIC_BEZIER}},{name:"paper-menu-grow-height-animation",timing:{delay:100,duration:275,easing:e.ANIMATION_CUBIC_BEZIER}}]}},closeAnimationConfig:{type:Object,value:function(){return[{name:"fade-out-animation",timing:{duration:150}},{name:"paper-menu-shrink-width-animation",timing:{delay:100,duration:50,easing:e.ANIMATION_CUBIC_BEZIER}},{name:"paper-menu-shrink-height-animation",timing:{duration:200,easing:"ease-in"}}]}},_dropdownContent:{type:Object}},hostAttributes:{role:"group","aria-haspopup":"true"},listeners:{"iron-select":"_onIronSelect"},get contentElement(){return Polymer.dom(this.$.content).getDistributedNodes()[0]},open:function(){this.disabled||this.$.dropdown.open()},close:function(){this.$.dropdown.close()},_onIronSelect:function(e){this.ignoreSelect||this.close()},_openedChanged:function(e,n){e?(this._dropdownContent=this.contentElement,this.fire("paper-dropdown-open")):null!=n&&this.fire("paper-dropdown-close")},_disabledChanged:function(e){Polymer.IronControlState._disabledChanged.apply(this,arguments),e&&this.opened&&this.close()}});e.ANIMATION_CUBIC_BEZIER="cubic-bezier(.3,.95,.5,1)",e.MAX_ANIMATION_TIME_MS=400,Polymer.PaperMenuButton=e}();
;!function(){"use strict";Polymer({is:"paper-dropdown-menu",behaviors:[Polymer.IronControlState,Polymer.IronButtonState],properties:{selectedItemLabel:{type:String,notify:!0,computed:"_computeSelectedItemLabel(selectedItem)"},selectedItem:{type:Object,notify:!0,readOnly:!0},label:{type:String},placeholder:{type:String},opened:{type:Boolean,notify:!0,value:!1},noLabelFloat:{type:Boolean,value:!1,reflectToAttribute:!0},alwaysFloatLabel:{type:Boolean,value:!1},noAnimations:{type:Boolean,value:!1}},listeners:{tap:"_onTap"},keyBindings:{"up down":"open",esc:"close"},hostAttributes:{role:"group","aria-haspopup":"true"},attached:function(){var e=this.contentElement;e&&e.selectedItem&&this._setSelectedItem(e.selectedItem)},get contentElement(){return Polymer.dom(this.$.content).getDistributedNodes()[0]},open:function(){this.$.menuButton.open()},close:function(){this.$.menuButton.close()},_onIronSelect:function(e){this._setSelectedItem(e.detail.item)},_onTap:function(e){Polymer.Gestures.findOriginalTarget(e)===this&&this.open()},_computeSelectedItemLabel:function(e){return e?e.label||e.textContent.trim():""},_computeMenuVerticalOffset:function(e){return e?-4:16}})}();
;!function(){Polymer({is:"paper-menu",behaviors:[Polymer.IronMenuBehavior]})}();
;!function(){Polymer({is:"paper-item",hostAttributes:{role:"listitem"}})}();
;!function(){Polymer({is:"word-service",behaviors:[TinavgBehavior],properties:{warray:{type:Array,value:function(){return[]}},jsonUrl:{type:String,value:""}},listeners:{"game-lang-changed":"changeJsonUrl"},attached:function(){var t=this.gameLang;this.jsonUrl=this.createJsonUrl(t)},ready:function(){this.wordBoard=document.getElementById("wboard"),this.letterList=document.getElementById("lettergrid")},changeJsonUrl:function(){var t=this.gameLang;this.jsonUrl=this.createJsonUrl(t),this.wordBoard&&this.wordBoard.wordArray[t]?(this.letterList.setWord=!1,this.async(function(){this.spoofLoad()},100)):this.jsonUrl.length>0&&this.$.wajax.generateRequest()},createJsonUrl:function(t){return void 0==t?"":"/api/"+t+"/words-stpacc.json"},requestSent:function(t){this.letterList||(this.letterList=document.getElementById("lettergrid")),this.wordBoard||(this.wordBoard=document.getElementById("wboard")),this.letterList.setWord=!1},wordsLoaded:function(){var t=null!=this.$.wajax.lastResponse?!0:!1;if(t){this.letterList&&(this.letterList.setWord=!0);var e=this.$.wajax.lastResponse;this.warray=e,this.fire("new-words")}},spoofLoad:function(){this.letterList.setWord=!0,this.fire("new-words")}})}();
;!function(){Polymer({is:"word-board",behaviors:[TinavgBehavior],properties:{wordAudio:{type:String},myWord:{type:String,value:"",notify:!0},wordArray:{type:Object,notify:!0,value:function(){return{}}},ranWordIndex:{type:Number},phraseArray:{type:Array,value:function(){return[]}},phraseIndex:{type:Number,value:0},useSynth:{type:Boolean,value:!1},earmodus:{type:Boolean,notify:!0}},listeners:{"new-words":"setWords","game-lang-changed":"changeLanguage","earmodus-changed":"hideWord",tap:"tapWord"},created:function(){"speechSynthesis"in window&&window.speechSynthesis.getVoices()},attached:function(){this.hideWord()},init:function(){this.jumbotronBox=document.querySelector("jumbotron-text"),this.scoreBox=document.getElementById("score-board-player-1"),this.letterListBox=document.querySelector("letter-list"),this.wordBoardWord=document.getElementById("word-board-word"),this.myWordSpan=document.getElementById("my_word");var r=this.wordBoardWord;this.$.word_aud_elem.onended=function(){r.classList.remove("flip-text")}},enableSynth:function(){"speechSynthesis"in window&&(this.useSynth=!0,this.voices=window.speechSynthesis.getVoices())},changeLanguage:function(){this.phraseArray=[],this.phraseIndex=0},setPhraseArray:function(r,e,t){t||(t=this.letterListBox.stripDiacritics?"ohne":"word"),this.phraseArray=[],this.wordArray[r].words[e].grammar&&"phrase"===this.wordArray[r].words[e].grammar.type?this.phraseArray=this.wordArray[r].words[e][t].split(" "):this.phraseArray[0]=this.wordArray[r].words[e][t]},wordFilter:function(r,e){if(this.letterListBox||this.init(),r||(r=this.gameLang),e||(e=this.wordArray[r]&&this.wordArray[r].words?Math.floor(Math.random()*this.wordArray[r].words.length):0),this.phraseIndex++,Object.keys(this.wordArray).length>0&&this.wordArray[r]){if(void 0===this.phraseArray[this.phraseIndex]){if(void 0!==this.ranWordIndex)for(var t=0;this.ranWordIndex===e&&(e=Math.floor(Math.random()*this.wordArray[r].words.length),!(t>20));t++);this.ranWordIndex=e,this.phraseIndex=0}else void 0;if(void 0!==this.wordArray&&void 0!==r&&void 0!==e&&null!==this.wordArray[r].words[e]&&"object"==typeof this.wordArray[r].words[e].grammar){this.wordBoardWord.className="",this.myWordSpan.className="";var s=[];s=void 0===this.wordArray[r].words[e].grammar.segments?this.setGrammarStyles(this.wordArray[r].words[e].grammar):this.setGrammarStyles(this.wordArray[r].words[e].grammar.segments[this.phraseIndex]),s.forEach(function(r){this.wordBoardWord.classList.add(r)}.bind(this))}else this.wordBoardWord.className="",this.myWordSpan.className="",this.wordBoardWord.classList.add("word-board");this.setDisplayWord(),this.letterListBox.setWord=!0,this.letterListBox.runLetters(),(this.myWordSpan.classList.contains("invisible-text")||"(^_^)"===this.jumbotronBox.usertext)&&this.$.word_aud_elem.play()}},getCheckWord:function(r,e){if(r||(r=this.gameLang),e||(e=this.ranWordIndex),void 0!==this.wordArray[r]&&void 0!==this.wordArray[r].words&&void 0!==e&&0!==this.wordArray[r].words.length){var t=this.letterListBox.stripDiacritics?"ohne":"word",s=[];return this.wordArray[r].words[e].grammar&&"phrase"===this.wordArray[r].words[e].grammar.type?s=this.wordArray[r].words[e][t].split(" "):s[0]=this.wordArray[r].words[e][t],this.phraseIndex>=s.length&&(void 0,void 0,void 0,this.phraseIndex=0,this.fire("set-words")),s[this.phraseIndex]}return void void 0},getWordObj:function(r,e){return r||(r=this.gameLang),e||(e=this.ranWordIndex),this.wordArray[r].words[e]},setDisplayWord:function(r,e){if(r||(r=this.gameLang),e||(e=this.ranWordIndex),this.letterListBox||(this.letterListBox=document.querySelector("letter-list")),this.wordArray[r]){this.letterListBox.stripDiacritics?"ohne":"word";this.setPhraseArray(r,e),this.myWord=this.phraseArray[this.phraseIndex],this.wordAudio=this.produceWordAudioUrl(this.phraseArray[this.phraseIndex].toLowerCase(),r),this.jumbotronBox.zielWort=this.phraseArray[this.phraseIndex]}else void 0,void 0},setWords:function(r,e){if("string"!=typeof e&&(e=this.gameLang),this.wordBoardWord||this.init(),this.wordArray.hasOwnProperty(e))void 0;else{var t=this.$.wservice.warray;if(0!==t.length){var s=t.lang.code;e!==s&&void 0,this.wordArray[s]=t}}this.wordFilter()},revealWord:function(r,e){r||(r=this.gameLang),e||(e=this.ranWordIndex);var t,s=1500,o=this.letterListBox.stripDiacritics?"ohne":"word";t="ko"===this.gameLang?window.Hangul.disassemble(this.wordArray[r].words[e][o].toLowerCase()).join(""):this.wordArray[r].words[e][o].toLowerCase(),t.split("").forEach(function(r,e){setTimeout(function(){var e=document.querySelector('letter-card[letter="'+r+'"]');e.firePaperRipple(!0)},s*(e+.5))}),setTimeout(function(){this.playAudio()}.bind(this),s*(t.length+.5))},hideWord:function(){void 0!==this.$.my_word&&(this.earmodus?this.$.my_word.style.color="rgba(0,0,0,0.0)":this.$.my_word.style.color="")},produceWordAudioUrl:function(r,e){return this.useSynth=!1,"/assets/audio/"+e+"/words/"+r.replace("?","_")+".m4a"},tapWord:function(r){this.wordBoardWord.classList.add("flip-text"),this.$.word_aud_elem.paused&&r&&this.scoreBox.audioPlayPts(),this.playAudio(!0)},playAudio:function(r){this.useSynth?this.playSynVoice(this.gameLang,this.myWord,.75,r):(this.$.word_aud_elem.paused||(this.$.word_aud_elem.pause(),this.$.word_aud_elem.currentTime=this.$.word_aud_elem.currentTime/3),this.$.word_aud_elem.play())},playSynVoice:function(r,e,t,s){if("speechSynthesis"in window){var o=new SpeechSynthesisUtterance;this.checkSynthVoices(r)?(o.onend=function(r){document.getElementById("word-board-word").classList.remove("flip-text")},o.lang=r,o.text=e,o.rate=t,window.speechSynthesis.speak(o)):s&&(o.onend=function(r){document.getElementById("word-board-word").classList.remove("flip-text")},o.lang="en",o.text="Oops, no audio for this word.",window.speechSynthesis.speak(o))}},checkSynthVoices:function(r){for(var e=0;e<this.voices.length;e++)if(this.voices[e].lang.match("^"+r))return!0;return!1},setGrammarStyles:function(r){var e=[];this.wordBoardWord;if(e.push("word-board"),!r)return e;if(void 0!==r.partofs)switch(r.partofs){case"adjective":case"adverb":e.push("word-board-adj-adv");break;case"verb":e.push("word-board-verb");break;case"noun":}if(r.number)switch(r.number){case"plural":e.push("word-board-plural");break;case"singular":}if(r.gender)switch(r.gender){case"male":e.push("word-board-male");break;case"female":e.push("word-board-female");break;case"neuter":e.push("word-board-neuter")}return void 0,e}})}();
;!function(){Polymer({is:"score-board",properties:{score:{type:Number,value:0},streak:{type:Number,value:0},lastBucket:{type:String,notify:!0},player:{type:Number,value:1},correctPts:{type:Number,value:100},audioPts:{type:Number,value:5},incorrectPts:{type:Number,value:30},selfRecMult:{type:Number,value:2.5},learnmodus:{type:Boolean,value:!1},recordmodus:{type:Boolean,value:!1}},listeners:{"last-bucket-changed":"updateScoreBoard"},created:function(){},init:function(){this.starIcon=Polymer.dom(this.root).querySelector("iron-icon"),this.clueShow=document.getElementById("clueshow"),this.wordBoardBox=document.querySelector("word-board")},updateStreak:function(t){t?this.streak>=0?this.streak++:this.streak=1:this.streak<=0?this.streak--:this.streak=-1,this.streak<=-3&&this.helpPlayer()},updateScoreBoard:function(){this.wordBoardBox||this.init(),void 0===(this.lastBucket||this.wordBoardBox.getCheckWord())?(void 0,void 0):-1===["","_____"].indexOf(this.lastBucket)&&(void 0,this.learnmodus&&"(^_^)"===this.lastBucket?(this.recordmodus&&this.givePts(),this.resetStar(),this.wordBoardBox.wordFilter(),document.getElementById("clueshow").classList.contains("glow-yellow")&&document.getElementById("clueshow").classList.remove("glow-yellow")):this.lastBucket.toLowerCase()===this.wordBoardBox.getCheckWord().toLowerCase()?(this.givePts(),this.updateStreak(!0),this.resetStar(),this.wordBoardBox.wordFilter(),document.getElementById("clueshow").classList.contains("glow-yellow")&&document.getElementById("clueshow").classList.remove("glow-yellow")):(this.updateStreak(!1),this.learnmodus||(this.score-=this.incorrectPts)))},givePts:function(){"green"===this.starIcon.style.color?this.score+=this.correctPts*this.selfRecMult:this.score+=this.correctPts},resetStar:function(){"white"!==this.starIcon.style.color&&(this.starIcon.style.color="white")},helpPlayer:function(){this.clueShow.classList.add("glow-yellow")},audioPlayPts:function(){this.score=this.score+this.audioPts}})}();
;!function(){var t;Polymer({is:"jumbotron-text",properties:{scoreArray:{type:Array,value:function(){return[]}},usertext:{type:String},lastBucket:{type:String,notify:!0},zielWort:{type:String,value:"_____"},tabindex:{type:Number,reflectToAttribute:!0},learnmodus:{type:Boolean,reflectToAttribute:!0}},listeners:{tap:"handleClick","last-bucket-changed":"updateJumbotron"},init:function(){this.scoreBox=document.getElementById("score-board-player-1"),this.wordBoard=document.querySelector("word-board"),this.first=!0},handleClick:function(){this.lastBucket="!!!",this.fire("checking-word",{letter:"!!!"})},updateJumbotron:function(){if(this.wordBoard||this.init(),this.wordBoard.myWord.charAt(0)===this.wordBoard.myWord.charAt(0).toUpperCase()?this.$.jtext.classList.add("capitalize"):this.$.jtext.classList.contains("capitalize")&&this.$.jtext.classList.remove("capitalize"),this.learnmodus&&"!!!"===this.lastBucket)this.scoreBox.lastBucket=this.usertext,this.resetBox();else if("!!!"==this.lastBucket||this.lastBucket.length>2)this.scoreBox.lastBucket=this.usertext,this.resetBox();else if(""!==this.lastBucket){var e=this.wordBoard.getCheckWord().toLowerCase();this.$.jtext.hasAttribute("raised")||this.$.jtext.setAttribute("raised",!0),"ko"===this.wordBoard.gameLang?this.scoreArray.length>=window.Hangul.disassemble(this.zielWort).join("").length+2&&this.scoreArray.shift():this.scoreArray.length>=this.zielWort.length+2&&this.scoreArray.shift(),window.clearTimeout(t),this.scoreArray.push(this.lastBucket),"ko"===this.wordBoard.gameLang?(this.usertext=window.Hangul.assemble(this.scoreArray.join("")),e=window.Hangul.disassemble(e)):(this.usertext=this.scoreArray.join(""),e=e.split("")),JSON.stringify(e.slice(0,this.scoreArray.length))===JSON.stringify(this.scoreArray)?this.fire("word-percent-correct",{progress:this.scoreArray.length/e.length*100,secondary:0}):this.fire("word-percent-correct",{progress:0,secondary:100}),this.usertext.toLowerCase()===this.wordBoard.getCheckWord().toLowerCase()?t=setTimeout(function(){this.first?this.wordBoard.tapWord(!1):this.wordBoard.playAudio(!1),this.first=!1,this.$.jtext.querySelector("paper-material").setAttribute("elevation",4)}.bind(this),700):this.$.jtext.querySelector("paper-material").setAttribute("elevation",1),this.lastBucket=""}},forceLearnmodus:function(t){this.learnmodus=t,this.usertext=this.learnmodus?"(^_^)":"_____"},resetBox:function(){this.scoreArray=[],this.usertext=this.learnmodus?"(^_^)":"_____",this.lastBucket="",this.scoreBox.lastBucket="",this.$.jtext.removeAttribute("raised"),this.$.jtext.classList.remove("to-foreground"),this.fire("word-percent-correct",{progress:0,secondary:0})}})}();
;!function(){function e(){return c&&n||(c=document.getElementById("score-board-player-1").querySelector("iron-icon"),n=document.getElementById("recorderInit")),void 0===d?(d=new p5.AudioIn,d.start(),i=new p5.SoundRecorder,i.setInput(d),o(),c.style.color="yellow",n.classList.add("recording-on"),!0):l.isLoaded()?(void 0,o(),"green"!=c.style.color&&(c.style.color="yellow"),n.classList.add("recording-on"),!0):(clearTimeout(s),r(),!1)}function o(){l=new p5.SoundFile,i.record(l),s=setTimeout(function(){r(),void 0},a)}function r(){i?i.stop():void 0,n.classList.remove("recording-on")}function t(){return void 0!==d?("yellow"==c.style.color&&(c.style.color="green"),l.isLoaded()?(l.play(),!1):(r(),l.play(),!0)):void 0}Polymer({is:"word-recorder",properties:{},init:function(){},makeRecording:function(){e()},playRecording:function(){t(),"rotateY(360deg)"===this.$.recorderPlay.style.transform?this.$.recorderPlay.style.transform="rotateY(0deg)":this.$.recorderPlay.style.transform="rotateY(360deg)"}});var n,c,d,i,l,s,a=15e3}();
;!function(){Polymer({is:"letter-card",behaviors:[TinavgBehavior],properties:{letter:{type:String,reflectToAttribute:!0},uid:{type:String,reflectToAttribute:!0},canOpus:{type:Boolean,value:!1},regular:{type:Boolean,value:!0},aacAudio:{type:String},hidden:{type:Boolean,notify:!0},tabindex:{type:Number,reflectToAttribute:!0,value:0},useSynth:{type:Boolean,value:!1}},listeners:{tap:"handleClick"},ready:function(){this.$.letteraudio.addEventListener("error",function(e){this.src="/assets/audio/sfx/druck1.ogg"})},enableSynth:function(e){"speechSynthesis"in window&&(this.useSynth=!0)},handleClick:function(e){if(this.fire("letter-card-tapped",{letter:this.letter}),this.$.letteraudio.paused||(this.$.letteraudio.pause(),this.$.letteraudio.currentTime=this.$.letteraudio.currentTime/3),this.$.letteraudio.play(),this.useSynth);else;},handlePulse:function(e){void 0,void 0},handleRelease:function(e){void 0,void 0},firePaperRipple:function(e){this.$.letterpr.downAction(),this.$.letterpr.upAction(),e&&this.$.letteraudio.play()},computeAacAudio:function(e,t){return this.useSynth=!1," "===e||void 0===t?"":"/assets/audio/"+t+"/"+e+".m4a"}})}();
;!function(){Polymer({is:"letter-service",behaviors:[TinavgBehavior],properties:{lobj:{type:Object,notify:!0,value:function(){return{}}},jsonUrl:{type:String,value:""}},listeners:{"game-lang-changed":"changeJsonUrl"},attached:function(){var t=this.gameLang;t&&(this.jsonUrl=this.createJsonUrl(t))},changeJsonUrl:function(){var t=this.gameLang;this.jsonUrl=this.createJsonUrl(t),this.letterListBox&&this.letterListBox.allLettersList[t]?(this.letterListBox.setLetters=!1,this.async(function(){this.spoofLoad()},150)):this.jsonUrl.length>0&&this.$.ajax.generateRequest()},createJsonUrl:function(t){return void 0==t?"":"/api/"+t+"/letters.json"},lettersRequest:function(){this.letterListBox||(this.letterListBox=document.querySelector("letter-list")),this.letterListBox.setLetters=!1},lettersLoaded:function(){var t=null!=this.$.ajax.lastResponse?!0:!1;if(t){var e=this.$.ajax.lastResponse;this.lobj=e,this.fire("new-letters"),this.letterListBox.setLetters=!0}},spoofLoad:function(){this.fire("new-letters"),this.letterListBox.setLetters=!0}})}();
;!function(){function t(t){if(r=1,t instanceof Array){for(var e,i,s=t.length;0!==s;)i=Math.floor(Math.random()*s),s-=1,e=t[s],t[s]=t[i],t[i]=e;return t}return void 0,t}function e(t,e){return"!!!"===t.letter||void 0===e?"":"/assets/audio/"+e+"/"+t.letter+".m4a"}function i(t){return t.index=r,r++,t}function s(t){for(var e=t.split(/([\uD800-\uDBFF][\uDC00-\uDFFF])/),i=[],s=0;s<e.length;s++){var r=e[s];""!==r&&i.push(r)}return i.length}Polymer({is:"letter-list",behaviors:[TinavgBehavior],properties:{limit:{type:Number,value:12},letterList:{type:Array,notify:!0,value:function(){return[]}},allLettersList:{type:Object,notify:!0,value:function(){return{}}},setWord:{type:Boolean,value:!1,notify:!0},setLetters:{type:Boolean,value:!1,notify:!0},stripDiacritics:{type:Boolean,value:!0},pageRevealed:{type:Boolean,value:!1},itemIndex:{type:Number}},listeners:{"new-letters":"onNewLetters","set-letters-changed":"runLetters","set-word-changed":"runLetters"},created:function(){},ready:function(){},addIndex:function(t){return i(t)},init:function(){this.wordBoardBox=document.querySelector("word-board")},runLetters:function(t){this.wordBoardWord||this.init(),this.setWord&&this.setLetters?(this.runNewLetters(),this.setWord=!1):this.setWord&&this.onNewWord()},filterResults:function(t){if(0===Object.keys(t).length)void 0;else{var i=t.lang.code;this.gameLang=i,t.alphabet.forEach(function(t,s,r){r[s].audio=e(t,i),r[s].hidden=!1})}return t},onNewLetters:function(){var t=this.gameLang;if(!this.allLettersList[t]){var e=this.filterResults(this.$.lservice.lobj),i=e.lang.code;this.allLettersList[i]=e}this.allLettersList[t]?(this.stripDiacritics=this.allLettersList[t].lang.stripDiacritics,this.fire("stripdia-set",{stripdia:this.stripDiacritics}),this.setLetters=!0):(void 0,void 0)},runNewLetters:function(){void 0!==this.wordBoardBox.getCheckWord()?(void 0,this.fire("ready-set-go",!0),this.shuffleLetters(this.wordBoardBox.getCheckWord().toLowerCase(),this.limit)):void 0},onNewWord:function(){var t=this.gameLang,e=this.wordBoardBox.getCheckWord();void 0!==e&&0!==e.length&&(e=e.toLowerCase(),void 0,this.setWord=!0,Object.keys(this.allLettersList).length>0&&this.allLettersList[t]&&this.setLetters?this.shuffleLetters(e,this.limit):void 0)},shuffleLetters:function(e,i){var r=this.gameLang;"ko"===r&&(e=window.Hangul.disassemble(e).join("")),this.pageRevealed||(document.querySelector("[unresolved]")&&(this.pageRevealed=!0),this.init()),this.itemIndex=1;var o=[],n=i;n-="emoji"===r?s(e):e.split("").filter(function(t,e,i){return i.indexOf(t)===e}).length,t(this.allLettersList[r].alphabet),this.allLettersList[r].alphabet.forEach(function(t,i){"!!!"===t.letter||void 0===t.letter||(e.indexOf(t.letter)>-1?(t.hidden=!1,o.push(t)):n>0&&t.regular!==!1?(t.hidden=!1,o.push(t),n--):t.hidden=!0)}),o.length<i&&(void 0,void 0,void 0,void 0),this.letterList=t(o)},getLangHelpInfo:function(){return this.allLettersList[this.gameLang].lang.langHelpInfo}});var r}();
;!function(){Polymer({is:"lang-flag",behaviors:[TinavgBehavior],properties:{langs:{type:Array,value:function(){return[]}}},listeners:{"game-lang-changed":"switchLanguage"},handleClick:function(a){},ready:function(){this.isReady=!0,this.abbrevs=[];for(var a=0;a<this.langs.length;a++)this.abbrevs.push(this.langs[a].abbrev)},switchLanguage:function(){if(void 0,this.isReady&&null!==this.gameLang){var a=0;this.$.flag_icon.style.background="url(/assets/images/"+this.gameLang+".png) center center no-repeat",this.$.flag_icon.style.backgroundSize="contain",this.fire("reset-jumbotron",!0),a=360*(this.abbrevs.indexOf(this.gameLang)+1),this.async(function(){this.$.flag_icon.style.transform="rotateY("+a+"deg)"})}}})}();
;function _getFirebaseName(e){switch(e.provider){case"password":return e.password.email.replace(/@.*/,"");case"twitter":return e.twitter.displayName;case"facebook":return e.facebook.displayName}}function _findWithAttr(e,t,n){for(var i=0;i<e.length;i+=1)if(e[i][t]===n)return i;return-1}Polymer({is:"tinavg-webapp",behaviors:[TinavgBehavior],properties:{languageList:{type:Array,value:function(){return[{abbrev:"de",fullname:"German"},{abbrev:"en",fullname:"English"},{abbrev:"en-US-south",fullname:"English (US South)"},{abbrev:"ar",fullname:"Arabic"},{abbrev:"ko",fullname:"Korean"},{abbrev:"ru",fullname:"Russian"},{abbrev:"he",fullname:"Hebrew"},{abbrev:"fr",fullname:"French"}]}},nerdSpracheList:{type:Array,value:function(){return[{abbrev:"disable",fullname:"None"},{abbrev:"de",fullname:"German"},{abbrev:"en",fullname:"English"},{abbrev:"ar",fullname:"Arabic"},{abbrev:"ko",fullname:"Korean"},{abbrev:"ru",fullname:"Russian"},{abbrev:"he",fullname:"Hebrew"},{abbrev:"fr",fullname:"French"},{abbrev:"tr",fullname:"Turkish"}]}},letterLimit:{type:Number,value:12},learnmodus:{type:Boolean},recordmodus:{type:Boolean},nerdmodus:{type:Boolean},earmodus:{type:Boolean},nerdSprache:{type:String},user:{type:Object,notify:!0}},listeners:{"set-default-options":"setDefaults","iron-select":"showMenuPanel","letter-card-tapped":"letterTapped","stripdia-set":"setWBoardDisplay","ready-set-go":"lettersSet","checking-word":"fbLetterSeq","word-percent-correct":"wordPercentCorrect","service-worker-installed":"confirmSWInstall","service-worker-error":"swError"},observers:[],ready:function(){localStorage["tinavg-lastvisit"]=new Date,this.selected||(this.selected=0),this.firebaseLogin(),Mousetrap.bind("shift+enter",function(){this.$.jt.click()}.bind(this)),Mousetrap.bind("enter",function(){document.activeElement.click(),"function"==typeof document.activeElement.firePaperRipple&&document.activeElement.firePaperRipple(!1)}),Mousetrap.bind("shift+p",function(){this.$.wboard.tapWord(!1)}.bind(this)),Mousetrap.bind("shift+l",function(){this.$.switchModusIcon.click()}.bind(this)),Mousetrap.bind("left",function(){this.lastTabIndex;this.lastTabIndex=document.activeElement.tabIndex;var e=-1===document.activeElement.tabIndex?this.letterLimit:document.activeElement.tabIndex-1>0?document.activeElement.tabIndex-1:this.letterLimit;document.querySelector('[tabindex="'+e+'"]').focus()}.bind(this)),Mousetrap.bind("right",function(){this.lastTabIndex;this.lastTabIndex=document.activeElement.tabIndex;var e=-1===document.activeElement.tabIndex||document.activeElement.tabIndex+1>this.letterLimit?1:document.activeElement.tabIndex+1;document.querySelector('[tabindex="'+e+'"]').focus()}.bind(this)),Mousetrap.bind("up",function(){this.lastTabIndex;this.lastTabIndex=document.activeElement.tabIndex;var e=window.innerHeight>window.innerWidth?3:4,t=-1===document.activeElement.tabIndex?1:document.activeElement.tabIndex-e>0?document.activeElement.tabIndex-e:this.jumbotronIndexCompute();document.querySelector('[tabindex="'+t+'"]').focus()}.bind(this)),Mousetrap.bind("down",function(){var e=this.lastTabIndex;this.lastTabIndex=document.activeElement.tabIndex;var t=window.innerHeight>window.innerWidth?3:4,n=document.activeElement.tabIndex+t<this.jumbotronIndexCompute()?document.activeElement.tabIndex+t:document.activeElement.tabIndex===this.jumbotronIndexCompute()?e:document.activeElement.tabIndex,i=-1===document.activeElement.tabIndex?1:n;document.querySelector('[tabindex="'+i+'"]').focus()}.bind(this)),Mousetrap.bind("backspace",function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,void 0}),document.getElementById("friendly_message").setAttribute("hidden",!0),document.querySelector("[unresolved]").removeAttribute("unresolved"),this.showHelp(),document.cookie.indexOf("cookieconsent_dismissed")>-1&&(this.$.so.noCancelOnOutsideClick=!1),this.async(function(){this.fire("set-default-options"),this.$.selectLang.selectedIndex=_findWithAttr(this.languageList,"abbrev",this.gameLang),this.$.meiselspracheliste.selectedIndex=_findWithAttr(this.nerdSpracheList,"abbrev",this.nerdSprache)},200)},setDefaults:function(){var e=JSON.parse(localStorage.getItem("tinavg-earmodus")),t=JSON.parse(localStorage.getItem("tinavg-learnmodus")),n=JSON.parse(localStorage.getItem("tinavg-recordmodus")),i=JSON.parse(localStorage.getItem("tinavg-nerdmodus")),s=localStorage.getItem("tinavg-lastlang"),a=localStorage.getItem("tinavg-nerdsprache");void 0!==e?this.earmodus=e:this.earmodus=!1,void 0!==t?this.learnmodus=t:this.learnmodus=!1,void 0!==n?this.recordmodus=n:this.recordmodus=!1,void 0!==i?this.nerdmodus=i:this.nerdmodus=!1,null!==this.gameLang?void 0:-1===_findWithAttr(this.languageList,"abbrev",s)?(void 0,this.gameLang="de"):this.gameLang=s,-1===_findWithAttr(this.nerdSpracheList,"abbrev",a)?this.nerdSprache="disable":this.nerdSprache=a,this.$.jt.forceLearnmodus(this.learnmodus)},setLangHelp:function(){var e=this.$.lettergrid.getLangHelpInfo();e?document.getElementById("help-lang-specific").innerHTML=e:document.getElementById("help-lang-specific").innerHTML=""},letterTapped:function(e){this.$.jt.lastBucket=e.detail.letter,this.firebaseRef&&this.fbLetterSeq(e)},fbLetterSeq:function(e){if(0===this.letterSeq.length&&"!!!"===e.detail.letter||this.letterSeq.push(e.detail.letter),this.firebaseRef){var t=this.firebaseRef.getAuth();t&&this.firebaseWordRef.child("letters").set(this.letterSeq)}else this.firebaseLogin()},showHelp:function(e){this.async(function(){this.$.so.open()},200),e&&(this.$.so.noCancelOnOutsideClick=!1)},showClue:function(e){this.$.wboard.revealWord(),this.$.clueshow.classList.contains("glow-yellow")&&this.$.clueshow.classList.remove("glow-yellow"),"rotateX(360deg)"===this.$.clueshow.style.transform?this.$.clueshow.style.transform="rotateX(0deg)":this.$.clueshow.style.transform="rotateX(360deg)"},showMenuPanel:function(e){this.firebaseRef||this.firebaseLogin()},toggleEarModus:function(){this.earmodus=!this.earmodus},toggleLearnModus:function(){this.recordmodus||(this.learnmodus=!this.learnmodus,this.$.jt.resetBox())},toggleRecordModus:function(){this.recordmodus=!this.recordmodus,this.learnmodus=this.recordmodus,this.$.jt.resetBox()},setLang:function(e){void 0,this.gameLang=e.target.value,this.$.jt.resetBox()},setLangManual:function(e,t){var n=["emoji"];n.indexOf(e)>-1&&(t=!0),void 0,_findWithAttr(this.languageList,"abbrev",e)>-1||t?(localStorage.getItem("tinavg-lastlang")!==e&&localStorage.setItem("tinavg-lastlang",e),this.gameLang=e):void 0,this.gameLang=e,this.$.jt.resetBox()},setWBoardDisplay:function(){this.$.wboard.setDisplayWord()},switchModus:function(){var e,t=_findWithAttr(this.languageList,"abbrev",this.gameLang);e=t+1<this.languageList.length&&-1!==t?this.languageList[t+1].abbrev:this.languageList[0].abbrev,history.replaceState(null,null,"/#!/lang/"+e),this.gameLang=e,this.$.selectLang.selectedIndex=t,this.$.jt.resetBox()},toggleNerdModus:function(){this.nerdmodus=!this.nerdmodus,this.showÜbersetzung()},"showÜbersetzung":function(){"disable"!==this.nerdSprache&&(void 0!==this.$.wboard.getWordObj().übersetzung&&this.$.wboard.getWordObj().übersetzung[this.nerdSprache]?this.$.übersetzung.text=this.$.wboard.getWordObj().übersetzung[this.nerdSprache]:void 0!==this.$.wboard.getWordObj().uebersetzungen[this.nerdSprache]?this.$.übersetzung.text=this.$.wboard.getWordObj().uebersetzungen[this.nerdSprache]:this.$.übersetzung.text="Es tut mir Leid.  Keine Übersetzung :-(",this.$.übersetzung.show())},lettersSet:function(){if(this.showÜbersetzung(),this.letterSeq=[],this.firebaseRef){var e=this.firebaseRef.getAuth();if(e){var t=this.$.wboard.getWordObj(),n={word:t.word,ohne:t.ohne};this.firebaseWordRef=this.firebaseRef.child("users").child(e.uid).child("words").push(n),this.firebaseWordRef.child("timestamp").set(Firebase.ServerValue.TIMESTAMP)}}else this.firebaseLogin();this.setLangHelp()},setNerdSprache:function(e){this.nerdSprache=e.target.value,this.showÜbersetzung()},login:function(){var e;try{e=JSON.parse(this.params)}catch(t){e=null}"password"==this.provider&&(e=e||{},e.email=this.email,e.password=this.password),this.$.firebaseLogin.login(e)},logout:function(){this.$.firebaseLogin.logout()},computeLoginHidden:function(e,t){return!e||!!t},getOptions:function(){var e={};return e.language=this.gameLang,e.learnmodus=this.learnmodus,e.recordmodus=this.recordmodus,e.nerdmodus=this.nerdmodus,e.nerdsprache=this.nerdSprache,e.earmodus=this.earmodus,e},setGameLangIndex:function(e){void 0,void 0,void 0;var t=_findWithAttr(this.languageList,"abbrev",this.gameLang);return void 0,this.glIndex=t,t},jumbotronIndexCompute:function(){return this.letterLimit?this.letterLimit+1:13},wordPercentCorrect:function(e){this.progress1=e.detail.progress,this.progress2=e.detail.secondary},confirmSWInstall:function(){void 0},swError:function(e){void 0},firebaseLogin:function(){try{var e=new Firebase("https://intense-heat-8981.firebaseio.com"),t=window.localStorage["tinavg-lastvisit"],n=window.navigator.languages,i=window.navigator.language||window.navigator.userLanguage;this.letterSeq=[],e.onAuth(function(s){s?(e.child("users").child(s.uid).update({provider:s.provider,name:_getFirebaseName(s),lastlogin:t,stimestamp:Firebase.ServerValue.TIMESTAMP,userlang:n,preflang:i,options:this.getOptions()}),e.child("users").child(s.uid).child("logins").push({lastlogin:t,stimestamp:Firebase.ServerValue.TIMESTAMP})):e.child("users").child("anonymous").child("logins").push({lastlogin:t,userlang:n,preflang:i,stimestamp:Firebase.ServerValue.TIMESTAMP})}.bind(this)),this.firebaseRef=e}catch(s){void 0}}});